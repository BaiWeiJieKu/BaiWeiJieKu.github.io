I"‚?<ul id="markdown-toc">
  <li><a href="#å…¥é—¨ä½¿ç”¨" id="markdown-toc-å…¥é—¨ä½¿ç”¨">å…¥é—¨ä½¿ç”¨</a>    <ul>
      <li><a href="#æ³¨è§£" id="markdown-toc-æ³¨è§£">æ³¨è§£</a></li>
      <li><a href="#assert" id="markdown-toc-assert">Assert</a></li>
    </ul>
  </li>
  <li><a href="#testsuite" id="markdown-toc-testsuite">TestSuite</a></li>
  <li><a href="#maven" id="markdown-toc-maven">maven</a></li>
  <li><a href="#spring" id="markdown-toc-spring">spring</a></li>
  <li><a href="#springboot" id="markdown-toc-springboot">springboot</a></li>
</ul>
<h2 id="å…¥é—¨ä½¿ç”¨">å…¥é—¨ä½¿ç”¨</h2>

<ul>
  <li>ä¸ºäº†åº”ä»˜è¿™ç§æµ‹è¯•çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ junit æµ‹è¯•æ¡†æ¶æ¥è¿›è¡Œæµ‹è¯•å·¥ä½œ</li>
  <li>é¦–å…ˆä¸‹è½½ jar åŒ…:  junit-4.9.jarï¼Œ å¯¼å…¥åˆ°é¡¹ç›®ä¸­ã€‚</li>
  <li>å®ƒæ˜¯ç”± @Test è¿›è¡Œäº†æ³¨è§£ï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">junit</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">junit.framework.Assert</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase1</span> <span class="o">{</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSum1</span><span class="o">()</span> <span class="o">{</span>
    	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">SumUtil</span><span class="o">.</span><span class="na">sum1</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    	<span class="nc">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="cm">/*
        Assert.assertEquals(result, 3); è¡¨ç¤ºå¯¹ result æ•°å€¼çš„æœŸå¾…æ˜¯ 3ï¼Œå¦‚æœæ˜¯å…¶ä»–æ•°å€¼ï¼Œå°±æ— æ³•é€šè¿‡		 æµ‹è¯•ã€‚
        */</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>
    <p>ä¸mainæ–¹æ³•è¿è¡Œä¸ä¸€æ ·ï¼Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™ï¼Œéœ€è¦é€‰æ‹© <code class="language-plaintext highlighter-rouge">Run As -&gt; JUnit Test </code>æ–¹å¼</p>
  </li>
  <li>æ–°å¢åŠ çš„æµ‹è¯•ï¼Œå¯¹åŸæ¥çš„æµ‹è¯•æ²¡æœ‰å½±å“</li>
  <li>å¦‚æœæµ‹è¯•å¤±è´¥äº†ï¼Œä¼šç«‹å³å¾—åˆ°é€šçŸ¥</li>
</ul>

<h3 id="æ³¨è§£">æ³¨è§£</h3>

<ul>
  <li>@Before @After ä¹Ÿæ˜¯å¸¸è§çš„æµ‹è¯•æ¡†æ¶æ³¨è§£ï¼Œåˆ†åˆ«ç”¨æ¥åœ¨æµ‹è¯•å¼€å§‹ä¹‹å‰åšçš„äº‹æƒ…ï¼Œå’Œç»“æŸä¹‹ååšçš„äº‹æƒ…ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">junit</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.After</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.Before</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">junit.framework.Assert</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCase1</span> <span class="o">{</span>

	<span class="nd">@Before</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æµ‹è¯•å‰çš„å‡†å¤‡å·¥ä½œï¼Œæ¯”å¦‚é“¾æ¥æ•°æ®åº“ç­‰ç­‰"</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="nd">@After</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">after</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æµ‹è¯•ç»“æŸåçš„å·¥ä½œï¼Œæ¯”å¦‚å…³é—­é“¾æ¥ç­‰ç­‰"</span><span class="o">);</span>
	<span class="o">}</span>
	
    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSum1</span><span class="o">()</span> <span class="o">{</span>
    	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">SumUtil</span><span class="o">.</span><span class="na">sum1</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
    	<span class="nc">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSum2</span><span class="o">()</span> <span class="o">{</span>
    	<span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">SumUtil</span><span class="o">.</span><span class="na">sum2</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">);</span>
    	<span class="nc">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>@Testï¼šåœ¨junit3ä¸­ï¼Œæ˜¯é€šè¿‡å¯¹æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•çš„å‘½åæ¥ç¡®å®šæ˜¯å¦æ˜¯æµ‹è¯•ï¼Œä¸”æ‰€æœ‰çš„æµ‹è¯•ç±»å¿…é¡»ç»§æ‰¿junitçš„æµ‹è¯•åŸºç±»ã€‚åœ¨junit4ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæµ‹è¯•æ–¹æ³•å˜å¾—ç®€å•å¾ˆå¤šï¼Œåªéœ€è¦åœ¨æ–¹æ³•å‰åŠ ä¸Š@Testå°±è¡Œäº†ã€‚</li>
  <li>@Ignoreï¼šæœ‰æ—¶å€™æˆ‘ä»¬æƒ³æš‚æ—¶ä¸è¿è¡ŒæŸäº›æµ‹è¯•æ–¹æ³•\æµ‹è¯•ç±»ï¼Œå¯ä»¥åœ¨æ–¹æ³•å‰åŠ ä¸Šè¿™ä¸ªæ³¨è§£ã€‚åœ¨è¿è¡Œç»“æœä¸­ï¼Œjunitä¼šç»Ÿè®¡å¿½ç•¥çš„ç”¨ä¾‹æ•°ï¼Œæ¥æé†’ä½ ã€‚ä½†æ˜¯ä¸å»ºè®®ç»å¸¸è¿™ä¹ˆåš</li>
  <li>@BeforeClassï¼šå½“æˆ‘ä»¬è¿è¡Œå‡ ä¸ªæœ‰å…³è”çš„ç”¨ä¾‹æ—¶ï¼Œå¯èƒ½ä¼šåœ¨æ•°æ®å‡†å¤‡æˆ–å…¶å®ƒå‰æœŸå‡†å¤‡ä¸­æ‰§è¡Œä¸€äº›ç›¸åŒçš„å‘½ä»¤ï¼Œè¿™ä¸ªæ—¶å€™ä¸ºäº†è®©ä»£ç æ›´æ¸…æ™°ï¼Œæ›´å°‘å†—ä½™ï¼Œå¯ä»¥å°†å…¬ç”¨çš„éƒ¨åˆ†æå–å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œï¼Œå¹¶ä¸ºè¿™ä¸ªæ–¹æ³•æ³¨è§£@BeforeClassã€‚æ„æ€æ˜¯åœ¨æµ‹è¯•ç±»é‡Œæ‰€æœ‰ç”¨ä¾‹è¿è¡Œä¹‹å‰ï¼Œè¿è¡Œä¸€æ¬¡è¿™ä¸ªæ–¹æ³•ã€‚</li>
  <li>@AfterClassï¼šè·Ÿ@BeforeClasså¯¹åº”ï¼Œåœ¨æµ‹è¯•ç±»é‡Œæ‰€æœ‰ç”¨ä¾‹è¿è¡Œä¹‹åï¼Œè¿è¡Œä¸€æ¬¡ã€‚ç”¨äºå¤„ç†ä¸€äº›æµ‹è¯•åç»­å·¥ä½œ</li>
  <li>@Beforeï¼šä¸@BeforeClassçš„åŒºåˆ«åœ¨äºï¼Œ@Beforeä¸æ­¢è¿è¡Œä¸€æ¬¡ï¼Œå®ƒä¼šåœ¨æ¯ä¸ªç”¨ä¾‹è¿è¡Œä¹‹å‰éƒ½è¿è¡Œä¸€æ¬¡ã€‚</li>
  <li>@Afterï¼šä¸@Beforeå¯¹åº”ã€‚</li>
</ul>

<h3 id="assert">Assert</h3>

<p><img src="http://stepimagewm.how2j.cn/8832.png" alt="" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">assertArrayEquals(expecteds, actuals)</th>
      <th style="text-align: center">æŸ¥çœ‹ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ã€‚</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">assertEquals(expected, actual)</td>
      <td style="text-align: center">æŸ¥çœ‹ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ç±»ä¼¼äºå­—ç¬¦ä¸²æ¯”è¾ƒä½¿ç”¨çš„equals()æ–¹æ³•</td>
    </tr>
    <tr>
      <td style="text-align: center">assertNotEquals(first, second)</td>
      <td style="text-align: center">æŸ¥çœ‹ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ç›¸ç­‰ã€‚</td>
    </tr>
    <tr>
      <td style="text-align: center">assertNull(object)</td>
      <td style="text-align: center">æŸ¥çœ‹å¯¹è±¡æ˜¯å¦ä¸ºç©ºã€‚</td>
    </tr>
    <tr>
      <td style="text-align: center">assertNotNull(object)</td>
      <td style="text-align: center">æŸ¥çœ‹å¯¹è±¡æ˜¯å¦ä¸ä¸ºç©ºã€‚</td>
    </tr>
    <tr>
      <td style="text-align: center">assertSame(expected, actual)</td>
      <td style="text-align: center">æŸ¥çœ‹ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸ç­‰ã€‚ç±»ä¼¼äºä½¿ç”¨â€œ==â€æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡</td>
    </tr>
    <tr>
      <td style="text-align: center">assertNotSame(unexpected, actual)</td>
      <td style="text-align: center">æŸ¥çœ‹ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ä¸ç›¸ç­‰ã€‚ç±»ä¼¼äºä½¿ç”¨â€œ!=â€æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡</td>
    </tr>
    <tr>
      <td style="text-align: center">assertTrue(condition)</td>
      <td style="text-align: center">æŸ¥çœ‹è¿è¡Œç»“æœæ˜¯å¦ä¸ºtrueã€‚</td>
    </tr>
    <tr>
      <td style="text-align: center">assertFalse(condition)</td>
      <td style="text-align: center">æŸ¥çœ‹è¿è¡Œç»“æœæ˜¯å¦ä¸ºfalseã€‚</td>
    </tr>
    <tr>
      <td style="text-align: center">assertThat(actual, matcher)</td>
      <td style="text-align: center">æŸ¥çœ‹å®é™…å€¼æ˜¯å¦æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶</td>
    </tr>
    <tr>
      <td style="text-align: center">fail()</td>
      <td style="text-align: center">è®©æµ‹è¯•å¤±è´¥</td>
    </tr>
  </tbody>
</table>

<h2 id="testsuite">TestSuite</h2>

<ul>
  <li>å¦‚æœæœ‰å¾ˆå¤šå·¥å…·ç±»éœ€è¦è¢«æµ‹è¯•ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ TestCase2, TestCase3, TestCase4,</li>
  <li>å¦‚æœä¸å¾—ä¸æŒ¨ä¸ªå»æ‰§è¡Œè¿™äº›å•ç‹¬çš„æµ‹è¯•ç±»ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæ‰€ä»¥å°±æœ‰äº† TestSuiteçš„æ¦‚å¿µ</li>
  <li>TestSuite å…¶å®å°±æ˜¯ä¸€ä¸‹æ‰§è¡Œå¤šä¸ªæµ‹è¯•ç±»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">junit</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runners.Suite</span><span class="o">;</span>

<span class="nd">@RunWith</span><span class="o">(</span><span class="nc">Suite</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@Suite</span><span class="o">.</span><span class="na">SuiteClasses</span><span class="o">({</span><span class="nc">TestCase1</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="nc">TestCase2</span><span class="o">.</span><span class="na">class</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestSuite</span> <span class="o">{</span>

<span class="o">}</span>

</code></pre></div></div>

<h2 id="maven">maven</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;dependency&gt;
    &lt;groupId&gt;junit&lt;/groupId&gt;
    &lt;artifactId&gt;junit&lt;/artifactId&gt;
    &lt;version&gt;4.3.1&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre></div></div>

<h2 id="spring">spring</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.how2java.test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.ContextConfiguration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringJUnit4ClassRunner</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.how2java.pojo.Category</span><span class="o">;</span>

<span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringJUnit4ClassRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@ContextConfiguration</span><span class="o">(</span><span class="s">"classpath:applicationContext.xml"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestSpring</span> <span class="o">{</span>
	<span class="nd">@Autowired</span>
	<span class="nc">Category</span> <span class="n">c</span><span class="o">;</span>

	<span class="nd">@Test</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="springboot">springboot</h2>

<ul>
  <li>ä¿®æ”¹junit ç‰ˆæœ¬ä¸º 4.12</li>
  <li>å¢åŠ  spring-boot-starter-test</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.how2java.springboot.test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit4.SpringRunner</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.how2java.springboot.Application</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.how2java.springboot.dao.CategoryDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.how2java.springboot.pojo.Category</span><span class="o">;</span>

<span class="nd">@RunWith</span><span class="o">(</span><span class="nc">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span><span class="o">(</span><span class="n">classes</span> <span class="o">=</span> <span class="nc">Application</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestJPA</span> <span class="o">{</span>

	<span class="nd">@Autowired</span> <span class="nc">CategoryDAO</span> <span class="n">dao</span><span class="o">;</span>
	
	<span class="nd">@Test</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Category</span><span class="o">&gt;</span> <span class="n">cs</span><span class="o">=</span>  <span class="n">dao</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">Category</span> <span class="n">c</span> <span class="o">:</span> <span class="n">cs</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"c.getName():"</span><span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
		<span class="o">}</span>
		
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>æœ¬æ–‡ç« å‚è€ƒè‡ªï¼šhttp://how2j.cn</p>
:ET