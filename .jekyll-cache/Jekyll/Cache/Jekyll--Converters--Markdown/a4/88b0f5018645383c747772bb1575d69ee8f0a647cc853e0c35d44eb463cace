I"Ê9<ul id="markdown-toc">
  <li><a href="#strutsxml" id="markdown-toc-strutsxml">struts.xml</a>    <ul>
      <li><a href="#package" id="markdown-toc-package">package</a></li>
      <li><a href="#action" id="markdown-toc-action">action</a></li>
      <li><a href="#result" id="markdown-toc-result">result</a></li>
      <li><a href="#ä¿®æ”¹å¸¸é‡" id="markdown-toc-ä¿®æ”¹å¸¸é‡">ä¿®æ”¹å¸¸é‡</a></li>
      <li><a href="#å¼•å…¥xml" id="markdown-toc-å¼•å…¥xml">å¼•å…¥xml</a></li>
    </ul>
  </li>
  <li><a href="#webxml" id="markdown-toc-webxml">web.xml</a></li>
  <li><a href="#actionç±»" id="markdown-toc-actionç±»">Actionç±»</a>    <ul>
      <li><a href="#æ™®é€šæ–¹å¼" id="markdown-toc-æ™®é€šæ–¹å¼">æ™®é€šæ–¹å¼</a></li>
      <li><a href="#å®ç°æ¥å£" id="markdown-toc-å®ç°æ¥å£">å®ç°æ¥å£</a></li>
      <li><a href="#ç»§æ‰¿æŠ½è±¡ç±»" id="markdown-toc-ç»§æ‰¿æŠ½è±¡ç±»">ç»§æ‰¿æŠ½è±¡ç±»</a></li>
    </ul>
  </li>
  <li><a href="#è®¿é—®action" id="markdown-toc-è®¿é—®action">è®¿é—®action</a>    <ul>
      <li><a href="#method" id="markdown-toc-method">method</a></li>
      <li><a href="#é€šé…ç¬¦" id="markdown-toc-é€šé…ç¬¦">é€šé…ç¬¦</a></li>
    </ul>
  </li>
</ul>
<h3 id="strutsxml">struts.xml</h3>

<ul>
  <li>åç§°å’Œä½ç½®å›ºå®šçš„,æ”¾åœ¨srcç›®å½•ä¸‹</li>
  <li>åœ¨é…ç½®æ–‡ä»¶ä¸­ä¸»è¦ä¸‰ä¸ªæ ‡ç­¾ packageã€actionã€resultï¼Œæ ‡ç­¾é‡Œé¢çš„å±æ€§</li>
</ul>

<h4 id="package">package</h4>

<ul>
  <li>ç±»ä¼¼äºä»£ç åŒ…ï¼ŒåŒºåˆ«ä¸åŒçš„actionï¼Œè¦é…ç½®actionï¼Œå¿…é¡»é¦–å…ˆå†™packageæ ‡ç­¾ï¼Œåœ¨packageé‡Œé¢æ‰èƒ½ é…ç½®action</li>
  <li><strong>nameå±æ€§</strong>ï¼šnameå±æ€§å€¼æ ¹åŠŸèƒ½æœ¬èº«æ²¡æœ‰å…³ç³»çš„ï¼Œåœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­å¯ä»¥å†™å¤šä¸ªpackageæ ‡ç­¾ï¼Œnameå±æ€§å€¼ä¸èƒ½ç›¸åŒçš„</li>
  <li><strong>extendså±æ€§</strong>ï¼šå±æ€§å€¼å›ºå®šçš„ï¼Œstruts-defaultã€‚å†™äº†è¿™ä¸ªå±æ€§ä¹‹åï¼Œåœ¨packageé‡Œé¢é…ç½®çš„ç±»å…·æœ‰actionåŠŸèƒ½</li>
  <li><strong>namespaceå±æ€§</strong>ï¼šnamespaceå±æ€§å€¼å’Œactionæ ‡ç­¾é‡Œé¢çš„nameå±æ€§å€¼æ„æˆè®¿é—®è·¯å¾„</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>

	<span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"demo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"hello"</span> <span class="na">class=</span><span class="s">"cn.itcast.action.HelloAction"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"ok"</span><span class="nt">&gt;</span>/hello.jsp<span class="nt">&lt;/result&gt;</span>
		<span class="nt">&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>

</code></pre></div></div>

<h4 id="action">action</h4>

<ul>
  <li>actionæ ‡ç­¾é…ç½®actionè®¿é—®è·¯å¾„</li>
  <li><strong>nameå±æ€§</strong>:namespaceå±æ€§å€¼å’Œactionæ ‡ç­¾é‡Œé¢çš„nameå±æ€§å€¼æ„æˆè®¿é—®è·¯å¾„,åœ¨packageæ ‡ç­¾é‡Œé¢å†™å¤šä¸ªactionæ ‡ç­¾ï¼Œä½†æ˜¯actionçš„nameå±æ€§å€¼ä¸èƒ½ç›¸åŒçš„</li>
  <li><strong>classå±æ€§</strong>:actionå…¨è·¯å¾„</li>
  <li><strong>methodå±æ€§</strong>:æ¯”å¦‚åœ¨actioné‡Œé¢é»˜è®¤æ‰§è¡Œçš„æ–¹æ³•executeæ–¹æ³•ï¼Œä½†æ˜¯åœ¨actioné‡Œé¢å†™å…¶ä»–çš„æ–¹æ³•.è®©actioné‡Œé¢å¤šä¸ªæ–¹æ³•æ‰§è¡Œï¼Œä½¿ç”¨methodè¿›è¡Œé…ç½®</li>
</ul>

<h4 id="result">result</h4>

<ul>
  <li>æ ¹æ®actionçš„æ–¹æ³•è¿”å›å€¼ï¼Œé…ç½®åˆ°ä¸åŒçš„è·¯å¾„é‡Œé¢</li>
  <li><strong>nameå±æ€§</strong>:å’Œæ–¹æ³•è¿”å›å€¼ä¸€æ ·</li>
  <li><strong>typeå±æ€§</strong>:é…ç½®å¦‚ä½•åˆ°è·¯å¾„ä¸­ï¼ˆè½¬å‘æˆ–è€…é‡å®šå‘ï¼‰,typeå±æ€§é»˜è®¤å€¼ åšè½¬å‘æ“ä½œ</li>
</ul>

<h4 id="ä¿®æ”¹å¸¸é‡">ä¿®æ”¹å¸¸é‡</h4>

<ul>
  <li>struts2é»˜è®¤çš„å¸¸é‡ä½ç½®ï¼šorg.apache.struts2â€”&gt;staticâ€”&gt;default.properties</li>
  <li>é»˜è®¤å¸¸é‡å¯ä»¥åœ¨struts.xmlä¸­è¿›è¡Œä¿®æ”¹</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">"struts.i18n.encoding"</span> <span class="na">value=</span><span class="s">"UTF-8"</span><span class="nt">&gt;&lt;/constant&gt;</span>
</code></pre></div></div>

<h4 id="å¼•å…¥xml">å¼•å…¥xml</h4>

<ul>
  <li>å•ç‹¬å†™é…ç½®æ–‡ä»¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶å¼•å…¥åˆ°æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­</li>
  <li>æ¯”å¦‚struts.xmlæ˜¯æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œhello.xmlæ˜¯å›¢é˜Ÿä¸­æŸä¸ªäººçš„é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨struts.xmlä¸­å¼•å…¥hello.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">"cn/itcas/action/hello.xml"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<h3 id="webxml">web.xml</h3>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;web-app&gt;</span>
	<span class="nt">&lt;filter&gt;</span>
		<span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
		<span class="nt">&lt;filter-class&gt;</span>
			org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter
		<span class="nt">&lt;/filter-class&gt;</span>
	<span class="nt">&lt;/filter&gt;</span>

	<span class="nt">&lt;filter-mapping&gt;</span>
		<span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
		<span class="nt">&lt;dispatcher&gt;</span>FORWARD<span class="nt">&lt;/dispatcher&gt;</span>
		<span class="nt">&lt;dispatcher&gt;</span>REQUEST<span class="nt">&lt;/dispatcher&gt;</span>		
		<span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
	<span class="nt">&lt;/filter-mapping&gt;</span>

<span class="nt">&lt;/web-app&gt;</span>

</code></pre></div></div>

<h3 id="actionç±»">Actionç±»</h3>

<h4 id="æ™®é€šæ–¹å¼">æ™®é€šæ–¹å¼</h4>

<ul>
  <li>åˆ›å»ºæ™®é€šç±»ï¼Œè¿™ä¸ªä¸ç»§æ‰¿ä»»ä½•ç±»ï¼Œä¸å®ç°ä»»ä½•æ¥å£</li>
</ul>

<h4 id="å®ç°æ¥å£">å®ç°æ¥å£</h4>

<ul>
  <li>åˆ›å»ºç±»ï¼Œå®ç°æ¥å£ Action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * å®ç°æ¥å£
 * @author asus
 *
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserAction</span> <span class="kd">implements</span> <span class="nc">Action</span><span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
<span class="c1">//		return "success";</span>
		<span class="k">return</span> <span class="no">SUCCESS</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<h4 id="ç»§æ‰¿æŠ½è±¡ç±»">ç»§æ‰¿æŠ½è±¡ç±»</h4>

<ul>
  <li>åˆ›å»ºç±»ï¼Œç»§æ‰¿ç±» ActionSupportï¼ˆä¸€èˆ¬ä½¿ç”¨ï¼‰</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ç»§æ‰¿ç±»
 * @author asus
 *
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PersonAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="k">return</span> <span class="no">SUCCESS</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="è®¿é—®action">è®¿é—®action</h3>

<h4 id="method">method</h4>

<ul>
  <li>ä½¿ç”¨actionæ ‡ç­¾çš„methodå±æ€§ï¼Œåœ¨è¿™ä¸ªå±æ€§é‡Œé¢å†™æ‰§è¡Œçš„actionçš„æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">cn.itcast.method</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span> <span class="o">{</span>

	<span class="c1">//æ·»åŠ </span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">add</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"add.............."</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">NONE</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//ä¿®æ”¹</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"update.............."</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">NONE</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- é…ç½®actionçš„æ–¹æ³•è®¿é—® --&gt;</span>
	 <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"methoddemo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		æœ‰methodå±æ€§ï¼šå†™è¦æ‰§è¡Œçš„actioné‡Œé¢çš„æ–¹æ³•çš„åç§°  
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"addAction"</span> <span class="na">class=</span><span class="s">"cn.itcast.method.BookAction"</span> <span class="na">method=</span><span class="s">"add"</span><span class="nt">&gt;&lt;/action&gt;</span>
		æ‰§è¡Œupdateæ–¹æ³•
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"updateAction"</span> <span class="na">class=</span><span class="s">"cn.itcast.method.BookAction"</span> <span class="na">method=</span><span class="s">"update"</span><span class="nt">&gt;&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span> 

</code></pre></div></div>

<ul>
  <li>ç¼ºé™·ï¼šactionæ¯ä¸ªæ–¹æ³•éƒ½éœ€è¦é…ç½®ï¼Œå¦‚æœactioné‡Œé¢æœ‰å¤šä¸ªæ–¹æ³•ï¼Œé…ç½®å¾ˆå¤šçš„action</li>
</ul>

<h4 id="é€šé…ç¬¦">é€šé…ç¬¦</h4>

<ul>
  <li>ä½¿ç”¨é€šé…ç¬¦æ–¹å¼å®ç°</li>
  <li>åœ¨actionæ ‡ç­¾é‡Œé¢nameå±æ€§ï¼Œnameå±æ€§å€¼é‡Œé¢å†™ ç¬¦å· *  æ˜Ÿå·</li>
  <li>æ˜Ÿå·ç†è§£ï¼š è¡¨ç¤ºåŒ¹é…ä»»æ„å†…å®¹</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">cn.itcast.method</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span> <span class="o">{</span>

	<span class="c1">//æ·»åŠ </span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">add</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"add.............."</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">NONE</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//ä¿®æ”¹</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">update</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"update.............."</span><span class="o">);</span>
		<span class="k">return</span> <span class="no">NONE</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="c">&lt;!-- é€šé…ç¬¦æ–¹å¼å®ç° --&gt;</span>
	<span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"methoddemo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!-- 
			nameå±æ€§å€¼é‡Œé¢å†™ç¬¦å· * 
			(1)æ‰§è¡Œactioné‡Œé¢çš„addæ–¹æ³•ï¼Œè®¿é—® book_addï¼Œä½¿ç”¨book_*å¯ä»¥åŒ¹é…åˆ°ï¼Œ*ç›¸å½“äºå˜æˆ add
			
			(2)æ‰§è¡Œactioné‡Œé¢çš„updateæ–¹æ³•ï¼Œè®¿é—®book_updateï¼Œä½¿ç”¨book_*å¯ä»¥åŒ¹é…åˆ°ï¼Œ*ç›¸å½“äºå˜æˆ update
			ä¸Šé¢ä¸¤ä¸ªè·¯å¾„ä½¿ç”¨ book_* å¯ä»¥åŒ¹é…åˆ°
			methodå±æ€§å†™*å€¼
		 --&gt;</span>
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"book_*"</span> <span class="na">class=</span><span class="s">"cn.itcast.method.BookAction"</span> <span class="na">method=</span><span class="s">"{1}"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span>

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è®¿é—®book_update.actionå°±ä¼šè°ƒç”¨actionç±»ä¸­çš„updateæ–¹æ³•
</code></pre></div></div>

:ET