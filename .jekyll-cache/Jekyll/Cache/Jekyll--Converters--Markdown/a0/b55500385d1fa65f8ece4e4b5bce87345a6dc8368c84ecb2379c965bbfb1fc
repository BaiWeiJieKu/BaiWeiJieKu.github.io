I"<ul id="markdown-toc">
  <li><a href="#hashmap和concurrenthashmap的区别" id="markdown-toc-hashmap和concurrenthashmap的区别">HashMap和ConcurrentHashMap的区别</a></li>
</ul>
<h3 id="hashmap和concurrenthashmap的区别">HashMap和ConcurrentHashMap的区别</h3>

<ul>
  <li><strong>Hashmap</strong>本质是数组加链表。根据key取得hash值，然后计算出数组下标，如果多个key对应到同一个下标，就把数据用链表串起来，新插入的在前面，然后放到key对应的下标位置。</li>
  <li><strong>多线程环境下，使用Hashmap进行put操作会引起死循环，导致CPU利用率接近100%，所以在并发情况下不能使用HashMap。</strong></li>
  <li><strong>ConcurrentHashMap</strong>：在hashMap的基础上，ConcurrentHashMap将数据分为多个segment(段)，默认16个（concurrency level），然后每次操作对一个segment(段)加锁，避免多线程锁的几率，提高并发效率，他是<strong>线程安全的</strong>。</li>
</ul>
:ET