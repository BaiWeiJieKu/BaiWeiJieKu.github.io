I"‹’<ul id="markdown-toc">
  <li><a href="#çº¿ç¨‹å…«å¤§æ ¸å¿ƒåŸºç¡€" id="markdown-toc-çº¿ç¨‹å…«å¤§æ ¸å¿ƒåŸºç¡€">çº¿ç¨‹å…«å¤§æ ¸å¿ƒåŸºç¡€</a></li>
  <li><a href="#å¤šçº¿ç¨‹å®ç°æ–¹å¼" id="markdown-toc-å¤šçº¿ç¨‹å®ç°æ–¹å¼">å¤šçº¿ç¨‹å®ç°æ–¹å¼</a></li>
  <li><a href="#å¯åŠ¨çº¿ç¨‹æ­£ç¡®æ–¹å¼" id="markdown-toc-å¯åŠ¨çº¿ç¨‹æ­£ç¡®æ–¹å¼">å¯åŠ¨çº¿ç¨‹æ­£ç¡®æ–¹å¼</a></li>
  <li><a href="#æ­£ç¡®åœæ­¢çº¿ç¨‹" id="markdown-toc-æ­£ç¡®åœæ­¢çº¿ç¨‹">æ­£ç¡®åœæ­¢çº¿ç¨‹</a></li>
</ul>
<h3 id="çº¿ç¨‹å…«å¤§æ ¸å¿ƒåŸºç¡€">çº¿ç¨‹å…«å¤§æ ¸å¿ƒåŸºç¡€</h3>

<h3 id="å¤šçº¿ç¨‹å®ç°æ–¹å¼">å¤šçº¿ç¨‹å®ç°æ–¹å¼</h3>

<ul>
  <li>
    <p>å®ç°å¤šçº¿ç¨‹çš„æ–¹å¼æœ‰ä¸€ç§ï¼Œä¸¤ç§è¿˜æ˜¯å››ç§ï¼Ÿ</p>

    <ul>
      <li>å®˜æ–¹æŒ‡æ˜å®ç°å¤šçº¿ç¨‹çš„æ–¹å¼æœ‰ä¸¤ç§</li>
      <li>æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»</li>
    </ul>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     ç”¨Threadæ–¹å¼å®ç°çº¿ç¨‹
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadStyle</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç”¨Threadç±»å®ç°çº¿ç¨‹"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">ThreadStyle</span><span class="o">().</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>â€‹</p>

    <ul>
      <li>æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£(ä¼˜å…ˆé€‰æ‹©)</li>
    </ul>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     ç”¨Runnableæ–¹å¼åˆ›å»ºçº¿ç¨‹
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RunnableStyle</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">RunnableStyle</span><span class="o">());</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç”¨Runnableæ–¹æ³•å®ç°çº¿ç¨‹"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <ul>
      <li>åŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µ</li>
    </ul>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">threadcoreknowledge.createthreads</span><span class="o">;</span>

<span class="cm">/**
 * æè¿°ï¼š     åŒæ—¶ä½¿ç”¨Runnableå’ŒThreadä¸¤ç§å®ç°çº¿ç¨‹çš„æ–¹å¼
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BothRunnableThread</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æˆ‘æ¥è‡ªRunnable"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">})</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æˆ‘æ¥è‡ªThread"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*
ç»“æœï¼šæˆ‘æ¥è‡ªThread
åŸå› ï¼šçœ‹Threadæºç 
å› ä¸ºé‡å†™äº†Threadçš„runæ–¹æ³•ï¼Œæ‰€ä»¥åŸæœ¬çš„runæ–¹æ³•å°±ä¸è¢«æ‰§è¡Œäº†
*/</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>æ€»ç»“æ¥è¯´ï¼Œåˆ›å»ºçº¿ç¨‹åªæœ‰ä¸€ç§æ–¹å¼ï¼Œé‚£å°±æ˜¯æ„é€ Threadç±»ï¼Œè€Œå®ç°çº¿ç¨‹çš„æ‰§è¡Œå•å…ƒæœ‰ä¸¤ç§æ–¹å¼ã€‚</p>

        <p>æ–¹å¼ä¸€ï¼šå®ç°Runnableæ¥å£çš„runæ–¹æ³•ï¼Œå¹¶æŠŠRunnableå®ä¾‹ä¼ ç»™Threadç±»</p>

        <p>æ–¹å¼äºŒï¼šé‡å†™Threadçš„runæ–¹æ³•ï¼ˆé›†æˆThreadç±»ï¼‰</p>
      </li>
    </ul>
  </li>
  <li>
    <p>é”™è¯¯è§‚ç‚¹ï¼š<strong>è¿™äº›æ–¹å¼éƒ½æ˜¯ä¸€äº›è¡¨é¢ç°è±¡ï¼Œæœ¬è´¨éƒ½æ˜¯é‚£ä¸¤ç§æ–¹å¼</strong></p>

    <ul>
      <li>çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹ä¹Ÿç®—æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼ï¼šå†…éƒ¨å®ç°ä¹Ÿæ˜¯åˆ›å»ºçš„Threadå¯¹è±¡</li>
    </ul>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹çš„æ–¹æ³•
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreadPool5</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ExecutorService</span> <span class="n">executorService</span> <span class="o">=</span> <span class="nc">Executors</span><span class="o">.</span><span class="na">newCachedThreadPool</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">executorService</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="k">new</span> <span class="nc">Task</span><span class="o">()</span> <span class="o">{});</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Task</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <ul>
      <li>é€šè¿‡Callableå’ŒFutureTaskåˆ›å»ºçº¿ç¨‹ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼</li>
      <li>æ— è¿”å›å€¼æ˜¯å®ç°Runnableæ¥å£ï¼Œæœ‰è¿”å›å€¼æ˜¯å®ç°callableæ¥å£ï¼Œæ‰€ä»¥callableæ˜¯å®ç°çº¿ç¨‹æ–°æ–¹å¼</li>
      <li>å®šæ—¶å™¨ï¼ŒåŒ¿åå†…éƒ¨ç±»ï¼Œlambdaè¡¨è¾¾å¼</li>
    </ul>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     å®šæ—¶å™¨åˆ›å»ºçº¿ç¨‹
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DemoTimmerTask</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Timer</span> <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Timer</span><span class="o">();</span>
        <span class="n">timer</span><span class="o">.</span><span class="na">scheduleAtFixedRate</span><span class="o">(</span><span class="k">new</span> <span class="nc">TimerTask</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">},</span> <span class="mi">1000</span><span class="o">,</span> <span class="mi">1000</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnonymousInnerClassDemo</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}.</span><span class="na">start</span><span class="o">();</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     lambdaè¡¨è¾¾å¼åˆ›å»ºçº¿ç¨‹
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Lambda</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">())).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="å¯åŠ¨çº¿ç¨‹æ­£ç¡®æ–¹å¼">å¯åŠ¨çº¿ç¨‹æ­£ç¡®æ–¹å¼</h3>

<ul>
  <li>
    <p>æ€æ ·æ‰æ˜¯å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ï¼Ÿ</p>
  </li>
  <li>
    <p>startæ–¹æ³•çš„å«ä¹‰</p>

    <p>å¯åŠ¨æ–°çº¿ç¨‹</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     å¯¹æ¯”startå’Œrunä¸¤ç§å¯åŠ¨çº¿ç¨‹çš„æ–¹å¼
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StartAndRunMethod</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>

        <span class="o">};</span>
        <span class="n">runnable</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>

        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="n">runnable</span><span class="o">).</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div>    </div>

    <p>â€‹</p>

    <p>å‡†å¤‡å·¥ä½œ</p>

    <p>ä¸èƒ½é‡å¤startï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºçº¿ç¨‹æœ‰ä¸€ä¸ªçŠ¶æ€å±æ€§ï¼Œæ¯æ¬¡å¯åŠ¨çº¿ç¨‹éƒ½ä¼šå»æ£€æŸ¥</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">threadcoreknowledge.startthread</span><span class="o">;</span>

<span class="cm">/**
 * æè¿°ï¼š     æ¼”ç¤ºä¸èƒ½ä¸¤æ¬¡è°ƒç”¨startæ–¹æ³•ï¼Œå¦åˆ™ä¼šæŠ¥é”™
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CantStartTwice</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">();</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div>    </div>

    <p>â€‹</p>
  </li>
  <li>
    <p>runæ–¹æ³•çš„å«ä¹‰</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Runnable</span> <span class="n">target</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">if</span><span class="o">(</span><span class="n">target</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">){</span>
  <span class="n">target</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
<span class="o">}</span>

</code></pre></div>    </div>
  </li>
  <li>
    <p>å¯åŠ¨çº¿ç¨‹åº”è¯¥è°ƒç”¨startæ–¹æ³•ï¼Œä»è€Œé—´æ¥çš„è°ƒç”¨runæ–¹æ³•</p>
  </li>
</ul>

<h3 id="æ­£ç¡®åœæ­¢çº¿ç¨‹">æ­£ç¡®åœæ­¢çº¿ç¨‹</h3>

<ul>
  <li>å¦‚ä½•æ­£ç¡®åœæ­¢çº¿ç¨‹ï¼Ÿ</li>
  <li>åŸç†ä»‹ç»ï¼šä½¿ç”¨interruptæ¥é€šçŸ¥ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶</li>
  <li>æ­£å¸¸ä¸­æ–­çº¿ç¨‹</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">threadcoreknowledge.stopthreads</span><span class="o">;</span>

<span class="cm">/**
 * æè¿°ï¼š     runæ–¹æ³•å†…æ²¡æœ‰sleepæˆ–waitæ–¹æ³•æ—¶ï¼Œåœæ­¢çº¿ç¨‹
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RightWayStopThreadWithoutSleep</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="c1">//é€šè¿‡æ£€æŸ¥çº¿ç¨‹æ˜¯å¦å·²ç»è¢«ä¸­æ–­</span>
        <span class="k">while</span> <span class="o">(!</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">isInterrupted</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">10000</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num</span> <span class="o">+</span> <span class="s">"æ˜¯10000çš„å€æ•°"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">num</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ä»»åŠ¡è¿è¡Œç»“æŸäº†"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">RightWayStopThreadWithoutSleep</span><span class="o">());</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">interrupt</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>ç¡çœ æƒ…å†µä¸‹ä¸­æ–­</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cm">/**
 * æè¿°ï¼š     å¸¦æœ‰sleepçš„ä¸­æ–­çº¿ç¨‹çš„å†™æ³•
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RightWayStopThreadWithSleep</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">300</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">isInterrupted</span><span class="o">())</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num</span> <span class="o">+</span> <span class="s">"æ˜¯100çš„å€æ•°"</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="n">num</span><span class="o">++;</span>
                <span class="o">}</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="n">runnable</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">interrupt</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>å¾ªç¯å†…ç¡çœ </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     å¦‚æœåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šè°ƒç”¨sleepæˆ–waitç­‰æ–¹æ³•ï¼Œé‚£ä¹ˆä¸éœ€è¦æ¯æ¬¡è¿­ä»£éƒ½æ£€æŸ¥æ˜¯å¦å·²ä¸­æ–­
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RightWayStopThreadWithSleepEveryLoop</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">10000</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num</span> <span class="o">+</span> <span class="s">"æ˜¯100çš„å€æ•°"</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="n">num</span><span class="o">++;</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="n">runnable</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">5000</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">interrupt</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>ä¸­æ–­å¤±æ•ˆï¼Œå¦‚æœåœ¨sleepä¸­è¿›è¡Œä¸­æ–­ï¼Œä¼šæ¸…é™¤ä¸­æ–­æ ‡è¯†ï¼Œæ‰€ä»¥å»æ£€æµ‹çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­æ˜¯æ£€æµ‹ä¸åˆ°çš„</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * æè¿°ï¼š     å¦‚æœwhileé‡Œé¢æ”¾try/catchï¼Œä¼šå¯¼è‡´ä¸­æ–­å¤±æ•ˆ
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CantInterrupt</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="nc">Runnable</span> <span class="n">runnable</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">10000</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">isInterrupted</span><span class="o">())</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num</span> <span class="o">+</span> <span class="s">"æ˜¯100çš„å€æ•°"</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="n">num</span><span class="o">++;</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">};</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="n">runnable</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">5000</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">interrupt</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>ä¼˜å…ˆé€‰æ‹©ï¼šä¼ é€’ä¸­æ–­</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cm">/**
 * æè¿°ï¼š     æœ€ä½³å®è·µï¼šcatchäº†InterruptedExcetionä¹‹åçš„ä¼˜å…ˆé€‰æ‹©ï¼šåœ¨æ–¹æ³•ç­¾åä¸­æŠ›å‡ºå¼‚å¸¸ é‚£ä¹ˆåœ¨run()å°±ä¼šå¼ºåˆ¶try/catch
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RightWayStopThreadInProd</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">isInterrupted</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"go"</span><span class="o">);</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">throwInMethod</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
                <span class="c1">//ä¿å­˜æ—¥å¿—ã€åœæ­¢ç¨‹åº</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ä¿å­˜æ—¥å¿—"</span><span class="o">);</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">throwInMethod</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
      		<span class="c1">//å‘ä¸ŠæŠ›å‡ºå¼‚å¸¸</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="nc">Thread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">RightWayStopThreadInProd</span><span class="o">());</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">interrupt</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
:ET