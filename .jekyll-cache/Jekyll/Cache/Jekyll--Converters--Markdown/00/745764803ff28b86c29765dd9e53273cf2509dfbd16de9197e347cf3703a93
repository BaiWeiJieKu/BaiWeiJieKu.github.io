I"Íô<ul id="markdown-toc">
  <li><a href="#lambda-è¡¨è¾¾å¼" id="markdown-toc-lambda-è¡¨è¾¾å¼">Lambda è¡¨è¾¾å¼</a>    <ul>
      <li><a href="#è¯­æ³•æ ¼å¼" id="markdown-toc-è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</a></li>
      <li><a href="#å‡½æ•°å¼æ¥å£" id="markdown-toc-å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£</a></li>
      <li><a href="#functionæ¥å£" id="markdown-toc-functionæ¥å£">Functionæ¥å£</a>        <ul>
          <li><a href="#composeå’Œandthen" id="markdown-toc-composeå’Œandthen">composeå’ŒandThen</a></li>
        </ul>
      </li>
      <li><a href="#bifunctionæ¥å£" id="markdown-toc-bifunctionæ¥å£">BiFunctionæ¥å£</a></li>
      <li><a href="#predicateæ¥å£" id="markdown-toc-predicateæ¥å£">Predicateæ¥å£</a>        <ul>
          <li><a href="#ä¸æˆ–é" id="markdown-toc-ä¸æˆ–é">ä¸ã€æˆ–ã€é</a></li>
        </ul>
      </li>
      <li><a href="#supplieræ¥å£" id="markdown-toc-supplieræ¥å£">Supplieræ¥å£</a>        <ul>
          <li><a href="#æ–¹æ³•å¼•ç”¨" id="markdown-toc-æ–¹æ³•å¼•ç”¨">æ–¹æ³•å¼•ç”¨</a></li>
        </ul>
      </li>
      <li><a href="#optionalç±»å¤„ç†npe" id="markdown-toc-optionalç±»å¤„ç†npe">Optionalç±»å¤„ç†NPE</a></li>
    </ul>
  </li>
  <li><a href="#streamæµ" id="markdown-toc-streamæµ">streamæµ</a>    <ul>
      <li><a href="#collectæ”¶é›†å™¨" id="markdown-toc-collectæ”¶é›†å™¨">collectæ”¶é›†å™¨</a></li>
    </ul>
  </li>
  <li><a href="#jodaæ—¶é—´å¤„ç†" id="markdown-toc-jodaæ—¶é—´å¤„ç†">jodaæ—¶é—´å¤„ç†</a></li>
</ul>

<h3 id="lambda-è¡¨è¾¾å¼">Lambda è¡¨è¾¾å¼</h3>

<ul>
  <li>
    <p>Lambda è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ç§°ä¸ºé—­åŒ…ï¼Œå®ƒæ˜¯æ¨åŠ¨ Java 8 å‘å¸ƒçš„æœ€é‡è¦æ–°ç‰¹æ€§ã€‚</p>
  </li>
  <li>
    <p>Lambda å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰ã€‚</p>
  </li>
  <li>
    <p>Lambdaè¡¨è¾¾å¼æ˜¯ä¸€ç§åŒ¿åå‡½æ•°ï¼Œå®ƒæ²¡æœ‰å£°æ˜çš„æ–¹æ³•ï¼Œå³æ²¡æœ‰è®¿é—®ä¿®é¥°ç¬¦ï¼Œè¿”å›å€¼å£°æ˜å’Œåå­—</p>
  </li>
  <li>
    <p>ä¸€ä¸ªLambdaè¡¨è¾¾å¼å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°</p>

    <p>å‚æ•°çš„ç±»å‹æ—¢å¯ä»¥æ˜ç¡®å£°æ˜ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­ï¼Œä¾‹å¦‚ï¼š(int a)å’Œ(a)æ•ˆæœç›¸åŒ</p>

    <p>æ‰€æœ‰å‚æ•°éœ€è¦åŒ…å«åœ¨åœ†æ‹¬å·å†…ï¼Œå‚æ•°ä¹‹é—´ç”¨é€—å·ç›¸éš”ã€‚ä¾‹å¦‚ï¼š(a,b)æˆ–(int a,int b)</p>

    <p>ç©ºåœ†æ‹¬å·ä»£è¡¨å‚æ•°é›†ä¸ºç©ºã€‚<code class="language-plaintext highlighter-rouge">() -&gt; 42</code></p>

    <p>å½“åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸”å…¶ç±»å‹å¯ä»¥æ¨å¯¼æ—¶ï¼Œåœ†æ‹¬å·å¯ä»¥çœç•¥<code class="language-plaintext highlighter-rouge">a -&gt; return a*a</code></p>

    <p>Lambdaè¡¨è¾¾å¼çš„ä¸»ä½“å¯åŒ…å«é›¶æ¡æˆ–å¤šæ¡è¯­å¥</p>

    <p>å¦‚æœLambdaè¡¨è¾¾å¼çš„ä¸»ä½“åªæœ‰ä¸€æ¡è¯­å¥ï¼ŒèŠ±æ‹¬å·å¯çœç•¥ã€‚åŒ¿åå‡½æ•°çš„è¿”å›ç±»å‹ä¸è¯¥ä¸»ä½“è¡¨è¾¾å¼ä¸€è‡´</p>

    <p>å¦‚æœLambdaè¡¨è¾¾å¼çš„ä¸»ä½“åŒ…å«ä¸€æ¡ä»¥ä¸Šè¯­å¥ï¼Œåˆ™è¡¨è¾¾å¼å¿…é¡»åŒ…å«åœ¨èŠ±æ‹¬å·ä¸­ã€‚åŒ¿åå‡½æ•°çš„è¿”å›ç±»å‹ä¸ä»£ç å—çš„è¿”å›ç±»å‹ä¸€è‡´ï¼Œè‹¥æ²¡æœ‰è¿”å›åˆ™ä¸ºç©º</p>
  </li>
  <li>
    <p>ç‰¹å¾ï¼š</p>
  </li>
  <li><strong>å¯é€‰ç±»å‹å£°æ˜ï¼š</strong>ä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚</li>
  <li><strong>å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼š</strong>ä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·</li>
  <li><strong>å¯é€‰çš„å¤§æ‹¬å·ï¼š</strong>å¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚</li>
  <li>
    <p><strong>å¯é€‰çš„è¿”å›å…³é”®å­—ï¼š</strong>å¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šæ˜è¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚</p>
  </li>
  <li>
    <p>Lambda è¡¨è¾¾å¼éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>

    <p>Lambda è¡¨è¾¾å¼ä¸»è¦ç”¨æ¥å®šä¹‰è¡Œå†…æ‰§è¡Œçš„æ–¹æ³•ç±»å‹æ¥å£</p>

    <p>Lambda è¡¨è¾¾å¼å…å»äº†ä½¿ç”¨åŒ¿åæ–¹æ³•çš„éº»çƒ¦</p>
  </li>
</ul>

<h4 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span><span class="n">parameters</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">expression</span>
<span class="n">æˆ–</span>
<span class="o">(</span><span class="n">parameters</span><span class="o">)</span> <span class="o">-&gt;{</span> <span class="n">statements</span><span class="o">;</span> <span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1. ä¸éœ€è¦å‚æ•°,è¿”å›å€¼ä¸º 5  </span>
<span class="o">()</span> <span class="o">-&gt;</span> <span class="mi">5</span>  
  
<span class="c1">// 2. æ¥æ”¶ä¸€ä¸ªå‚æ•°(æ•°å­—ç±»å‹),è¿”å›å…¶2å€çš„å€¼  </span>
<span class="n">x</span> <span class="o">-&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>  
  
<span class="c1">// 3. æ¥å—2ä¸ªå‚æ•°(æ•°å­—),å¹¶è¿”å›ä»–ä»¬çš„å·®å€¼  </span>
<span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="err">â€“</span> <span class="n">y</span>  
  
<span class="c1">// 4. æ¥æ”¶2ä¸ªintå‹æ•´æ•°,è¿”å›ä»–ä»¬çš„å’Œ  </span>
<span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>  
  
<span class="c1">// 5. æ¥å—ä¸€ä¸ª string å¯¹è±¡,å¹¶åœ¨æ§åˆ¶å°æ‰“å°,ä¸è¿”å›ä»»ä½•å€¼(çœ‹èµ·æ¥åƒæ˜¯è¿”å›void)  </span>
<span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Java8Tester</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[]){</span>
      <span class="nc">Java8Tester</span> <span class="n">tester</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Java8Tester</span><span class="o">();</span>
        
      <span class="c1">// ç±»å‹å£°æ˜</span>
      <span class="nc">MathOperation</span> <span class="n">addition</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
        
      <span class="c1">// ä¸ç”¨ç±»å‹å£°æ˜</span>
      <span class="nc">MathOperation</span> <span class="n">subtraction</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
        
      <span class="c1">// å¤§æ‹¬å·ä¸­çš„è¿”å›è¯­å¥</span>
      <span class="nc">MathOperation</span> <span class="n">multiplication</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;</span> <span class="o">};</span>
        
      <span class="c1">// æ²¡æœ‰å¤§æ‹¬å·åŠè¿”å›è¯­å¥</span>
      <span class="nc">MathOperation</span> <span class="n">division</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">;</span>
        
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"10 + 5 = "</span> <span class="o">+</span> <span class="n">tester</span><span class="o">.</span><span class="na">operate</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="n">addition</span><span class="o">));</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"10 - 5 = "</span> <span class="o">+</span> <span class="n">tester</span><span class="o">.</span><span class="na">operate</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="n">subtraction</span><span class="o">));</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"10 x 5 = "</span> <span class="o">+</span> <span class="n">tester</span><span class="o">.</span><span class="na">operate</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="n">multiplication</span><span class="o">));</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"10 / 5 = "</span> <span class="o">+</span> <span class="n">tester</span><span class="o">.</span><span class="na">operate</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="n">division</span><span class="o">));</span>
        
      <span class="c1">// ä¸ç”¨æ‹¬å·</span>
      <span class="nc">GreetingService</span> <span class="n">greetService1</span> <span class="o">=</span> <span class="n">message</span> <span class="o">-&gt;</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello "</span> <span class="o">+</span> <span class="n">message</span><span class="o">);</span>
        
      <span class="c1">// ç”¨æ‹¬å·</span>
      <span class="nc">GreetingService</span> <span class="n">greetService2</span> <span class="o">=</span> <span class="o">(</span><span class="n">message</span><span class="o">)</span> <span class="o">-&gt;</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello "</span> <span class="o">+</span> <span class="n">message</span><span class="o">);</span>
        
      <span class="n">greetService1</span><span class="o">.</span><span class="na">sayMessage</span><span class="o">(</span><span class="s">"Runoob"</span><span class="o">);</span>
      <span class="n">greetService2</span><span class="o">.</span><span class="na">sayMessage</span><span class="o">(</span><span class="s">"Google"</span><span class="o">);</span>
      
   <span class="o">}</span>
    
   <span class="kd">interface</span> <span class="nc">MathOperation</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="nf">operation</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
   <span class="o">}</span>
    
   <span class="kd">interface</span> <span class="nc">GreetingService</span> <span class="o">{</span>
      <span class="kt">void</span> <span class="nf">sayMessage</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">);</span>
   <span class="o">}</span>
    
   <span class="kd">private</span> <span class="kt">int</span> <span class="nf">operate</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="nc">MathOperation</span> <span class="n">mathOperation</span><span class="o">){</span>
      <span class="k">return</span> <span class="n">mathOperation</span><span class="o">.</span><span class="na">operation</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*
10 + 5 = 15
10 - 5 = 5
10 x 5 = 50
10 / 5 = 2
Hello Runoob
Hello Google
*/</span>
</code></pre></div></div>

<h4 id="å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£</h4>

<ul>
  <li>å¦‚æœä¸€ä¸ªæ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥æ¥å£å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£</li>
  <li>å¦‚æœåœ¨æŸä¸ªæ¥å£ä¸Šå£°æ˜äº†ä¸€ä¸ªFunctionalInterfaceæ³¨è§£ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæŒ‰ç…§å‡½æ•°å¼æ¥å£çš„å®šä¹‰æ¥è¦æ±‚è¯¥æ¥å£</li>
  <li>
    <p>å¦‚æœæŸä¸ªæ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æˆ‘ä»¬å¹¶æ²¡æœ‰ç»™è¯¥æ¥å£å£°æ˜FunctionalInterfaceæ³¨è§£ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¾æ—§ä¼šå°†è¯¥æ¥å£çœ‹åšæ˜¯å‡½æ•°å¼æ¥å£</p>
  </li>
  <li>åœ¨å°†å‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘çš„è¯­è¨€ä¸­ï¼Œlambdaè¡¨è¾¾å¼çš„ç±»å‹æ˜¯å‡½æ•°ï¼ˆæ¯”å¦‚JavaScriptï¼‰ï¼Œä½†åœ¨javaä¸­ï¼Œlambdaè¡¨è¾¾å¼æ˜¯å¯¹è±¡ï¼Œä»–ä»¬å¿…é¡»ä¾èµ–äºä¸€ç±»ç‰¹åˆ«çš„å¯¹è±¡ç±»å‹ï¼šå‡½æ•°å¼æ¥å£ï¼ˆfunctional interfaceï¼‰ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//éå†é›†åˆ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">});</span>
<span class="c1">//æ–¹æ³•å¼•ç”¨ï¼šmethod reference</span>
<span class="n">list</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
<span class="c1">//-------------------------------------------</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"str"</span><span class="o">,</span><span class="s">"hello"</span><span class="o">);</span>
<span class="c1">//å­˜æ”¾listä¸­å…ƒç´ è½¬æ¢ä¸ºå¤§å†™åçš„é›†åˆ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">list2</span><span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">item</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">res</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">())});</span>
<span class="c1">//ä½¿ç”¨streamæµæ“ä½œ</span>
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()).</span><span class="na">forEach</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">item</span><span class="o">));</span>
<span class="c1">//ä½¿ç”¨æ–¹æ³•å¼•ç”¨</span>
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">toUpperCase</span><span class="o">()).</span><span class="na">forEach</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">item</span><span class="o">));</span>
<span class="c1">//æ’åº</span>
<span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">list2</span><span class="o">,</span> <span class="o">(</span><span class="n">o1</span><span class="o">,</span><span class="n">o2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="mo">02</span><span class="o">.</span><span class="na">compateTo</span><span class="o">(</span><span class="n">o1</span><span class="o">));</span>

<span class="c1">//å»ºç«‹çº¿ç¨‹</span>
<span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"runæ–¹æ³•å®ç°"</span><span class="o">);}).</span><span class="na">start</span><span class="o">();</span>

</code></pre></div></div>

<h4 id="functionæ¥å£">Functionæ¥å£</h4>

<ul>
  <li>Lambdaè¡¨è¾¾å¼å…¶å®æ˜¯å‘Functionæ¥å£ä¼ é€’çš„ä¸€ä¸ªè¡Œä¸ºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‚æ•°</li>
  <li>è¿™ä¸ªæ¥å£çš„applyæ–¹æ³•<strong>åªæœ‰ä¸€ä¸ªè¾“å…¥å‚æ•°å’Œä¸€ä¸ªè¿”å›å€¼</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//åŸå§‹æ–¹æ³•</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">method1</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">){</span>
    <span class="c1">//2*aå…¶å®å°±æ˜¯ä¸€ç§è¡Œä¸º</span>
    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">;</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">method2</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="mi">5</span><span class="o">+</span><span class="n">a</span><span class="o">;</span>
<span class="o">}</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">method1</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span><span class="c1">//ç»“æœä¸ºï¼š4</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">method2</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span><span class="c1">//ç»“æœä¸ºï¼š7</span>
    
<span class="c1">//ä½¿ç”¨Lambdaæ–¹å¼ä¼ é€’è¡Œä¸º</span>
<span class="c1">//Function&lt;Integer,Integer&gt;è¡¨ç¤ºä¼ å…¥ä¸€ä¸ªIntegerç±»å‹ï¼Œè¿”å›ä¸€ä¸ªIntegerç±»å‹</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span><span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span><span class="n">function</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span>
<span class="c1">//Functionä¼ å…¥ä¸€ä¸ªIntegerç±»å‹ï¼Œè¿”å›ä¸€ä¸ªStringç±»å‹</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">conver</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">String</span><span class="o">&gt;</span><span class="n">function</span><span class="o">){</span>
    <span class="k">return</span> <span class="n">function</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="o">}</span>
<span class="c1">//ä¼ é€’çš„è¡Œä¸ºæ˜¯ï¼š2*value</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">compute</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="n">value</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="mi">2</span><span class="o">*</span><span class="n">value</span><span class="o">}));</span><span class="c1">//ç»“æœï¼š4</span>
<span class="c1">//ä¼ é€’çš„è¡Œä¸ºæ˜¯ï¼švalue + " hello"</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">conver</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="n">value</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">value</span> <span class="o">+</span> <span class="s">" hello"</span><span class="o">)}));</span>
</code></pre></div></div>

<h5 id="composeå’Œandthen">composeå’ŒandThen</h5>

<ul>
  <li>è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯Functionæ¥å£ä¸­çš„ä¸¤ä¸ªé»˜è®¤æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">fun1</span><span class="o">,</span><span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">fun2</span><span class="o">)</span>
<span class="o">{</span>
    <span class="c1">//composeæ–¹æ³•å…ˆæ‰§è¡Œå‚æ•°çš„functionä¸­çš„applyï¼Œç„¶åå†æ‰§è¡Œè‡ªå·±çš„applyæ–¹æ³•</span>
    <span class="k">return</span> <span class="n">fun1</span><span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">fun2</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute2</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">fun1</span><span class="o">,</span><span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">fun2</span><span class="o">)</span>
<span class="o">{</span>
    <span class="c1">//andThenæ–¹æ³•å…ˆæ‰§è¡Œè‡ªå·±çš„applyæ–¹æ³•ï¼Œç„¶åæ‰§è¡Œå‚æ•°ä¸­çš„functionçš„applyæ–¹æ³•</span>
    <span class="k">return</span> <span class="n">fun1</span><span class="o">.</span><span class="na">andThen</span><span class="o">(</span><span class="n">fun2</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
<span class="o">}</span>
<span class="c1">//ç»“æœä¸ºï¼š12ã€‚å…ˆæ‰§è¡Œå‚æ•°functionçš„è¡Œä¸º2*2=4ï¼Œç„¶åæ‰§è¡Œè‡ªå·±çš„è¡Œä¸º4*3=12</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">comupute</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">value</span> <span class="o">-&gt;</span> <span class="n">value</span> <span class="o">*</span> <span class="mi">3</span><span class="o">,</span> <span class="n">value</span> <span class="o">-&gt;</span> <span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="o">))</span>
<span class="c1">//ç»“æœä¸ºï¼š36ï¼Œå…ˆæ‰§è¡Œè‡ªå·±çš„è¡Œä¸º2*3=6ï¼Œç„¶åæ‰§è¡Œå‚æ•°functionçš„è¡Œä¸º6*6=36</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">comupute2</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">value</span> <span class="o">-&gt;</span> <span class="n">value</span> <span class="o">*</span> <span class="mi">3</span><span class="o">,</span> <span class="n">value</span> <span class="o">-&gt;</span> <span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="o">))</span>
</code></pre></div></div>

<h4 id="bifunctionæ¥å£">BiFunctionæ¥å£</h4>

<ul>
  <li>ä¸Functionæ¥å£çš„åŒºåˆ«æ˜¯applyæ–¹æ³•<strong>æœ‰ä¸¤ä¸ªè¾“å…¥å‚æ•°å’Œä¸€ä¸ªè¿”å›å€¼</strong></li>
  <li>åªæœ‰ä¸€ä¸ªandThené»˜è®¤æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span><span class="kt">int</span> <span class="n">b</span><span class="o">,</span><span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span><span class="n">function</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">function</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">compute</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,(</span><span class="n">value1</span><span class="o">,</span><span class="n">value2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">value1</span><span class="o">*</span><span class="n">value2</span><span class="o">}));</span><span class="c1">//ç»“æœï¼š6</span>


<span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute2</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span><span class="kt">int</span> <span class="n">b</span><span class="o">,</span><span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span><span class="n">bifun</span><span class="o">,</span>
                  <span class="nc">Function</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">fun</span><span class="o">){</span>
    <span class="k">return</span> <span class="n">bifun</span><span class="o">.</span><span class="na">andThen</span><span class="o">(</span><span class="n">fun</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">);</span>
<span class="o">}</span>
<span class="c1">//ç»“æœï¼š25</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">compute2</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,(</span><span class="n">value1</span><span class="o">,</span><span class="n">value2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">value1</span><span class="o">+</span><span class="n">value2</span><span class="o">},</span><span class="n">val</span> <span class="o">-&gt;</span> <span class="n">val</span><span class="o">*</span><span class="n">val</span><span class="o">));</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="nf">getPersonByUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">,</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">persons</span><span class="o">)</span>
<span class="o">{</span>
    <span class="k">return</span> <span class="n">persons</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">person</span> <span class="o">-&gt;</span> <span class="n">person</span><span class="o">.</span><span class="na">getUsername</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">username</span><span class="o">)).</span>
        <span class="n">collect</span><span class="o">(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="nf">getPersonByAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">,</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">persons</span><span class="o">)</span>
<span class="o">{</span>
    <span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;,</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;&gt;</span> <span class="n">bi</span> <span class="o">=</span> <span class="o">(</span><span class="n">ageOfPerson</span><span class="o">,</span><span class="n">personList</span><span class="o">)</span> <span class="o">-&gt;</span>
        <span class="k">return</span> <span class="n">personList</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">person</span> <span class="o">-&gt;</span> <span class="n">person</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">ageOfPerson</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">bi</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">age</span><span class="o">,</span><span class="n">persons</span><span class="o">);</span>
<span class="o">}</span>
<span class="c1">//æ›´åŠ çµæ´»ï¼Œç”±è°ƒç”¨è€…æ ¹æ®å‚æ•°åˆ¶å®šè¡Œä¸º</span>
<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="nf">getPersonByAge2</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">,</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">persons</span><span class="o">,</span><span class="nc">BiFunction</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span><span class="nc">List</span><span class="o">&lt;</span><span class="n">person</span><span class="o">&gt;&gt;</span> <span class="n">biFunction</span><span class="o">)</span>
<span class="o">{</span>
    <span class="k">return</span> <span class="n">biFunction</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">age</span><span class="o">,</span><span class="n">persons</span><span class="o">);</span>
<span class="o">}</span>

<span class="nc">Person</span> <span class="n">person1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">,</span><span class="mi">22</span><span class="o">);</span>
<span class="nc">Person</span> <span class="n">person2</span><span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"lisi"</span><span class="o">,</span><span class="mi">25</span><span class="o">);</span>
<span class="nc">Person</span> <span class="n">person3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Person</span><span class="o">(</span><span class="s">"wangwu"</span><span class="o">,</span><span class="mi">33</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">persons</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">person1</span><span class="o">,</span><span class="n">person2</span><span class="o">,</span><span class="n">person3</span><span class="o">);</span>
<span class="c1">//ä»listé›†åˆä¸­æŸ¥æ‰¾åå­—åŒ¹é…çš„å¯¹è±¡é‡æ–°å°è£…ä¸ºä¸€ä¸ªé›†åˆ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">personResult</span> <span class="o">=</span> <span class="n">xxx</span><span class="o">.</span><span class="na">getPersonByUsername</span><span class="o">(</span><span class="s">"zhagnsan"</span><span class="o">,</span><span class="n">persons</span><span class="o">);</span>
<span class="n">personResult</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">person</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">person</span><span class="o">.</span><span class="na">getUsername</span><span class="o">()));</span>

<span class="c1">//ä»listé›†åˆä¸­æŸ¥æ‰¾å¹´é¾„åœ¨èŒƒå›´å†…çš„å¯¹è±¡é‡æ–°å°è£…ä¸ºä¸€ä¸ªé›†åˆ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">personResult2</span> <span class="o">=</span> <span class="n">xxx</span><span class="o">.</span><span class="na">getPersonByAge</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span><span class="n">persons</span><span class="o">);</span>
<span class="n">personResult</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">person</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">person</span><span class="o">.</span><span class="na">getAge</span><span class="o">()));</span>
<span class="c1">//ç”±è°ƒç”¨è€…åˆ¶å®šè¡Œä¸º</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Person</span><span class="o">&gt;</span> <span class="n">personResult3</span> <span class="o">=</span> <span class="n">xxx</span><span class="o">.</span><span class="na">getgetPersonByAge2</span><span class="o">(</span><span class="mi">20</span><span class="o">,</span><span class="n">persons</span><span class="o">,(</span><span class="n">age</span><span class="o">,</span><span class="n">personList</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">personList</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">person</span> <span class="o">-&gt;</span> <span class="n">person</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="n">age</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
<span class="o">});</span>
</code></pre></div></div>

<h4 id="predicateæ¥å£">Predicateæ¥å£</h4>

<ul>
  <li>æä¾›äº†ä¸€ä¸ªtestæ–¹æ³•ï¼Œåˆ¤æ–­å‚æ•°æ˜¯å¦æ»¡è¶³ä¸€å®šæ¡ä»¶ï¼Œè¿”å›ä¸€ä¸ªbooleanå€¼</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">condition</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pre</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">integer</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">pre</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">integer</span><span class="o">))</span>
            <span class="nc">Syetem</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">integer</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">);</span>
<span class="c1">//æ‰¾å‡ºå¤§äº3çš„æ•°</span>
<span class="n">xxx</span><span class="o">.</span><span class="na">condition</span><span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="o">);</span>
<span class="c1">//æ‰“å°å…¨éƒ¨</span>
<span class="n">xxx</span><span class="o">.</span><span class="na">condition</span><span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="kc">true</span><span class="o">);</span>
</code></pre></div></div>

<h5 id="ä¸æˆ–é">ä¸ã€æˆ–ã€é</h5>

<ul>
  <li>ä¸æ“ä½œï¼šé»˜è®¤æ–¹æ³•and()</li>
  <li>æˆ–æ“ä½œï¼šé»˜è®¤æ–¹æ³•or()</li>
  <li>å–åæ“ä½œï¼šnegate()</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">condition</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pre1</span><span class="o">,</span><span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">pre2</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">integer</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">pre1</span><span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">pre2</span><span class="o">).</span><span class="na">test</span><span class="o">(</span><span class="n">integer</span><span class="o">))</span>
            <span class="nc">Syetem</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">integer</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">);</span>
<span class="c1">//è¾“å‡ºå¤§äº5å¹¶ä¸”æ˜¯å¶æ•°çš„æ•°</span>
<span class="n">xxx</span><span class="o">.</span><span class="na">condition</span><span class="o">(</span><span class="n">list</span><span class="o">,</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="o">,</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<h4 id="supplieræ¥å£">Supplieræ¥å£</h4>

<ul>
  <li>ä¸æ¥æ”¶å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªç»“æœ</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//ä¸ä¼ å…¥å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªStudentç±»å‹ï¼Œè°ƒç”¨æ— å‚æ„é€ æ–¹æ³•</span>
<span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">supplier</span> <span class="o">=</span> <span class="nc">Student</span> <span class="o">::</span> <span class="k">new</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">supplier</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>

<span class="c1">//æ¯”è¾ƒæ–¹æ³•</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getSort</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">,</span><span class="nc">String</span> <span class="n">b</span><span class="o">,</span><span class="nc">Comparator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">comparator</span><span class="o">){</span>
    <span class="k">return</span> <span class="nc">BinaryOperator</span><span class="o">.</span><span class="na">maxBy</span><span class="o">(</span><span class="n">comparator</span><span class="o">).</span><span class="na">apply</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">xxx</span><span class="o">.</span><span class="na">getSort</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span><span class="s">"world"</span><span class="o">,(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
</code></pre></div></div>

<h5 id="æ–¹æ³•å¼•ç”¨">æ–¹æ³•å¼•ç”¨</h5>

<ul>
  <li>æ–¹æ³•å¼•ç”¨é€šè¿‡æ–¹æ³•çš„åå­—æ¥æŒ‡å‘ä¸€ä¸ªæ–¹æ³•ã€‚</li>
  <li>æ–¹æ³•å¼•ç”¨ä½¿ç”¨ä¸€å¯¹å†’å· <strong>::</strong> ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="no">T</span> <span class="nf">get</span><span class="o">();</span>
<span class="o">}</span>
 
<span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
    <span class="c1">//Supplieræ˜¯jdk1.8çš„æ¥å£ï¼Œè¿™é‡Œå’Œlamdaä¸€èµ·ä½¿ç”¨äº†</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Car</span> <span class="nf">create</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Car</span><span class="o">&gt;</span> <span class="n">supplier</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">supplier</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
    <span class="o">}</span>
 
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">collide</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Car</span> <span class="n">car</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Collided "</span> <span class="o">+</span> <span class="n">car</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
 
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">follow</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Car</span> <span class="n">another</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Following the "</span> <span class="o">+</span> <span class="n">another</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
 
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">repair</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Repaired "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">//æ„é€ å™¨å¼•ç”¨ï¼šå®ƒçš„è¯­æ³•æ˜¯Class::newï¼Œæˆ–è€…æ›´ä¸€èˆ¬çš„Class&lt; T &gt;::newå®ä¾‹å¦‚ä¸‹ï¼š</span>
<span class="kd">final</span> <span class="nc">Car</span> <span class="n">car</span> <span class="o">=</span> <span class="nc">Car</span><span class="o">.</span><span class="na">create</span><span class="o">(</span> <span class="nl">Car:</span><span class="o">:</span><span class="k">new</span> <span class="o">);</span>
<span class="kd">final</span> <span class="nc">List</span><span class="o">&lt;</span> <span class="nc">Car</span> <span class="o">&gt;</span> <span class="n">cars</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span> <span class="n">car</span> <span class="o">);</span>
<span class="c1">//é™æ€æ–¹æ³•å¼•ç”¨ï¼šå®ƒçš„è¯­æ³•æ˜¯Class::static_methodï¼Œå®ä¾‹å¦‚ä¸‹ï¼š</span>
<span class="n">cars</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span> <span class="nl">Car:</span><span class="o">:</span><span class="n">collide</span> <span class="o">);</span>
<span class="c1">//ç‰¹å®šç±»çš„ä»»æ„å¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ï¼šå®ƒçš„è¯­æ³•æ˜¯Class::methodå®ä¾‹å¦‚ä¸‹ï¼š</span>
<span class="n">cars</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span> <span class="nl">Car:</span><span class="o">:</span><span class="n">repair</span> <span class="o">);</span>
<span class="c1">//ç‰¹å®šå¯¹è±¡çš„æ–¹æ³•å¼•ç”¨ï¼šå®ƒçš„è¯­æ³•æ˜¯instance::methodå®ä¾‹å¦‚ä¸‹ï¼š</span>
<span class="kd">final</span> <span class="nc">Car</span> <span class="n">police</span> <span class="o">=</span> <span class="nc">Car</span><span class="o">.</span><span class="na">create</span><span class="o">(</span> <span class="nl">Car:</span><span class="o">:</span><span class="k">new</span> <span class="o">);</span>
<span class="n">cars</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span> <span class="nl">police:</span><span class="o">:</span><span class="n">follow</span> <span class="o">);</span>
</code></pre></div></div>

<h4 id="optionalç±»å¤„ç†npe">Optionalç±»å¤„ç†NPE</h4>

<ul>
  <li>Optional ç±»æ˜¯ä¸€ä¸ªå¯ä»¥ä¸ºnullçš„å®¹å™¨å¯¹è±¡ã€‚å¦‚æœå€¼å­˜åœ¨åˆ™isPresent()æ–¹æ³•ä¼šè¿”å›trueï¼Œè°ƒç”¨get()æ–¹æ³•ä¼šè¿”å›è¯¥å¯¹è±¡ã€‚</li>
  <li>Optional æ˜¯ä¸ªå®¹å™¨ï¼šå®ƒå¯ä»¥ä¿å­˜ç±»å‹Tçš„å€¼ï¼Œæˆ–è€…ä»…ä»…ä¿å­˜nullã€‚</li>
  <li>Optional ç±»çš„å¼•å…¥å¾ˆå¥½çš„è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Java8Tester</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[]){</span>
   
      <span class="nc">Java8Tester</span> <span class="n">java8Tester</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Java8Tester</span><span class="o">();</span>
      <span class="nc">Integer</span> <span class="n">value1</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
      <span class="nc">Integer</span> <span class="n">value2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
        
      <span class="c1">// Optional.ofNullable - å…è®¸ä¼ é€’ä¸º null å‚æ•°</span>
      <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="nc">Optional</span><span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">value1</span><span class="o">);</span>
        
      <span class="c1">// Optional.of - å¦‚æœä¼ é€’çš„å‚æ•°æ˜¯ nullï¼ŒæŠ›å‡ºå¼‚å¸¸ NullPointerException</span>
      <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">value2</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">java8Tester</span><span class="o">.</span><span class="na">sum</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">));</span>
   <span class="o">}</span>
    
   <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">sum</span><span class="o">(</span><span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">b</span><span class="o">){</span>
    
      <span class="c1">// Optional.isPresent - åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨</span>
        
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç¬¬ä¸€ä¸ªå‚æ•°å€¼å­˜åœ¨: "</span> <span class="o">+</span> <span class="n">a</span><span class="o">.</span><span class="na">isPresent</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç¬¬äºŒä¸ªå‚æ•°å€¼å­˜åœ¨: "</span> <span class="o">+</span> <span class="n">b</span><span class="o">.</span><span class="na">isPresent</span><span class="o">());</span>
        
      <span class="c1">// Optional.orElse - å¦‚æœå€¼å­˜åœ¨ï¼Œè¿”å›å®ƒï¼Œå¦åˆ™è¿”å›é»˜è®¤å€¼</span>
      <span class="nc">Integer</span> <span class="n">value1</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
        
      <span class="c1">//Optional.get - è·å–å€¼ï¼Œå€¼éœ€è¦å­˜åœ¨</span>
      <span class="nc">Integer</span> <span class="n">value2</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">value1</span> <span class="o">+</span> <span class="n">value2</span><span class="o">;</span>
   <span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*
ç¬¬ä¸€ä¸ªå‚æ•°å€¼å­˜åœ¨: false
ç¬¬äºŒä¸ªå‚æ•°å€¼å­˜åœ¨: true
10
*/</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Employee</span><span class="o">();</span>
<span class="n">employee</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">);</span>
<span class="nc">Employee</span> <span class="n">employee2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Employee</span><span class="o">();</span>
<span class="n">employee2</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"lisi"</span><span class="o">);</span>
<span class="nc">Company</span> <span class="n">company</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Company</span><span class="o">();</span>
<span class="n">company</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"company1"</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Employee</span><span class="o">&gt;</span> <span class="n">employees</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">employee</span><span class="o">,</span> <span class="n">employee2</span><span class="o">);</span>
<span class="n">company</span><span class="o">.</span><span class="na">setEmployees</span><span class="o">(</span><span class="n">employees</span><span class="o">);</span>

<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Employee</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="na">getEmployees</span><span class="o">();</span>
<span class="c1">//åˆ›å»ºä¸€ä¸ªå®¹å™¨</span>
<span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">Company</span><span class="o">&gt;</span> <span class="n">optional</span> <span class="o">=</span> <span class="nc">Optional</span><span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">company</span><span class="o">);</span>
<span class="c1">//å¦‚æœlisté›†åˆä¸ä¸ºç©ºåˆ™è¿”å›ï¼Œå¦‚æœlisté›†åˆä¸ºnullï¼Œè¿”å›ä¸€ä¸ªç©ºé›†åˆ</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">optional</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">theCompany</span> <span class="o">-&gt;</span> <span class="n">theCompany</span><span class="o">.</span><span class="na">getEmployees</span><span class="o">()).</span>
                   <span class="n">orElse</span><span class="o">(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">()));</span>
</code></pre></div></div>

<h3 id="streamæµ">streamæµ</h3>

<ul>
  <li>
    <p>Stream ä½¿ç”¨ä¸€ç§ç±»ä¼¼ç”¨ SQL è¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„ç›´è§‚æ–¹å¼æ¥æä¾›ä¸€ç§å¯¹ Java é›†åˆè¿ç®—å’Œè¡¨è¾¾çš„é«˜é˜¶æŠ½è±¡ã€‚</p>
  </li>
  <li>
    <p>è¿™ç§é£æ ¼å°†è¦å¤„ç†çš„å…ƒç´ é›†åˆçœ‹ä½œä¸€ç§æµï¼Œ æµåœ¨ç®¡é“ä¸­ä¼ è¾“ï¼Œ å¹¶ä¸”å¯ä»¥åœ¨ç®¡é“çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œå¤„ç†ï¼Œ æ¯”å¦‚ç­›é€‰ï¼Œ æ’åºï¼Œèšåˆç­‰ã€‚</p>
  </li>
  <li>
    <p>å…ƒç´ æµåœ¨ç®¡é“ä¸­ç»è¿‡ä¸­é—´æ“ä½œï¼ˆintermediate operationï¼‰çš„å¤„ç†ï¼Œæœ€åç”±æœ€ç»ˆæ“ä½œ(terminal operation)å¾—åˆ°å‰é¢å¤„ç†çš„ç»“æœã€‚</p>
  </li>
  <li>
    <p>Streamï¼ˆæµï¼‰æ˜¯ä¸€ä¸ªæ¥è‡ªæ•°æ®æºçš„å…ƒç´ é˜Ÿåˆ—å¹¶æ”¯æŒèšåˆæ“ä½œ</p>

    <ul>
      <li>å…ƒç´ æ˜¯ç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œå½¢æˆä¸€ä¸ªé˜Ÿåˆ—ã€‚ Javaä¸­çš„Streamå¹¶ä¸ä¼šå­˜å‚¨å…ƒç´ ï¼Œè€Œæ˜¯æŒ‰éœ€è®¡ç®—ã€‚</li>
      <li><strong>æ•°æ®æº</strong>ï¼š æµçš„æ¥æºã€‚ å¯ä»¥æ˜¯é›†åˆï¼Œæ•°ç»„ï¼ŒI/O channelï¼Œ äº§ç”Ÿå™¨generator ç­‰ã€‚</li>
      <li><strong>èšåˆæ“ä½œ</strong>ï¼š ç±»ä¼¼SQLè¯­å¥ä¸€æ ·çš„æ“ä½œï¼Œ æ¯”å¦‚filter, map, reduce, find, match, sortedç­‰ã€‚</li>
    </ul>
  </li>
  <li>
    <p>Streamæ“ä½œè¿˜æœ‰ä¸¤ä¸ªåŸºç¡€çš„ç‰¹å¾ï¼š</p>
  </li>
  <li>
    <p><strong>Pipelining</strong>: ä¸­é—´æ“ä½œéƒ½ä¼šè¿”å›æµå¯¹è±¡æœ¬èº«ã€‚ è¿™æ ·å¤šä¸ªæ“ä½œå¯ä»¥ä¸²è”æˆä¸€ä¸ªç®¡é“ï¼Œ å¦‚åŒæµå¼é£æ ¼ï¼ˆfluent styleï¼‰ã€‚</p>
  </li>
  <li>
    <p><strong>å†…éƒ¨è¿­ä»£</strong>ï¼š ä»¥å‰å¯¹é›†åˆéå†éƒ½æ˜¯é€šè¿‡Iteratoræˆ–è€…For-Eachçš„æ–¹å¼, æ˜¾å¼çš„åœ¨é›†åˆå¤–éƒ¨è¿›è¡Œè¿­ä»£ï¼Œ è¿™å«åšå¤–éƒ¨è¿­ä»£ã€‚ Streamæä¾›äº†å†…éƒ¨è¿­ä»£çš„æ–¹å¼ï¼Œ é€šè¿‡è®¿é—®è€…æ¨¡å¼(Visitor)å®ç°ã€‚</p>
  </li>
  <li>æµçš„æ„æˆï¼šæºï¼Œé›¶ä¸ªæˆ–å¤šä¸ªä¸­é—´æ“ä½œï¼Œç»ˆæ­¢æ“ä½œã€‚</li>
  <li>æµæ“ä½œçš„åˆ†ç±»ï¼šæƒ°æ€§æ±‚å€¼ï¼ŒåŠæ—©æ±‚å€¼ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">);</span>
<span class="c1">//å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œä¹˜2ç„¶åç›¸åŠ </span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">i</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="o">).</span><span class="na">reduce</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="nl">Integer:</span><span class="o">:</span><span class="n">sum</span><span class="o">));</span>

<span class="c1">//æŠŠæµè½¬æ¢ä¸ºæ•°ç»„</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span><span class="s">"world"</span><span class="o">);</span>
<span class="nc">String</span><span class="o">[]</span> <span class="n">strArray</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="n">length</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">length</span><span class="o">));</span>
<span class="nc">String</span><span class="o">[]</span> <span class="n">strArray</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">toArray</span><span class="o">(</span><span class="nc">String</span><span class="o">[]::</span><span class="k">new</span><span class="o">);</span><span class="c1">//æ–¹æ³•å¼•ç”¨å½¢å¼</span>

<span class="c1">//æµè½¬æ¢ä¸ºé›†åˆ</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span><span class="s">"world"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collections</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
<span class="c1">//å¤æ‚æ–¹æ³•</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">(),</span> <span class="o">(</span><span class="n">theList</span><span class="o">,</span><span class="n">item</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">theList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span><span class="o">),</span> <span class="o">(</span><span class="n">theList1</span><span class="o">,</span><span class="n">theList2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">theList1</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">theList2</span><span class="o">));</span>
<span class="c1">//ä½¿ç”¨æ–¹æ³•å¼•ç”¨</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nl">LinkedList:</span><span class="o">:</span><span class="k">new</span><span class="o">,</span> <span class="nl">LinkedList:</span><span class="o">:</span><span class="n">add</span><span class="o">,</span> <span class="nl">LinkedList:</span><span class="o">:</span><span class="n">addAll</span><span class="o">);</span>

<span class="c1">//è½¬æ¢ä¸ºå„ç§é›†åˆ</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span> <span class="s">"world"</span><span class="o">,</span> <span class="s">"helloworld"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toCollection</span><span class="o">(</span><span class="nl">ArrayList:</span><span class="o">:</span><span class="k">new</span><span class="o">));</span>
<span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toCollection</span><span class="o">(</span><span class="nl">TreeSet:</span><span class="o">:</span><span class="k">new</span><span class="o">));</span>

<span class="c1">//å­—ç¬¦ä¸²è¿æ¥</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span> <span class="s">"world"</span><span class="o">,</span> <span class="s">"helloworld"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">joining</span><span class="o">()).</span><span class="na">toString</span><span class="o">();</span>

<span class="c1">//æŠŠæ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™è½¬ä¸ºlisté›†åˆè¾“å‡º</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span> <span class="s">"world"</span><span class="o">,</span> <span class="s">"helloworld"</span><span class="o">,</span> <span class="s">"test"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">String:</span><span class="o">:</span><span class="n">toUpperCase</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">()).</span><span class="na">forEach</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="c1">//æŠŠå¤šä¸ªlistä¸­çš„å…ƒç´ å…¨éƒ¨å–å‡ºæ¥æ”¾åˆ°ä¸€ä¸ªlistä¸­</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span>
                <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">6</span><span class="o">));</span>
<span class="n">stream</span><span class="o">.</span><span class="na">flatMap</span><span class="o">(</span><span class="n">theList</span> <span class="o">-&gt;</span> <span class="n">theList</span><span class="o">.</span><span class="na">stream</span><span class="o">()).</span><span class="na">map</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">*</span> <span class="n">item</span><span class="o">)</span><span class="err">ï¼›</span>

<span class="c1">//è·å–ç”Ÿæˆçš„ç¬¬ä¸€ä¸ªUUIDå­—ç¬¦ä¸²</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">generate</span><span class="o">(</span><span class="no">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">()::</span><span class="n">toString</span><span class="o">);</span>
<span class="n">stream</span><span class="o">.</span><span class="na">findFirst</span><span class="o">().</span><span class="na">ifPresent</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="c1">//åˆå§‹å€¼ä¸º1ï¼Œä»¥åæ¯ä¸ªå€¼åœ¨å‰ä¸€ä¸ªåŸºç¡€ä¸ŠåŠ 2ï¼Œå…±ç”Ÿæˆ6ä¸ªæ•°</span>
<span class="nc">Stream</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">iterate</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">+</span> <span class="mi">2</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">6</span><span class="o">);</span>
<span class="c1">//å¯¹ç”Ÿæˆçš„å…­ä¸ªæ•°å…ˆè¿‡æ»¤ï¼Œå–å¤§äº2çš„æ‰€æœ‰æ•°ï¼Œç„¶åæŠŠæ¯ä¸ªæ•°æ˜ å°„æˆintç±»å‹çš„2å€ï¼Œç„¶åå¿½ç•¥å‰ä¸¤ä¸ªæ•°ï¼Œç„¶åå–å‰ä¸¤ä¸ªæ•°æ±‚å’Œ</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stream</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">).</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">*</span> <span class="mi">2</span><span class="o">).</span><span class="na">skip</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">sum</span><span class="o">());</span>
<span class="c1">//ä½¿ç”¨summaryStatisticsæ±‚å’Œï¼Œæœ€å¤§å€¼ï¼Œæœ€å°å€¼</span>
<span class="nc">IntSummaryStatistics</span> <span class="n">summaryStatistics</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="o">).</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">*</span> <span class="mi">2</span><span class="o">).</span><span class="na">skip</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">summaryStatistics</span><span class="o">();</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">summaryStatistics</span><span class="o">.</span><span class="na">getMin</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">summaryStatistics</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">summaryStatistics</span><span class="o">.</span><span class="na">getMax</span><span class="o">());</span>

<span class="c1">//0å’Œ1å»é‡</span>
<span class="nc">IntStream</span><span class="o">.</span><span class="na">iterate</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">%</span> <span class="mi">2</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">6</span><span class="o">).</span><span class="na">distinct</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="c1">//æ’åº</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">.</span><span class="na">sorted</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="c1">//è·å–é•¿åº¦ä¸º5çš„å­—ç¬¦ä¸²ï¼Œè·å–ç¬¬ä¸€ä¸ªï¼Œå¦‚æœå­˜åœ¨å°±æ‰“å°ä¸å­˜åœ¨ä¸åšä»»ä½•æ“ä½œ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"hello"</span><span class="o">,</span> <span class="s">"world"</span><span class="o">,</span> <span class="s">"hello world"</span><span class="o">);</span>
<span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">length</span><span class="o">()).</span><span class="na">filter</span><span class="o">(</span><span class="n">length</span> <span class="o">-&gt;</span> <span class="n">length</span> <span class="o">==</span> <span class="mi">5</span><span class="o">).</span>
<span class="n">findFirst</span><span class="o">().</span><span class="na">ifPresent</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="c1">//å¯¹æ¯ä¸ªå­—ç¬¦ä¸²æ ¹æ®ç©ºæ ¼åˆ‡å‰²ï¼Œç„¶ååˆå¹¶ä¸ºä¸€ä¸ªæµï¼Œè¿›è¡Œå»é‡ï¼Œæœ€åè½¬æ¢ä¸ºä¸€ä¸ªlisté›†åˆ</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"hello welcome"</span><span class="o">,</span> <span class="s">"world hello"</span><span class="o">,</span>
                <span class="s">"hello world hello"</span><span class="o">,</span> <span class="s">"hello welcome"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">item</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">" "</span><span class="o">)).</span><span class="na">flatMap</span><span class="o">(</span><span class="nl">Arrays:</span><span class="o">:</span><span class="n">stream</span><span class="o">).</span><span class="na">distinct</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="c1">//äº¤æ›¿ç»„åˆï½›â€œHi zhangsanâ€ï¼Œâ€œHi lisiâ€ã€‚ã€‚ã€‚ã€‚ï½</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"Hi"</span><span class="o">,</span> <span class="s">"Hello"</span><span class="o">,</span> <span class="s">"ä½ å¥½"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">,</span> <span class="s">"lisi"</span><span class="o">,</span> <span class="s">"wangwu"</span><span class="o">,</span> <span class="s">"zhaoliu"</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">list1</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">flatMap</span><span class="o">(</span><span class="n">item</span> <span class="o">-&gt;</span> <span class="n">list2</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">item2</span> <span class="o">-&gt;</span> <span class="n">item</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">item2</span><span class="o">)).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>

<span class="nc">Student</span> <span class="n">student1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">20</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"lisi"</span><span class="o">,</span> <span class="mi">90</span><span class="o">,</span> <span class="mi">20</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"wangwu"</span><span class="o">,</span> <span class="mi">90</span><span class="o">,</span> <span class="mi">30</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">,</span> <span class="mi">80</span><span class="o">,</span> <span class="mi">40</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">students</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">student1</span><span class="o">,</span> <span class="n">student2</span><span class="o">,</span> <span class="n">student3</span><span class="o">,</span> <span class="n">student4</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">students</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">student1</span><span class="o">,</span> <span class="n">student2</span><span class="o">,</span> <span class="n">student3</span><span class="o">,</span> <span class="n">student4</span><span class="o">);</span>
<span class="c1">//æ ¹æ®æˆç»©åˆ†ç»„ï¼Œåˆ†ç»„çš„keyæ˜¯ä¾æ®æŒ‰ä»€ä¹ˆåˆ†ç»„å†³å®šçš„</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">));</span>
<span class="c1">//æ ¹æ®å§“ååˆ†ç»„ï¼Œç»Ÿè®¡ç»„ä¸­çš„æ•°æ®ä¸ªæ•°</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">,</span> <span class="nc">Collectors</span><span class="o">.</span><span class="na">counting</span><span class="o">()));</span>
<span class="c1">//æ ¹æ®å§“ååˆ†ç»„ï¼Œç»Ÿè®¡ç»„ä¸­çš„åˆ†æ•°å¹³å‡å€¼</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Double</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">,</span> <span class="nc">Collectors</span><span class="o">.</span><span class="na">averagingDouble</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">)));</span>
<span class="c1">//åˆ†åŒº</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
    <span class="n">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">partitioningBy</span><span class="o">(</span><span class="n">student</span> <span class="o">-&gt;</span> <span class="n">student</span><span class="o">.</span><span class="na">getScore</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="mi">90</span><span class="o">));</span>
</code></pre></div></div>

<h4 id="collectæ”¶é›†å™¨">collectæ”¶é›†å™¨</h4>

<ul>
  <li>
    <p>Collectorä½œä¸ºcollectæ–¹æ³•çš„å‚æ•°</p>

    <ul>
      <li>
        <p>Collectoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯å˜çš„æ±‡èšæ“ä½œï¼Œå°†è¾“å…¥å…ƒç´ ç´¯ç§¯åˆ°ä¸€ä¸ªå¯å˜çš„ç»“æœå®¹å™¨ä¸­ï¼›å®ƒä¼šåœ¨æ‰€æœ‰å…ƒç´ éƒ½å¤„ç†å®Œæ¯•åï¼Œå°†ç´¯ç§¯çš„ç»“æœè½¬æ¢ä¸ºä¸€ä¸ªæœ€ç»ˆçš„è¡¨ç¤ºï¼ˆè¿™æ˜¯ä¸€ä¸ªå¯é€‰æ“ä½œï¼‰ï¼Œå®ƒæ”¯æŒä¸²è¡Œä¸å¹¶è¡Œä¸¤ç§æ–¹å¼æ‰§è¡Œã€‚</p>
      </li>
      <li>Collectorsæœ¬èº«æä¾›äº†å…³äºå…³äºCollectorçš„å¸¸è§æ±‡èšå®ç°ï¼ŒCollectorsæœ¬èº«æ˜¯ä¸€ä¸ªå·¥å‚ã€‚</li>
      <li>ä¸ºäº†ç¡®ä¿ä¸²è¡Œä¸å¹¶è¡Œæ“ä½œç»“æœçš„ç­‰ä»·æ€§ï¼ŒCollectorå‡½æ•°éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šidentityï¼ˆåŒä¸€æ€§ï¼‰ä¸associativityï¼ˆç»“åˆæ€§ï¼‰ã€‚</li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Student</span> <span class="n">student1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"zhangsan"</span><span class="o">,</span> <span class="mi">80</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"lisi"</span><span class="o">,</span> <span class="mi">90</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"wangwu"</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student4</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"zhaoliu"</span><span class="o">,</span> <span class="mi">90</span><span class="o">);</span>
<span class="nc">Student</span> <span class="n">student5</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Student</span><span class="o">(</span><span class="s">"zhaoliu"</span><span class="o">,</span> <span class="mi">90</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">students</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">student1</span><span class="o">,</span> <span class="n">student2</span><span class="o">,</span> <span class="n">student3</span><span class="o">,</span> <span class="n">student4</span><span class="o">,</span> <span class="n">student5</span><span class="o">);</span>
<span class="c1">//è·å–æˆç»©ä¸ºæœ€å°å€¼çš„æ•°æ®</span>
<span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="n">minBy</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">))).</span><span class="na">ifPresent</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
<span class="c1">//è·å–æˆç»©ä¸ºæœ€å¤§å€¼çš„æ•°æ®</span>
<span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="n">maxBy</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">))).</span><span class="na">ifPresent</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
<span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="n">averagingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">));</span><span class="c1">//æ±‚å¹³å‡å€¼</span>
<span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="n">summingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">));</span><span class="c1">//æ±‚å’Œ</span>
<span class="c1">//åŒ…å«æœ€å¤§å€¼ï¼Œæœ€å°å€¼ï¼Œå’Œï¼Œå¹³å‡å€¼å’Œç»Ÿè®¡ä¿¡æ¯</span>
<span class="nc">IntSummaryStatistics</span> <span class="n">intSummaryStatistics</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="n">summarizingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">intSummaryStatistics</span><span class="o">);</span>
<span class="c1">//æŠŠæ‰€æœ‰å§“åè¿æ¥èµ·æ¥</span>
<span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="n">joining</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="n">joining</span><span class="o">(</span><span class="s">", "</span><span class="o">)));</span>
<span class="c1">//å…ˆæ ¹æ®æˆç»©åˆ†ç»„ï¼Œç„¶åæ ¹æ®å§“åå†åˆ†ç»„</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;&gt;&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="n">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">,</span> <span class="n">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">)));</span>
<span class="c1">//æ ¹æ®æˆç»©åˆ†åŒº</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;&gt;</span> <span class="n">map2</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="n">partitioningBy</span><span class="o">(</span><span class="n">student</span> <span class="o">-&gt;</span> <span class="n">student</span><span class="o">.</span><span class="na">getScore</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="o">));</span>
<span class="c1">//æ ¹æ®æˆç»©è¿›è¡Œä¸¤æ¬¡åˆ†åŒº</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">,</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">,</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;&gt;&gt;</span> <span class="n">map3</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="n">partitioningBy</span><span class="o">(</span><span class="n">student</span> <span class="o">-&gt;</span> <span class="n">student</span><span class="o">.</span><span class="na">getScore</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="o">,</span> <span class="n">partitioningBy</span><span class="o">(</span><span class="n">student</span> <span class="o">-&gt;</span> <span class="n">student</span><span class="o">.</span><span class="na">getScore</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">90</span><span class="o">)));</span>
<span class="c1">//ç»Ÿè®¡åˆ†åŒºç»“æœ</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Boolean</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="n">map4</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="n">partitioningBy</span><span class="o">(</span><span class="n">student</span> <span class="o">-&gt;</span> <span class="n">student</span><span class="o">.</span><span class="na">getScore</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="o">,</span> <span class="n">counting</span><span class="o">()));</span>
<span class="c1">//æ ¹æ®å§“ååˆ†ç»„ï¼Œæ‰¾å‡ºåˆ†ç»„åæˆç»©æœ€ä½çš„ç”¨æˆ·ä¿¡æ¯</span>
<span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Student</span><span class="o">&gt;</span> <span class="n">map5</span> <span class="o">=</span> <span class="n">students</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span>
                <span class="n">collect</span><span class="o">(</span><span class="n">groupingBy</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getName</span><span class="o">,</span> <span class="n">collectingAndThen</span><span class="o">(</span><span class="n">minBy</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparingInt</span><span class="o">(</span><span class="nl">Student:</span><span class="o">:</span><span class="n">getScore</span><span class="o">)),</span>
                        <span class="nl">Optional:</span><span class="o">:</span><span class="n">get</span><span class="o">)));</span>
</code></pre></div></div>

<h3 id="jodaæ—¶é—´å¤„ç†">jodaæ—¶é—´å¤„ç†</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//è·å–å½“å‰æ—¥æœŸæ—¶é—´</span>
<span class="nc">LocalDate</span> <span class="n">localDate</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">LocalDate</span> <span class="n">localDate5</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">LocalDate</span> <span class="n">localDate6</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2017</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">18</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate5</span><span class="o">.</span><span class="na">isAfter</span><span class="o">(</span><span class="n">localDate6</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate5</span><span class="o">.</span><span class="na">isBefore</span><span class="o">(</span><span class="n">localDate6</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate5</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">localDate6</span><span class="o">));</span>
<span class="c1">//è·å–å½“å‰å¹´ï¼Œæœˆï¼Œä¸€ä¸ªæœˆä¸­çš„ç¬¬å‡ å¤©</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">localDate</span><span class="o">.</span><span class="na">getYear</span><span class="o">()</span> <span class="o">+</span> <span class="s">", "</span> <span class="o">+</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getMonthValue</span><span class="o">()</span> <span class="o">+</span> <span class="s">", "</span> <span class="o">+</span> <span class="n">localDate</span><span class="o">.</span><span class="na">getDayOfMonth</span><span class="o">());</span>

<span class="c1">//è‡ªå®šä¹‰æ—¥æœŸæ—¶é—´</span>
<span class="nc">LocalDate</span> <span class="n">localDate2</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2017</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>

<span class="c1">//è®¾ç½®å½“å‰æ—¥æœŸçš„åç¬¬ä¸‰ä¸ªæœˆçš„æ—¥ä¸ºæœˆåˆä¸€</span>
<span class="n">localDate</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">plusMonths</span><span class="o">(</span><span class="mi">3</span><span class="o">).</span><span class="na">dayOfMonth</span><span class="o">().</span><span class="na">withMinimumValue</span><span class="o">();</span>

<span class="c1">//è·å–å½“å‰æ—¶é—´</span>
<span class="nc">LocalTime</span> <span class="n">time</span> <span class="o">=</span> <span class="nc">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="c1">//è·å–å½“å‰æ—¶é—´çš„å3å°æ—¶20åˆ†é’Ÿ</span>
<span class="nc">LocalTime</span> <span class="n">time2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="na">plusHours</span><span class="o">(</span><span class="mi">3</span><span class="o">).</span><span class="na">plusMinutes</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span>
<span class="c1">//è·å–å½“å‰æ—¥æœŸçš„åä¸¤ä¸ªæ˜ŸæœŸ</span>
<span class="nc">LocalDate</span> <span class="n">localDate1</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">plus</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="nc">ChronoUnit</span><span class="o">.</span><span class="na">WEEKS</span><span class="o">);</span>
<span class="c1">//è·å–å½“å‰æ—¥æœŸçš„å‰ä¸¤æ˜ŸæœŸ</span>
<span class="nc">LocalDate</span> <span class="n">localDate4</span> <span class="o">=</span> <span class="n">localDate</span><span class="o">.</span><span class="na">minus</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="nc">ChronoUnit</span><span class="o">.</span><span class="na">MONTHS</span><span class="o">);</span>

<span class="c1">//è·å–æ—¶åŒºçš„æ—¶é’Ÿ</span>
<span class="nc">Clock</span> <span class="n">clock</span> <span class="o">=</span> <span class="nc">Clock</span><span class="o">.</span><span class="na">systemDefaultZone</span><span class="o">();</span>

<span class="c1">//è·å–å¹´æœˆ</span>
<span class="nc">YearMonth</span> <span class="n">yearMonth</span> <span class="o">=</span> <span class="nc">YearMonth</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">yearMonth</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">yearMonth</span><span class="o">.</span><span class="na">lengthOfMonth</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">yearMonth</span><span class="o">.</span><span class="na">isLeapYear</span><span class="o">());</span>

<span class="c1">//è·å–ä¸¤ä¸ªæ—¥æœŸçš„æ—¶é—´å·®</span>
<span class="nc">LocalDate</span> <span class="n">localDate7</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
<span class="nc">LocalDate</span> <span class="n">localDate8</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2018</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">16</span><span class="o">);</span>
<span class="nc">Period</span> <span class="n">period</span> <span class="o">=</span> <span class="nc">Period</span><span class="o">.</span><span class="na">between</span><span class="o">(</span><span class="n">localDate7</span><span class="o">,</span> <span class="n">localDate8</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">period</span><span class="o">.</span><span class="na">getYears</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">period</span><span class="o">.</span><span class="na">getMonths</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">period</span><span class="o">.</span><span class="na">getDays</span><span class="o">());</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//è·å–å½“å‰æ—¥æœŸå’Œåä¸€å¤©çš„æ—¥æœŸ</span>
<span class="nc">DateTime</span> <span class="n">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTime</span><span class="o">();</span>
<span class="nc">DateTime</span> <span class="n">tomorrow</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="na">plusDays</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">today</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">tomorrow</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">));</span>

<span class="c1">//è®¾ç½®å½“å‰æ—¥æœŸä¸ºè¿™ä¸ªæœˆçš„ç¬¬ä¸€å¤©</span>
<span class="nc">DateTime</span> <span class="n">d1</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="na">withDayOfMonth</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

<span class="c1">// è®¡ç®—2å¹´å‰ç¬¬3ä¸ªæœˆæœ€å1å¤©çš„æ—¥æœŸ</span>
<span class="nc">DateTime</span> <span class="n">dateTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTime</span><span class="o">();</span>
<span class="nc">DateTime</span> <span class="n">dateTime2</span> <span class="o">=</span> <span class="n">dateTime</span><span class="o">.</span><span class="na">minusYears</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">monthOfYear</span><span class="o">().</span>
    <span class="n">setCopy</span><span class="o">(</span><span class="mi">3</span><span class="o">).</span><span class="na">dayOfMonth</span><span class="o">().</span><span class="na">withMinimumValue</span><span class="o">();</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">JodaTest3</span> <span class="o">{</span>

    <span class="c1">// æ ‡å‡†UTCæ—¶é—´ï¼š2014-11-04T09:22:54.876Z</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Date</span> <span class="nf">convertUTC2Date</span><span class="o">(</span><span class="nc">String</span> <span class="n">utcDate</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="nc">DateTime</span> <span class="n">dateTime</span> <span class="o">=</span> <span class="nc">DateTime</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">utcDate</span><span class="o">,</span> <span class="nc">DateTimeFormat</span><span class="o">.</span><span class="na">forPattern</span><span class="o">(</span><span class="s">"yyyy-MM-dd'T'HH:mm:ss.SSSZ"</span><span class="o">));</span>
            <span class="k">return</span> <span class="n">dateTime</span><span class="o">.</span><span class="na">toDate</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">convertDate2UTC</span><span class="o">(</span><span class="nc">Date</span> <span class="n">javaDate</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">DateTime</span> <span class="n">dateTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTime</span><span class="o">(</span><span class="n">javaDate</span><span class="o">,</span> <span class="nc">DateTimeZone</span><span class="o">.</span><span class="na">UTC</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dateTime</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">convertDate2LocalByDateFormat</span><span class="o">(</span><span class="nc">Date</span> <span class="n">javaDate</span><span class="o">,</span> <span class="nc">String</span> <span class="n">dateFormat</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">DateTime</span> <span class="n">dateTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTime</span><span class="o">(</span><span class="n">javaDate</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dateTime</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">dateFormat</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">JodaTest3</span><span class="o">.</span><span class="na">convertUTC2Date</span><span class="o">(</span><span class="s">"2014-11-04T09:22:54.876Z"</span><span class="o">));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">JodaTest3</span><span class="o">.</span><span class="na">convertDate2UTC</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">()));</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">JodaTest3</span><span class="o">.</span><span class="na">convertDate2LocalByDateFormat</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">(),</span> <span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="o">));</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.time.LocalDate</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.LocalTime</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.LocalDateTime</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.Month</span><span class="o">;</span>
 
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Java8Tester</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[]){</span>
      <span class="nc">Java8Tester</span> <span class="n">java8tester</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Java8Tester</span><span class="o">();</span>
      <span class="n">java8tester</span><span class="o">.</span><span class="na">testLocalDateTime</span><span class="o">();</span>
   <span class="o">}</span>
    
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testLocalDateTime</span><span class="o">(){</span>
    
      <span class="c1">// è·å–å½“å‰çš„æ—¥æœŸæ—¶é—´</span>
      <span class="nc">LocalDateTime</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å½“å‰æ—¶é—´: "</span> <span class="o">+</span> <span class="n">currentTime</span><span class="o">);</span>
       <span class="c1">//å½“å‰æ—¶é—´: 2016-04-15T16:55:48.668</span>
        
      <span class="nc">LocalDate</span> <span class="n">date1</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="na">toLocalDate</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date1: "</span> <span class="o">+</span> <span class="n">date1</span><span class="o">);</span>
       <span class="c1">//date1: 2016-04-15</span>
        
      <span class="nc">Month</span> <span class="n">month</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="na">getMonth</span><span class="o">();</span>
      <span class="kt">int</span> <span class="n">day</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="na">getDayOfMonth</span><span class="o">();</span>
      <span class="kt">int</span> <span class="n">seconds</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="na">getSecond</span><span class="o">();</span>
        
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æœˆ: "</span> <span class="o">+</span> <span class="n">month</span> <span class="o">+</span><span class="s">", æ—¥: "</span> <span class="o">+</span> <span class="n">day</span> <span class="o">+</span><span class="s">", ç§’: "</span> <span class="o">+</span> <span class="n">seconds</span><span class="o">);</span>
      <span class="c1">// æœˆ: APRIL, æ—¥: 15, ç§’: 48</span>
        
      <span class="nc">LocalDateTime</span> <span class="n">date2</span> <span class="o">=</span> <span class="n">currentTime</span><span class="o">.</span><span class="na">withDayOfMonth</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">withYear</span><span class="o">(</span><span class="mi">2012</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date2: "</span> <span class="o">+</span> <span class="n">date2</span><span class="o">);</span>
       <span class="c1">//date2: 2012-04-10T16:55:48.668</span>
        
      <span class="c1">// 12 december 2014</span>
      <span class="nc">LocalDate</span> <span class="n">date3</span> <span class="o">=</span> <span class="nc">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2014</span><span class="o">,</span> <span class="nc">Month</span><span class="o">.</span><span class="na">DECEMBER</span><span class="o">,</span> <span class="mi">12</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date3: "</span> <span class="o">+</span> <span class="n">date3</span><span class="o">);</span>
       <span class="c1">//date3: 2014-12-12</span>
        
      <span class="c1">// 22 å°æ—¶ 15 åˆ†é’Ÿ</span>
      <span class="nc">LocalTime</span> <span class="n">date4</span> <span class="o">=</span> <span class="nc">LocalTime</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">22</span><span class="o">,</span> <span class="mi">15</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date4: "</span> <span class="o">+</span> <span class="n">date4</span><span class="o">);</span>
       <span class="c1">//date4: 22:15</span>
        
      <span class="c1">// è§£æå­—ç¬¦ä¸²</span>
      <span class="nc">LocalTime</span> <span class="n">date5</span> <span class="o">=</span> <span class="nc">LocalTime</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"20:15:30"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date5: "</span> <span class="o">+</span> <span class="n">date5</span><span class="o">);</span>
      <span class="c1">// date5: 20:15:30</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.time.ZonedDateTime</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.time.ZoneId</span><span class="o">;</span>
 
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Java8Tester</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[]){</span>
      <span class="nc">Java8Tester</span> <span class="n">java8tester</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Java8Tester</span><span class="o">();</span>
      <span class="n">java8tester</span><span class="o">.</span><span class="na">testZonedDateTime</span><span class="o">();</span>
   <span class="o">}</span>
    
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testZonedDateTime</span><span class="o">(){</span>
    
      <span class="c1">// è·å–å½“å‰æ—¶é—´æ—¥æœŸ</span>
      <span class="nc">ZonedDateTime</span> <span class="n">date1</span> <span class="o">=</span> <span class="nc">ZonedDateTime</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"2015-12-03T10:15:30+05:30[Asia/Shanghai]"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"date1: "</span> <span class="o">+</span> <span class="n">date1</span><span class="o">);</span>
       <span class="c1">//date1: 2015-12-03T10:15:30+08:00[Asia/Shanghai]</span>
        
      <span class="nc">ZoneId</span> <span class="n">id</span> <span class="o">=</span> <span class="nc">ZoneId</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"Europe/Paris"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ZoneId: "</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
       <span class="c1">//ZoneId: Europe/Paris</span>
        
      <span class="nc">ZoneId</span> <span class="n">currentZone</span> <span class="o">=</span> <span class="nc">ZoneId</span><span class="o">.</span><span class="na">systemDefault</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å½“æœŸæ—¶åŒº: "</span> <span class="o">+</span> <span class="n">currentZone</span><span class="o">);</span>
       <span class="c1">//å½“æœŸæ—¶åŒº: Asia/Shanghai</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

:ET