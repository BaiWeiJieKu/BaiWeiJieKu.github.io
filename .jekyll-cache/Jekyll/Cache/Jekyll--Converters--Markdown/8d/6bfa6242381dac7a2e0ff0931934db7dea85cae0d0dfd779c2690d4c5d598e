I"ØÈ<ul id="markdown-toc">
  <li><a href="#é…ç½®æ–‡ä»¶" id="markdown-toc-é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</a></li>
  <li><a href="#å†…ç½®æ³¨è§£" id="markdown-toc-å†…ç½®æ³¨è§£">å†…ç½®æ³¨è§£</a>    <ul>
      <li><a href="#override" id="markdown-toc-override">@Override</a></li>
      <li><a href="#deprecated" id="markdown-toc-deprecated">@Deprecated</a></li>
      <li><a href="#suppresswarnings" id="markdown-toc-suppresswarnings">@SuppressWarnings</a></li>
      <li><a href="#safevarargs" id="markdown-toc-safevarargs">@SafeVarargs</a></li>
      <li><a href="#functionalinterface" id="markdown-toc-functionalinterface">@FunctionalInterface</a></li>
    </ul>
  </li>
  <li><a href="#è‡ªå®šä¹‰æ³¨è§£" id="markdown-toc-è‡ªå®šä¹‰æ³¨è§£">è‡ªå®šä¹‰æ³¨è§£</a></li>
  <li><a href="#å…ƒæ³¨è§£" id="markdown-toc-å…ƒæ³¨è§£">å…ƒæ³¨è§£</a>    <ul>
      <li><a href="#target" id="markdown-toc-target">@Target</a></li>
      <li><a href="#retention" id="markdown-toc-retention">@Retention</a></li>
      <li><a href="#inherited" id="markdown-toc-inherited">@Inherited</a></li>
      <li><a href="#documented" id="markdown-toc-documented">@Documented</a></li>
      <li><a href="#repeatable" id="markdown-toc-repeatable">@Repeatable</a></li>
    </ul>
  </li>
  <li><a href="#ç±»çº§åˆ«" id="markdown-toc-ç±»çº§åˆ«">ç±»çº§åˆ«</a>    <ul>
      <li><a href="#entity" id="markdown-toc-entity">@Entity</a></li>
      <li><a href="#table" id="markdown-toc-table">@Table</a></li>
      <li><a href="#embeddable" id="markdown-toc-embeddable">@Embeddable</a></li>
    </ul>
  </li>
  <li><a href="#å±æ€§çº§åˆ«" id="markdown-toc-å±æ€§çº§åˆ«">å±æ€§çº§åˆ«</a>    <ul>
      <li><a href="#id" id="markdown-toc-id">@Id</a></li>
      <li><a href="#sequencegenerator" id="markdown-toc-sequencegenerator">@SequenceGenerator</a></li>
      <li><a href="#generatedvalue" id="markdown-toc-generatedvalue">@GeneratedValue</a></li>
      <li><a href="#column" id="markdown-toc-column">@Column</a></li>
      <li><a href="#enbedded" id="markdown-toc-enbedded">@Enbedded</a></li>
      <li><a href="#enbeddedid" id="markdown-toc-enbeddedid">@EnbeddedId</a></li>
      <li><a href="#lob" id="markdown-toc-lob">@Lob</a></li>
      <li><a href="#version" id="markdown-toc-version">@Version</a></li>
      <li><a href="#basic" id="markdown-toc-basic">@Basic</a></li>
      <li><a href="#transient" id="markdown-toc-transient">@transient</a></li>
    </ul>
  </li>
  <li><a href="#å‚æ•°æ ¡éªŒ" id="markdown-toc-å‚æ•°æ ¡éªŒ">å‚æ•°æ ¡éªŒ</a>    <ul>
      <li><a href="#notnull" id="markdown-toc-notnull">@NotNull</a></li>
      <li><a href="#null" id="markdown-toc-null">@Null</a></li>
      <li><a href="#pattern" id="markdown-toc-pattern">@Pattern</a></li>
      <li><a href="#size" id="markdown-toc-size">@Size</a></li>
      <li><a href="#creditcardnumber" id="markdown-toc-creditcardnumber">@CreditCardNumber</a></li>
      <li><a href="#email" id="markdown-toc-email">@Email</a></li>
      <li><a href="#length" id="markdown-toc-length">@Length</a></li>
      <li><a href="#notblank" id="markdown-toc-notblank">@NotBlank</a></li>
      <li><a href="#notempty" id="markdown-toc-notempty">@NotEmpty</a></li>
      <li><a href="#range" id="markdown-toc-range">@Range</a></li>
      <li><a href="#safehtml" id="markdown-toc-safehtml">@SafeHtml</a></li>
      <li><a href="#url" id="markdown-toc-url">@URL</a></li>
      <li><a href="#assertfalse" id="markdown-toc-assertfalse">@AssertFalse</a></li>
      <li><a href="#asserttrue" id="markdown-toc-asserttrue">@AssertTrue</a></li>
      <li><a href="#decimalmaxvalue" id="markdown-toc-decimalmaxvalue">@DecimalMax(value)</a></li>
      <li><a href="#decimalminvalue" id="markdown-toc-decimalminvalue">@DecimalMin(value)</a></li>
      <li><a href="#digitsintegerfraction" id="markdown-toc-digitsintegerfraction">@Digits(integer,fraction)</a></li>
      <li><a href="#future" id="markdown-toc-future">@Future</a></li>
      <li><a href="#past" id="markdown-toc-past">@Past</a></li>
      <li><a href="#maxvalue" id="markdown-toc-maxvalue">@Max(value)</a></li>
      <li><a href="#minvalue" id="markdown-toc-minvalue">@Min(value)</a></li>
      <li><a href="#æ­£è´Ÿæ•°" id="markdown-toc-æ­£è´Ÿæ•°">æ­£è´Ÿæ•°</a></li>
    </ul>
  </li>
  <li><a href="#å…³è”çº§åˆ«" id="markdown-toc-å…³è”çº§åˆ«">å…³è”çº§åˆ«</a>    <ul>
      <li><a href="#ä¸€å¯¹ä¸€å•å‘å¤–é”®" id="markdown-toc-ä¸€å¯¹ä¸€å•å‘å¤–é”®">ä¸€å¯¹ä¸€å•å‘å¤–é”®</a></li>
      <li><a href="#ä¸€å¯¹ä¸€åŒå‘å¤–é”®" id="markdown-toc-ä¸€å¯¹ä¸€åŒå‘å¤–é”®">ä¸€å¯¹ä¸€åŒå‘å¤–é”®</a></li>
      <li><a href="#å¤šå¯¹ä¸€å•å‘å¤–é”®" id="markdown-toc-å¤šå¯¹ä¸€å•å‘å¤–é”®">å¤šå¯¹ä¸€å•å‘å¤–é”®</a></li>
      <li><a href="#å¤šå¯¹ä¸€åŒå‘å¤–é”®" id="markdown-toc-å¤šå¯¹ä¸€åŒå‘å¤–é”®">å¤šå¯¹ä¸€åŒå‘å¤–é”®</a></li>
      <li><a href="#å¤šå¯¹å¤šå•å‘å…³è”" id="markdown-toc-å¤šå¯¹å¤šå•å‘å…³è”">å¤šå¯¹å¤šå•å‘å…³è”</a></li>
      <li><a href="#å¤šå¯¹å¤šåŒå‘å…³è”" id="markdown-toc-å¤šå¯¹å¤šåŒå‘å…³è”">å¤šå¯¹å¤šåŒå‘å…³è”</a></li>
    </ul>
  </li>
</ul>
<h3 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h3>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="cp">&lt;!DOCTYPE hibernate-configuration PUBLIC
       "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd"&gt;</span>
 
<span class="nt">&lt;hibernate-configuration&gt;</span>
 
    <span class="nt">&lt;session-factory&gt;</span>
        <span class="c">&lt;!-- Database connection settings --&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"connection.driver_class"</span><span class="nt">&gt;</span>com.mysql.jdbc.Driver<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"connection.url"</span><span class="nt">&gt;</span>jdbc:mysql://localhost:3306/test?characterEncoding=UTF-8<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"connection.characterEncoding"</span><span class="nt">&gt;</span>utf-8<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"connection.username"</span><span class="nt">&gt;</span>root<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"connection.password"</span><span class="nt">&gt;</span>admin<span class="nt">&lt;/property&gt;</span>
        <span class="c">&lt;!-- SQL dialect --&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"dialect"</span><span class="nt">&gt;</span>org.hibernate.dialect.MySQLDialect<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"current_session_context_class"</span><span class="nt">&gt;</span>thread<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"show_sql"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/property&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"hbm2ddl.auto"</span><span class="nt">&gt;</span>update<span class="nt">&lt;/property&gt;</span>
<span class="c">&lt;!--    &lt;mapping resource="com/how2java/pojo/Product.hbm.xml" /&gt;æ”¹ä¸ºæ³¨è§£å¼€å‘ --&gt;</span>
        <span class="nt">&lt;mapping</span> <span class="na">class=</span><span class="s">"com.how2java.pojo.Product"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;/session-factory&gt;</span>
 
<span class="nt">&lt;/hibernate-configuration&gt;</span>

</code></pre></div></div>

<h3 id="å†…ç½®æ³¨è§£">å†…ç½®æ³¨è§£</h3>

<h4 id="override">@Override</h4>

<ul>
  <li>@Override ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¦‚toString()</li>
  <li>å¦‚æœçˆ¶ç±»æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ— æ³•ç¼–è¯‘é€šè¿‡</li>
</ul>

<h4 id="deprecated">@Deprecated</h4>

<ul>
  <li>@Deprecated è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•å·²ç»è¿‡æœŸï¼Œä¸å»ºè®®å¼€å‘è€…ä½¿ç”¨</li>
</ul>

<h4 id="suppresswarnings">@SuppressWarnings</h4>

<ul>
  <li>ä¸ªæ³¨è§£çš„ç”¨å¤„æ˜¯å¿½ç•¥è­¦å‘Šä¿¡æ¯</li>
</ul>

<h4 id="safevarargs">@SafeVarargs</h4>

<ul>
  <li>@SafeVarargsæ³¨è§£åªèƒ½ç”¨åœ¨å‚æ•°é•¿åº¦å¯å˜çš„æ–¹æ³•æˆ–æ„é€ æ–¹æ³•ä¸Šï¼Œä¸”æ–¹æ³•å¿…é¡»å£°æ˜ä¸ºstaticæˆ–finalï¼Œå¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯</li>
  <li>ä¸€ä¸ªæ–¹æ³•ä½¿ç”¨@SafeVarargsæ³¨è§£çš„å‰ææ˜¯ï¼Œå¼€å‘äººå‘˜å¿…é¡»ç¡®ä¿è¿™ä¸ªæ–¹æ³•çš„å®ç°ä¸­å¯¹æ³›å‹ç±»å‹å‚æ•°çš„å¤„ç†ä¸ä¼šå¼•å‘ç±»å‹å®‰å…¨é—®é¢˜</li>
</ul>

<h4 id="functionalinterface">@FunctionalInterface</h4>

<ul>
  <li>ç”¨äºçº¦å®šå‡½æ•°å¼æ¥å£</li>
  <li>å‡½æ•°å¼æ¥å£æ¦‚å¿µï¼š å¦‚æœæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼ˆå¯ä»¥åŒ…å«å¤šä¸ªé»˜è®¤æ–¹æ³•æˆ–å¤šä¸ªstaticæ–¹æ³•ï¼‰ï¼Œè¯¥æ¥å£ç§°ä¸ºå‡½æ•°å¼æ¥å£</li>
</ul>

<h3 id="è‡ªå®šä¹‰æ³¨è§£">è‡ªå®šä¹‰æ³¨è§£</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">anno</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">annotation</span><span class="o">.</span><span class="na">ElementType</span><span class="o">.</span><span class="na">METHOD</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">annotation</span><span class="o">.</span><span class="na">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.Documented</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Inherited</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Target</span><span class="o">;</span>

<span class="nd">@Target</span><span class="o">({</span><span class="no">METHOD</span><span class="o">,</span><span class="no">TYPE</span><span class="o">})</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="nc">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>
<span class="nd">@Inherited</span>
<span class="nd">@Documented</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="nc">JDBCConfig</span> <span class="o">{</span>
     <span class="nc">String</span> <span class="nf">ip</span><span class="o">();</span> 
     <span class="kt">int</span> <span class="nf">port</span><span class="o">()</span> <span class="k">default</span> <span class="mi">3306</span><span class="o">;</span> 
     <span class="nc">String</span> <span class="nf">database</span><span class="o">();</span> 
     <span class="nc">String</span> <span class="nf">encoding</span><span class="o">();</span> 
     <span class="nc">String</span> <span class="nf">loginName</span><span class="o">();</span> 
     <span class="nc">String</span> <span class="nf">password</span><span class="o">();</span> 
<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">anno.JDBCConfig</span><span class="o">;</span>

<span class="nd">@JDBCConfig</span><span class="o">(</span><span class="n">ip</span> <span class="o">=</span> <span class="s">"127.0.0.1"</span><span class="o">,</span> <span class="n">database</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">,</span> <span class="n">loginName</span> <span class="o">=</span> <span class="s">"root"</span><span class="o">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"admin"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBUtil</span> <span class="o">{</span>
	<span class="kd">static</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"com.mysql.jdbc.Driver"</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">anno.JDBCConfig</span><span class="o">;</span>

<span class="nd">@JDBCConfig</span><span class="o">(</span><span class="n">ip</span> <span class="o">=</span> <span class="s">"127.0.0.1"</span><span class="o">,</span> <span class="n">database</span> <span class="o">=</span> <span class="s">"test"</span><span class="o">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s">"UTF-8"</span><span class="o">,</span> <span class="n">loginName</span> <span class="o">=</span> <span class="s">"root"</span><span class="o">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"admin"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBUtil</span> <span class="o">{</span>
	<span class="kd">static</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="nc">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">"com.mysql.jdbc.Driver"</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">Connection</span> <span class="nf">getConnection</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">NoSuchMethodException</span><span class="o">,</span> <span class="nc">SecurityException</span> <span class="o">{</span>
		<span class="nc">JDBCConfig</span> <span class="n">config</span> <span class="o">=</span> <span class="nc">DBUtil</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">JDBCConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

		<span class="nc">String</span> <span class="n">ip</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">ip</span><span class="o">();</span>
		<span class="kt">int</span> <span class="n">port</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">port</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">database</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">database</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">encoding</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">encoding</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">loginName</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">loginName</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">password</span><span class="o">();</span>

		<span class="nc">String</span> <span class="n">url</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"jdbc:mysql://%s:%d/%s?characterEncoding=%s"</span><span class="o">,</span> <span class="n">ip</span><span class="o">,</span> <span class="n">port</span><span class="o">,</span> <span class="n">database</span><span class="o">,</span> <span class="n">encoding</span><span class="o">);</span>
		<span class="k">return</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">loginName</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">NoSuchMethodException</span><span class="o">,</span> <span class="nc">SecurityException</span><span class="o">,</span> <span class="nc">SQLException</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">c</span> <span class="o">=</span> <span class="n">getConnection</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="å…ƒæ³¨è§£">å…ƒæ³¨è§£</h3>

<ul>
  <li>å…ƒæ•°æ®åœ¨è‹±è¯­ä¸­å¯¹åº”å•è¯ metadataï¼Œä¸ºå…¶ä»–æ•°æ®æä¾›ä¿¡æ¯çš„æ•°æ®</li>
  <li>å…ƒæ³¨è§£ meta annotationç”¨äºæ³¨è§£ è‡ªå®šä¹‰æ³¨è§£ çš„æ³¨è§£</li>
</ul>

<h4 id="target">@Target</h4>

<ul>
  <li>@Target è¡¨ç¤ºè¿™ä¸ªæ³¨è§£èƒ½æ”¾åœ¨ä»€ä¹ˆä½ç½®ä¸Šï¼Œæ˜¯åªèƒ½æ”¾åœ¨ç±»ä¸Šï¼Ÿè¿˜æ˜¯å³å¯ä»¥æ”¾åœ¨æ–¹æ³•ä¸Šï¼Œåˆå¯ä»¥æ”¾åœ¨å±æ€§ä¸Š</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">ElementType.TYPEï¼šèƒ½ä¿®é¥°ç±»ã€æ¥å£æˆ–æšä¸¾ç±»å‹</span>

<span class="err">ElementType.FIELDï¼šèƒ½ä¿®é¥°æˆå‘˜å˜é‡</span>

<span class="err">ElementType.METHODï¼šèƒ½ä¿®é¥°æ–¹æ³•</span>

<span class="err">ElementType.PARAMETERï¼šèƒ½ä¿®é¥°å‚æ•°</span>

<span class="err">ElementType.CONSTRUCTORï¼šèƒ½ä¿®é¥°æ„é€ å™¨</span>

<span class="err">ElementType.LOCAL_VARIABLEï¼šèƒ½ä¿®é¥°å±€éƒ¨å˜é‡</span>

<span class="err">ElementType.ANNOTATION_TYPEï¼šèƒ½ä¿®é¥°æ³¨è§£</span>

<span class="err">ElementType.PACKAGEï¼šèƒ½ä¿®é¥°åŒ…</span> 
</code></pre></div></div>

<h4 id="retention">@Retention</h4>

<ul>
  <li>@Retention è¡¨ç¤ºç”Ÿå‘½å‘¨æœŸ</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">RetentionPolicy.SOURCEï¼š</span> <span class="err">æ³¨è§£åªåœ¨æºä»£ç ä¸­å­˜åœ¨ï¼Œç¼–è¯‘æˆclassä¹‹åï¼Œå°±æ²¡äº†ã€‚@Override</span> <span class="err">å°±æ˜¯è¿™ç§æ³¨è§£ã€‚</span>

<span class="err">RetentionPolicy.CLASSï¼š</span> <span class="err">æ³¨è§£åœ¨javaæ–‡ä»¶ç¼–ç¨‹æˆ.classæ–‡ä»¶åï¼Œä¾ç„¶å­˜åœ¨ï¼Œä½†æ˜¯è¿è¡Œèµ·æ¥åå°±æ²¡äº†ã€‚@Retentionçš„é»˜è®¤å€¼ï¼Œå³å½“æ²¡æœ‰æ˜¾å¼æŒ‡å®š@Retentionçš„æ—¶å€™ï¼Œå°±ä¼šæ˜¯è¿™ç§ç±»å‹</span>

<span class="err">RetentionPolicy.RUNTIMEï¼š</span> <span class="err">æ³¨è§£åœ¨è¿è¡Œèµ·æ¥ä¹‹åä¾ç„¶å­˜åœ¨ï¼Œç¨‹åºå¯ä»¥é€šè¿‡åå°„è·å–è¿™äº›ä¿¡æ¯</span>
</code></pre></div></div>

<h4 id="inherited">@Inherited</h4>

<ul>
  <li>@Inherited è¡¨ç¤ºè¯¥æ³¨è§£å…·æœ‰ç»§æ‰¿æ€§</li>
  <li>å¦‚ä¾‹ï¼Œè®¾è®¡ä¸€ä¸ªDBUtilçš„å­ç±»ï¼Œå…¶getConnection2æ–¹æ³•ï¼Œå¯ä»¥è·å–åˆ°çˆ¶ç±»DBUtilä¸Šçš„æ³¨è§£ä¿¡æ¯ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">anno.JDBCConfig</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DBUtilChild</span> <span class="kd">extends</span> <span class="nc">DBUtil</span> <span class="o">{</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">Connection</span> <span class="nf">getConnection2</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">NoSuchMethodException</span><span class="o">,</span> <span class="nc">SecurityException</span> <span class="o">{</span>
		<span class="nc">JDBCConfig</span> <span class="n">config</span> <span class="o">=</span> <span class="nc">DBUtilChild</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">JDBCConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="nc">String</span> <span class="n">ip</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">ip</span><span class="o">();</span>
		<span class="kt">int</span> <span class="n">port</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">port</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">database</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">database</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">encoding</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">encoding</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">loginName</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">loginName</span><span class="o">();</span>
		<span class="nc">String</span> <span class="n">password</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">password</span><span class="o">();</span>

		<span class="nc">String</span> <span class="n">url</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"jdbc:mysql://%s:%d/%s?characterEncoding=%s"</span><span class="o">,</span> <span class="n">ip</span><span class="o">,</span> <span class="n">port</span><span class="o">,</span> <span class="n">database</span><span class="o">,</span> <span class="n">encoding</span><span class="o">);</span>
		<span class="k">return</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">loginName</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">NoSuchMethodException</span><span class="o">,</span> <span class="nc">SecurityException</span><span class="o">,</span> <span class="nc">SQLException</span> <span class="o">{</span>
		<span class="nc">Connection</span> <span class="n">c</span> <span class="o">=</span> <span class="n">getConnection2</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="documented">@Documented</h4>

<ul>
  <li>åœ¨ç”¨javadocå‘½ä»¤ç”ŸæˆAPIæ–‡æ¡£åï¼ŒDBUtilçš„æ–‡æ¡£é‡Œä¼šå‡ºç°è¯¥æ³¨è§£è¯´æ˜</li>
</ul>

<h4 id="repeatable">@Repeatable</h4>

<ul>
  <li>å½“æ²¡æœ‰@Repeatableä¿®é¥°çš„æ—¶å€™ï¼Œæ³¨è§£åœ¨åŒä¸€ä¸ªä½ç½®ï¼Œåªèƒ½å‡ºç°ä¸€æ¬¡</li>
</ul>

<h3 id="ç±»çº§åˆ«">ç±»çº§åˆ«</h3>

<h4 id="entity">@Entity</h4>

<ul>
  <li>æ˜ å°„å®ä½“ç±»</li>
  <li><code class="language-plaintext highlighter-rouge">@Entity(name="tableName")</code></li>
  <li>name:å¯é€‰ï¼Œå¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ï¼Œè‹¥è¡¨åå’Œå®ä½“ç±»åç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥</li>
  <li>ä½¿ç”¨è¯¥æ³¨è§£æ—¶å¿…é¡»æŒ‡å®šå®ä½“ç±»çš„ä¸»é”®å±æ€§</li>
</ul>

<h4 id="table">@Table</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">@Table(name="",catalog="",schema="")</code></li>
  <li>å’Œ@Entityé…åˆä½¿ç”¨ï¼Œåªèƒ½æ ‡æ³¨åœ¨å®ä½“çš„classå®šä¹‰å¤„ï¼Œè¡¨ç¤ºå®ä½“å¯¹åº”çš„æ•°æ®è¡¨ä¿¡æ¯</li>
  <li>nameï¼šå¯é€‰ï¼Œæ˜ å°„è¡¨çš„åç§°ï¼Œé»˜è®¤è¡¨åå’Œå®ä½“åç§°ä¸€è‡´ï¼Œè‹¥ä¸ä¸€è‡´åˆ™éœ€è¦æŒ‡å®šè¡¨å</li>
  <li>catalogï¼šå¯é€‰ï¼Œè¡¨ç¤ºCatalogåç§°ï¼Œé»˜è®¤ä¸ºç©º</li>
  <li>schemaï¼šå¯é€‰ï¼Œè¡¨ç¤ºSchemaåç§°ï¼Œé»˜è®¤ä¸ºç©º</li>
  <li>å„ç§æ•°æ®åº“ç³»ç»Ÿå¯¹catalogå’Œschemaçš„æ”¯æŒå’Œå®ç°ä¸ä¸€æ ·</li>
</ul>

<h4 id="embeddable">@Embeddable</h4>

<ul>
  <li>è¡¨ç¤ºä¸€ä¸ªéEntityç±»å¯ä»¥åµŒå…¥åˆ°å¦ä¸€ä¸ªEntityç±»ä¸­ä½œä¸ºå±æ€§è€Œå­˜åœ¨</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Employee</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Department</span> <span class="n">dp</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Embeddable</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Department</span><span class="o">{</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="å±æ€§çº§åˆ«">å±æ€§çº§åˆ«</h3>

<ul>
  <li>æ·»åŠ åˆ°å±æ€§å­—æ®µä¸Šé¢æˆ–è€…getæ–¹æ³•ä¸Šå¿…é¡»ç»Ÿä¸€</li>
</ul>

<h4 id="id">@Id</h4>

<ul>
  <li>å¿…é¡»ï¼Œå®šä¹‰äº†æ˜ å°„åˆ°æ•°æ®åº“è¡¨çš„ä¸»é”®çš„å±æ€§</li>
  <li>ä¸€ä¸ªå®ä½“ç±»å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå±æ€§è¢«æ˜ å°„ä¸ºä¸»é”®</li>
  <li>å¯ç½®äºä¸»é”®å±æ€§æˆ–è€…getæ–¹æ³•å‰ï¼Œå¦‚æœæœ‰å¤šä¸ªå±æ€§å®šä¹‰ä¸ºä¸»é”®å±æ€§ï¼Œè¯¥å®ä½“ç±»å¿…é¡»å®ç°serializableæ¥å£</li>
</ul>

<h4 id="sequencegenerator">@SequenceGenerator</h4>

<ul>
  <li>æ³¨è§£å£°æ˜äº†ä¸€ä¸ªæ•°æ®åº“åºåˆ—</li>
  <li>nameï¼š è¡¨ç¤ºè¯¥è¡¨ä¸»é”®ç”Ÿæˆç­–ç•¥åç§°ï¼Œå®ƒè¢«å¼•ç”¨åœ¨@GeneratedValueä¸­è®¾ç½®çš„â€œgerneratorâ€å€¼ä¸­</li>
  <li>sequenceNameï¼š è¡¨ç¤ºç”Ÿæˆç­–ç•¥ç”¨åˆ°çš„æ•°æ®åº“åºåˆ—åç§°</li>
  <li>initialValueï¼š è¡¨ç¤ºä¸»é”®åˆå§‹å€¼ï¼Œé»˜è®¤ä¸º0</li>
  <li>allocationSizeï¼š æ¯æ¬¡ä¸»é”®å€¼å¢åŠ çš„å¤§å°ï¼Œä¾‹å¦‚è®¾ç½®æˆ1ï¼Œåˆ™è¡¨ç¤ºæ¯æ¬¡åˆ›å»ºæ–°è®°å½•åè‡ªåŠ¨åŠ 1ï¼Œé»˜è®¤ä¸º50</li>
</ul>

<h4 id="generatedvalue">@GeneratedValue</h4>

<ul>
  <li>å¯é€‰ï¼Œç”¨äºå®šä¹‰ä¸»é”®ç”Ÿæˆç­–ç•¥</li>
  <li><code class="language-plaintext highlighter-rouge">@GeneratedValue(strategy=GenerationType,generator="")</code></li>
  <li>strategy:è¡¨ç¤ºä¸»é”®ç”Ÿæˆç­–ç•¥ï¼Œå–å€¼æœ‰ï¼š</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GenerationType.AUTOï¼šæ ¹æ®åº•å±‚æ•°æ®åº“è‡ªåŠ¨é€‰æ‹©ï¼ˆé»˜è®¤ï¼‰</span>

<span class="err">GenerationType.INDENTITYï¼šæ ¹æ®æ•°æ®åº“çš„Identityå­—æ®µç”Ÿæˆ</span>

<span class="err">GenerationType.SEQUENCEï¼šä½¿ç”¨Sequenceæ¥å†³å®šä¸»é”®çš„å–å€¼</span>

<span class="err">GenerationType.TABLEï¼šä½¿ç”¨æŒ‡å®šè¡¨æ¥å†³å®šä¸»é”®å–å€¼ï¼Œç»“åˆ@TableGeneratorä½¿ç”¨</span>

</code></pre></div></div>

<h4 id="column">@Column</h4>

<ul>
  <li>å¯ä»¥å°†å±æ€§æ˜ å°„åˆ°åˆ—ï¼Œä½¿ç”¨è¯¥æ³¨è§£æ¥è¦†ç›–é»˜è®¤å€¼</li>
  <li>è¯¥æ³¨è§£æè¿°äº†æ•°æ®åº“ä¸­è¯¥å­—æ®µçš„è¯¦ç»†å®šä¹‰ï¼Œè¿™å¯¹äºæ ¹æ®JPAæ³¨è§£ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„çš„å·¥å…·éå¸¸æœ‰ä½œç”¨</li>
  <li>nameï¼šå¯é€‰ï¼Œè¡¨ç¤ºæ•°æ®åº“ä¸­è¯¥å­—æ®µçš„åç§°ï¼Œé»˜è®¤å’Œå±æ€§åä¸€è‡´</li>
  <li>nullableï¼šå¯é€‰ï¼Œè¡¨ç¤ºè¯¥å­—æ®µæ˜¯å¦å…è®¸ä¸ºnullï¼Œé»˜è®¤ä¸ºtrue</li>
  <li>uniqueï¼šå¯é€‰ï¼Œè¡¨ç¤ºè¯¥å­—æ®µæ˜¯å¦ä¸ºå”¯ä¸€æ ‡è¯†ï¼Œé»˜è®¤ä¸ºfalse</li>
  <li>lengthï¼šå¯é€‰ï¼Œæ ‡è¯†è¯¥å­—æ®µçš„å¤§å°ï¼Œä»…å¯¹Stringç±»å‹çš„å­—æ®µæœ‰æ•ˆï¼Œé»˜è®¤ä¸º255ï¼Œä¸»é”®ä¸èƒ½ä½¿ç”¨é»˜è®¤å€¼</li>
  <li>insertableï¼šå¯é€‰ï¼Œè¡¨ç¤ºåœ¨ORMæ¡†æ¶æ‰§è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œè¯¥å­—æ®µæ˜¯å¦åº”å‡ºç°insertè¯­å¥ä¸­ï¼Œé»˜è®¤ä¸ºtrue</li>
  <li>updateableï¼šå¯é€‰ï¼Œè¡¨ç¤ºåœ¨ORMæ¡†æ¶æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œè¯¥å­—æ®µæ˜¯å¦åº”è¯¥å‡ºç°åœ¨UPDATEè¯­å¥ä¸­ï¼Œé»˜è®¤ä¸ºtrue</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"product_"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kt">float</span> <span class="n">price</span><span class="o">;</span>
     
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"id"</span><span class="o">)</span>  
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"name"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Column</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"price"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">float</span> <span class="nf">getPrice</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">price</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPrice</span><span class="o">(</span><span class="kt">float</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
    <span class="o">}</span>
      
<span class="o">}</span>
</code></pre></div></div>

<h4 id="enbedded">@Enbedded</h4>

<ul>
  <li>è¯¥æ³¨è§£æ˜¯æ³¨é‡Šå±æ€§çš„ï¼Œè¡¨ç¤ºè¯¥å±æ€§çš„ç±»æ˜¯åµŒå…¥ç±»</li>
  <li>åŒæ—¶åµŒå…¥ç±»ä¹Ÿå¿…é¡»æ ‡æ³¨@Embeddableæ³¨è§£</li>
</ul>

<h4 id="enbeddedid">@EnbeddedId</h4>

<ul>
  <li>è¯¥æ³¨è§£ä½¿ç”¨åµŒå…¥å¼ä¸»é”®ç±»å®ç°å¤åˆä¸»é”®</li>
  <li>åµŒå…¥å¼ä¸»é”®ç±»å¿…é¡»å®ç°Serializableæ¥å£ã€å¿…é¡»æœ‰é»˜è®¤çš„publicæ— æƒ¨æ•°çš„æ„é€ æ–¹æ³•ã€å¿…é¡»è¦†ç›–equalså’Œhashcodeæ–¹æ³•</li>
</ul>

<h4 id="lob">@Lob</h4>

<ul>
  <li>è¯¥æ³¨è§£è¡¨ç¤ºå±æ€§å°†è¢«æŒä¹…åŒ–ä¸ºBlobæˆ–è€…Clobç±»å‹ï¼Œå…·ä½“å–å†³äºå±æ€§çš„ç±»å‹</li>
</ul>

<h4 id="version">@Version</h4>

<ul>
  <li>è¯¥æ³¨è§£æ¥å‘ç°æ•°æ®åº“è®°å½•çš„å¹¶å‘æ“ä½œï¼Œå½“JPAè¿è¡Œæ—¶æ£€æµ‹åˆ°ä¸€ä¸ªå¹¶å‘æ“ä½œä¹Ÿåœ¨è¯•å›¾æ›´æ”¹ä¸€æ¡è®°å½•ï¼Œä»–ä¼šæŠ›å‡ºä¸€ä¸ªå°è¯•æäº¤äº‹åŠ¡å¼‚å¸¸</li>
</ul>

<h4 id="basic">@Basic</h4>

<ul>
  <li>å¯¹äºä¸€äº›ç‰¹æ®Šå±æ€§ï¼Œæ¯”å¦‚é•¿æ–‡æœ¬ç±»å‹textã€å­—èŠ‚æµå‹blobçš„æ•°æ®ï¼Œåœ¨åŠ è½½Entityæ—¶ï¼Œè¿™äº›å±æ€§å¯¹åº”çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæœ‰æ—¶åˆ›å»ºå®ä½“å¦‚æœä¹ŸåŠ è½½çš„è¯ï¼Œå¯èƒ½ä¼šä¸¥é‡é€ æˆèµ„æºçš„å ç”¨ã€‚</li>
  <li>è¯¥æ³¨è§£å¯ä»¥è®¾ç½®å®ä½“å±æ€§çš„åŠ è½½æ–¹å¼ä¸ºæ‡’åŠ è½½</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">@Basic(fetch=FetchType.LAZY,optional=true)</code></p>

<h4 id="transient">@transient</h4>

<ul>
  <li>è¡¨ç¤ºè¯¥å±æ€§å¹¶éä¸€ä¸ªåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µæ˜ å°„ï¼ŒORMæ¡†æ¶å°†å¿½ç•¥è¯¥å±æ€§ï¼ŒORMé»˜è®¤ä¸º@Basic</li>
</ul>

<h3 id="å‚æ•°æ ¡éªŒ">å‚æ•°æ ¡éªŒ</h3>

<h4 id="notnull">@NotNull</h4>

<ul>
  <li>å€¼ä¸èƒ½ä¸ºç©ºï¼Œå¯¹è±¡ç±»å‹</li>
</ul>

<h4 id="null">@Null</h4>

<ul>
  <li>å€¼å¿…é¡»ä¸ºç©º</li>
</ul>

<h4 id="pattern">@Pattern</h4>

<ul>
  <li>@Pattern(regex=)ï¼šå­—ç¬¦ä¸²å¿…é¡»åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</li>
</ul>

<h4 id="size">@Size</h4>

<ul>
  <li>@Size(min=,max=)ï¼šé›†åˆçš„å…ƒç´ æ•°é‡å¿…é¡»åœ¨minå’Œmaxä¹‹é—´</li>
</ul>

<h4 id="creditcardnumber">@CreditCardNumber</h4>

<ul>
  <li>å­—ç¬¦ä¸²å¿…é¡»æ˜¯ä¿¡ç”¨å¡å·</li>
</ul>

<h4 id="email">@Email</h4>

<ul>
  <li>å­—ç¬¦ä¸²å¿…é¡»æ˜¯emailåœ°å€</li>
</ul>

<h4 id="length">@Length</h4>

<ul>
  <li>@Lengthï¼ˆmin=ï¼Œmax=ï¼‰ï¼šæ£€æŸ¥å­—ç¬¦ä¸²çš„é•¿åº¦</li>
</ul>

<h4 id="notblank">@NotBlank</h4>

<ul>
  <li>å­—ç¬¦ä¸²å¿…é¡»æœ‰å­—ç¬¦ï¼Œä¸èƒ½ä¸ºç©º</li>
</ul>

<h4 id="notempty">@NotEmpty</h4>

<ul>
  <li>å­—ç¬¦ä¸²ä¸ä¸ºnullï¼Œé›†åˆæœ‰å…ƒç´ </li>
</ul>

<h4 id="range">@Range</h4>

<ul>
  <li>@Rangeï¼ˆminï¼Œmaxï¼‰ï¼šæ•°å­—å¿…é¡»å¤§äºç­‰äºminï¼Œå°äºç­‰äºmax</li>
</ul>

<h4 id="safehtml">@SafeHtml</h4>

<ul>
  <li>å­—ç¬¦ä¸²æ˜¯å®‰å…¨çš„HTML</li>
</ul>

<h4 id="url">@URL</h4>

<ul>
  <li>å­—ç¬¦ä¸²æ˜¯åˆæ³•çš„URL</li>
</ul>

<h4 id="assertfalse">@AssertFalse</h4>

<ul>
  <li>ç”¨äºbooleanå­—æ®µï¼Œè¯¥å­—æ®µçš„å€¼åªèƒ½ä¸ºfalse</li>
</ul>

<h4 id="asserttrue">@AssertTrue</h4>

<ul>
  <li>ç”¨äºbooleanå­—æ®µï¼Œè¯¥å­—æ®µåªèƒ½ä¸ºtrue</li>
</ul>

<h4 id="decimalmaxvalue">@DecimalMax(value)</h4>

<ul>
  <li>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåªèƒ½å¤§äºæˆ–ç­‰äºè¯¥å€¼</li>
</ul>

<h4 id="decimalminvalue">@DecimalMin(value)</h4>

<ul>
  <li>è¢«æ³¨é‡Šçš„å…ƒç´ å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œåªèƒ½å°äºæˆ–ç­‰äºè¯¥å€¼</li>
</ul>

<h4 id="digitsintegerfraction">@Digits(integer,fraction)</h4>

<ul>
  <li>æ£€æŸ¥æ˜¯å¦æ˜¯ä¸€ç§æ•°å­—çš„(æ•´æ•°,å°æ•°)çš„ä½æ•°</li>
</ul>

<h4 id="future">@Future</h4>

<ul>
  <li>æ£€æŸ¥è¯¥å­—æ®µçš„æ—¥æœŸæ˜¯å¦æ˜¯å±äºå°†æ¥çš„æ—¥æœŸ</li>
</ul>

<h4 id="past">@Past</h4>

<ul>
  <li>æ£€æŸ¥è¯¥å­—æ®µçš„æ—¥æœŸæ˜¯åœ¨è¿‡å»</li>
</ul>

<h4 id="maxvalue">@Max(value)</h4>

<ul>
  <li>è¯¥å­—æ®µçš„å€¼åªèƒ½å°äºæˆ–ç­‰äºè¯¥å€¼</li>
</ul>

<h4 id="minvalue">@Min(value)</h4>

<ul>
  <li>è¯¥å­—æ®µçš„å€¼åªèƒ½å¤§äºæˆ–ç­‰äºè¯¥å€¼</li>
</ul>

<h4 id="æ­£è´Ÿæ•°">æ­£è´Ÿæ•°</h4>

<ul>
  <li>
    <p>@Negativeï¼šåˆ¤æ–­è´Ÿæ•°</p>

    <p>@NegativeOrZeroï¼šåˆ¤æ–­è´Ÿæ•°æˆ–0</p>

    <p>@Positiveï¼šåˆ¤æ–­æ­£æ•°</p>

    <p>@PositiveOrZeroï¼šåˆ¤æ–­æ­£æ•°æˆ–0</p>
  </li>
</ul>

<h3 id="å…³è”çº§åˆ«">å…³è”çº§åˆ«</h3>

<h4 id="ä¸€å¯¹ä¸€å•å‘å¤–é”®">ä¸€å¯¹ä¸€å•å‘å¤–é”®</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">IdCard</span> <span class="n">idCard</span><span class="o">;</span>
    <span class="o">...</span>
    <span class="nd">@OneToOne</span><span class="o">(</span><span class="n">cascade</span><span class="o">=</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">)</span> <span class="c1">// çº§è”å…³ç³»ï¼ˆæ•°æ®åŒæ­¥ï¼Œåˆ é™¤ä¸€è¾¹ï¼Œå¦ä¸€è¾¹ä¹Ÿåˆ é™¤ç­‰ï¼‰</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cid"</span><span class="o">,</span><span class="n">unique</span><span class="o">=</span><span class="kc">true</span><span class="o">)</span> <span class="c1">// å¤–é”®åç§°</span>
    <span class="kd">public</span> <span class="nc">IdCard</span> <span class="nf">setIdCard</span><span class="o">(){</span>
        	<span class="k">this</span><span class="o">.</span><span class="na">idCard</span> <span class="o">=</span> <span class="n">idCard</span><span class="o">;</span>
    	<span class="o">}</span>
    <span class="o">}</span> 
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IdCard</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">iid</span><span class="o">;</span>
    <span class="o">...</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="ä¸€å¯¹ä¸€åŒå‘å¤–é”®">ä¸€å¯¹ä¸€åŒå‘å¤–é”®</h4>

<ul>
  <li>åŒå‘å…³è”åªèƒ½äº¤ç»™ä¸€æ–¹å»æ§åˆ¶ï¼Œä¸å¯èƒ½åŒæ–¹éƒ½ä¿å­˜å…³è”å…³ç³»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">IdCard</span> <span class="n">card</span><span class="o">;</span>
    <span class="o">...</span>
    <span class="nd">@OneToOne</span><span class="o">(</span><span class="n">cascade</span><span class="o">=</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">)</span> <span class="c1">// çº§è”å…³ç³»ï¼ˆæ•°æ®åŒæ­¥ï¼Œåˆ é™¤ä¸€è¾¹ï¼Œå¦ä¸€è¾¹ä¹Ÿåˆ é™¤ç­‰ï¼‰</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cid"</span><span class="o">,</span><span class="n">unique</span><span class="o">=</span><span class="kc">true</span><span class="o">)</span> <span class="c1">// å¤–é”®åç§°</span>
    <span class="kd">public</span> <span class="nc">IdCard</span> <span class="nf">setCard</span><span class="o">(){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">idCard</span> <span class="o">=</span> <span class="n">idCard</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IdCard</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">iid</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Student</span> <span class="n">student</span><span class="o">;</span>
    <span class="nd">@OneToOne</span><span class="o">(</span><span class="n">mappedBy</span><span class="o">(</span><span class="s">"card"</span><span class="o">))</span> <span class="c1">//cardæ˜¯æŒ‡Student.card</span>
    <span class="kd">public</span> <span class="nc">Student</span> <span class="nf">setStudent</span><span class="o">(){</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="å¤šå¯¹ä¸€å•å‘å¤–é”®">å¤šå¯¹ä¸€å•å‘å¤–é”®</h4>

<ul>
  <li>ä¸€å¯¹å¤šå•å‘å¤–é”®ä¹Ÿå¦‚æ­¤</li>
  <li>å¤šæ–¹æŒæœ‰ä¸€æ–¹çš„å¼•ç”¨</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">ClassRoom</span> <span class="n">classRoom</span><span class="o">;</span>
    <span class="o">...</span>
    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">cascade</span><span class="o">={</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">},</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">)</span> <span class="c1">//çº§è”å…³ç³»ï¼ŒæŠ“å–è§„åˆ™</span>
    <span class="c1">// @JoinColumnä¸­çš„nameä¸ºå½“å‰ç±»çš„å±æ€§åï¼Œï¼ˆå¤šå¯¹ä¸€å•å‘ï¼Œæœ‰å¤šæ–¹ç»´æŠ¤ï¼‰æ‰€ä»¥ï¼Œnameä¸ºstudentä¸­çš„cidï¼Œè€ŒReferenceColumnNameä¸ºå¼•ç”¨è¡¨çš„åˆ—ï¼ˆå¤šå¯¹ä¸€å•å‘ï¼Œæ‰€ä»¥ä¸ºä¸€æ–¹çš„å¼•ç”¨åˆ—ï¼‰å³ClassRoomä¸­çš„ä¸»é”®åˆ—</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cid"</span><span class="o">,</span><span class="n">referencedColumnName</span><span class="o">=</span><span class="s">"CID"</span><span class="o">)</span>  
    <span class="kd">public</span> <span class="nc">CLassRoom</span> <span class="nf">setClassRoom</span><span class="o">(</span><span class="nc">ClassRoom</span> <span class="n">classRoom</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">classRoom</span> <span class="o">=</span> <span class="n">classRoom</span><span class="o">;</span>
    <span class="o">}</span> 
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClassRoom</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">cid</span><span class="o">;</span>
    <span class="o">...</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="å¤šå¯¹ä¸€åŒå‘å¤–é”®">å¤šå¯¹ä¸€åŒå‘å¤–é”®</h4>

<ul>
  <li>ä¸€å¯¹å¤šåŒå‘å¤–é”®ä¹Ÿå¦‚æ­¤</li>
  <li>å¤šæ–¹æŒæœ‰ä¸€æ–¹çš„å¼•ç”¨ï¼Œä¸€æ–¹æŒæœ‰å¤šæ–¹çš„é›†åˆ</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Student</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">ClassRoom</span> <span class="n">classRoom</span><span class="o">;</span>
    <span class="o">...</span>
    <span class="nd">@ManyToOne</span><span class="o">(</span><span class="n">cascade</span><span class="o">={</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">},</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">EAGER</span><span class="o">)</span> <span class="c1">//çº§è”å…³ç³»ï¼ŒæŠ“å–è§„åˆ™</span>
    <span class="c1">// nameä¸ºClassRoom.cid</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cid"</span><span class="o">)</span> 
    <span class="kd">public</span> <span class="nc">CLassRoom</span> <span class="nf">setClassRoom</span><span class="o">(</span><span class="nc">ClassRoom</span> <span class="n">classRoom</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">classRoom</span> <span class="o">=</span> <span class="n">classRoom</span><span class="o">;</span>
    <span class="o">}</span> 
<span class="o">}</span>

<span class="c1">// ClassRoomæ·»åŠ </span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClassRoom</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">cid</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="n">student</span><span class="o">;</span>

    <span class="nd">@OneToMany</span><span class="o">(</span><span class="n">cascade</span><span class="o">={</span><span class="nc">CascadeType</span><span class="o">.</span><span class="na">ALL</span><span class="o">},</span><span class="n">fetch</span><span class="o">=</span><span class="nc">FetchType</span><span class="o">.</span><span class="na">LAZY</span><span class="o">)</span> <span class="c1">//çº§è”å…³ç³»ï¼ŒæŠ“å–è§„åˆ™</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"cid"</span><span class="o">)</span> 
    <span class="kd">public</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="nf">getStudent</span><span class="o">(){</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="å¤šå¯¹å¤šå•å‘å…³è”">å¤šå¯¹å¤šå•å‘å…³è”</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Teacherç±»</span>
<span class="nd">@ManyToMany</span>
<span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"student_teacher"</span><span class="o">,</span><span class="c1">//ä¸­é—´è¡¨å</span>
<span class="n">joinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"teacher_id"</span><span class="o">),</span><span class="c1">//è¿™ä¸ªç±»åœ¨è¡¨ä¸­çš„id</span>
<span class="n">inverseJoinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"student_id"</span><span class="o">)</span><span class="c1">//åè½¬çš„ç±»åœ¨è”åˆè¡¨ä¸­çš„id</span>
<span class="o">)</span>
<span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="nf">getStudentSet</span><span class="o">()</span> <span class="o">{</span>
<span class="k">return</span> <span class="n">studentSet</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="å¤šå¯¹å¤šåŒå‘å…³è”">å¤šå¯¹å¤šåŒå‘å…³è”</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Teacherç±»</span>
<span class="nd">@ManyToMany</span>
<span class="nd">@JoinTable</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"student_teacher"</span><span class="o">,</span>
<span class="n">joinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"teacher_id"</span><span class="o">),</span><span class="c1">//è¿™ä¸ªç±»åœ¨è¡¨ä¸­çš„id</span>
<span class="n">inverseJoinColumns</span><span class="o">=</span><span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">"student_id"</span><span class="o">)</span><span class="c1">//åè½¬çš„ç±»åœ¨è”åˆè¡¨ä¸­çš„id</span>
<span class="o">)</span>
<span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Student</span><span class="o">&gt;</span> <span class="nf">getStudentSet</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">return</span> <span class="n">studentSet</span><span class="o">;</span>
<span class="o">}</span>

<span class="c1">//Studentç±»</span>
<span class="nd">@ManyToMany</span><span class="o">(</span><span class="n">mappedBy</span><span class="o">=</span><span class="s">"studentSet"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Teacher</span><span class="o">&gt;</span> <span class="nf">getSet</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">return</span> <span class="n">set</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

:ET