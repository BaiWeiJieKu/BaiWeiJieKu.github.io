I"·—<ul id="markdown-toc">
  <li><a href="#helloworld" id="markdown-toc-helloworld">HelloWorld</a>    <ul>
      <li><a href="#æ¦‚å¿µ" id="markdown-toc-æ¦‚å¿µ">æ¦‚å¿µ</a></li>
      <li><a href="#ä¼˜åŠ¿" id="markdown-toc-ä¼˜åŠ¿">ä¼˜åŠ¿</a></li>
      <li><a href="#æ¨¡å—" id="markdown-toc-æ¨¡å—">æ¨¡å—</a></li>
      <li><a href="#å¼€å‘å®ä¾‹" id="markdown-toc-å¼€å‘å®ä¾‹">å¼€å‘å®ä¾‹</a></li>
    </ul>
  </li>
  <li><a href="#beané…ç½®" id="markdown-toc-beané…ç½®">Beané…ç½®</a>    <ul>
      <li><a href="#iocå®¹å™¨" id="markdown-toc-iocå®¹å™¨">IOCå®¹å™¨</a></li>
      <li><a href="#ä¾èµ–æ³¨å…¥" id="markdown-toc-ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</a></li>
      <li><a href="#å±æ€§å€¼æ³¨å…¥" id="markdown-toc-å±æ€§å€¼æ³¨å…¥">å±æ€§å€¼æ³¨å…¥</a></li>
      <li><a href="#æ„é€ æ–¹æ³•æ³¨å…¥" id="markdown-toc-æ„é€ æ–¹æ³•æ³¨å…¥">æ„é€ æ–¹æ³•æ³¨å…¥</a></li>
      <li><a href="#é›†åˆæ³¨å…¥" id="markdown-toc-é›†åˆæ³¨å…¥">é›†åˆæ³¨å…¥</a></li>
      <li><a href="#è‡ªåŠ¨è£…é…" id="markdown-toc-è‡ªåŠ¨è£…é…">è‡ªåŠ¨è£…é…</a></li>
      <li><a href="#ç»§æ‰¿ä¾èµ–" id="markdown-toc-ç»§æ‰¿ä¾èµ–">ç»§æ‰¿ä¾èµ–</a></li>
      <li><a href="#ä½œç”¨åŸŸ" id="markdown-toc-ä½œç”¨åŸŸ">ä½œç”¨åŸŸ</a></li>
      <li><a href="#å¤–éƒ¨æ–‡ä»¶" id="markdown-toc-å¤–éƒ¨æ–‡ä»¶">å¤–éƒ¨æ–‡ä»¶</a></li>
      <li><a href="#spel" id="markdown-toc-spel">SpEL</a></li>
      <li><a href="#ç”Ÿå‘½å‘¨æœŸ" id="markdown-toc-ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</a></li>
      <li><a href="#beanå®ä¾‹åŒ–" id="markdown-toc-beanå®ä¾‹åŒ–">Beanå®ä¾‹åŒ–</a></li>
      <li><a href="#beané”€æ¯" id="markdown-toc-beané”€æ¯">Beané”€æ¯</a></li>
      <li><a href="#æ³¨è§£è£…é…" id="markdown-toc-æ³¨è§£è£…é…">æ³¨è§£è£…é…</a></li>
      <li><a href="#autowired" id="markdown-toc-autowired">@Autowired</a></li>
      <li><a href="#resource" id="markdown-toc-resource">@Resource</a></li>
      <li><a href="#æ€ç»´å¯¼å›¾" id="markdown-toc-æ€ç»´å¯¼å›¾">æ€ç»´å¯¼å›¾</a></li>
    </ul>
  </li>
</ul>

<h3 id="helloworld">HelloWorld</h3>

<h4 id="æ¦‚å¿µ">æ¦‚å¿µ</h4>

<ul>
  <li>Spring æ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼ŒSpring æ˜¯ä¸€ä¸ª IOC(DI) å’Œ AOP å®¹å™¨æ¡†æ¶</li>
</ul>

<h4 id="ä¼˜åŠ¿">ä¼˜åŠ¿</h4>

<ul>
  <li>springæ¡†æ¶æœ‰æ•ˆçš„ç»„ç»‡ä¸­é—´å±‚å¯¹è±¡ï¼ˆæ•´åˆStrutsï¼Œhibernateï¼‰ï¼Œå®é™…ä¸Š Spring è‡ªèº«ä¹Ÿæä¾›äº†å±•ç°å±‚çš„ SpringMVC å’Œ æŒä¹…å±‚çš„ Spring JDBC</li>
  <li>springå®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„é¢å‘æ¥å£ç¼–ç¨‹ï¼Œå¯ä»¥å®ç°ç»„ä»¶ä¹‹é—´çš„é«˜åº¦è§£è€¦</li>
  <li>springæé«˜äº†ä»£ç çš„å¯é‡ç”¨æ€§</li>
  <li>springä¸ºæ•°æ®å­˜å‚¨æä¾›äº†ä¸€ä¸ªä¸€è‡´çš„æ¡†æ¶ï¼Œç®€åŒ–äº†åº•å±‚æ•°æ®åº“çš„è®¿é—®æ–¹å¼</li>
  <li><strong>è½»é‡éä¾µå…¥æ€§çš„</strong>ï¼šåŸºäº Spring å¼€å‘çš„åº”ç”¨ä¸­çš„å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äº Spring çš„ API</li>
  <li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šIOCï¼ˆinversion of controlï¼‰å’ŒDIï¼ˆdependency injectionï¼‰æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚è°ƒç”¨è€…ä¸è´Ÿè´£è¢«è°ƒç”¨è€…çš„å®ä¾‹åˆ›å»ºå·¥ä½œï¼Œè¯¥å·¥ä½œç”±springæ¡†æ¶ä¸­çš„å®¹å™¨æ¥è´Ÿè´£ã€‚ç”±äºspringå®¹å™¨è´Ÿè´£åˆ›å»ºè¢«è°ƒç”¨è€…å®ä¾‹ï¼Œå®ä¾‹åˆ›å»ºååˆè´Ÿè´£å°†è¯¥å®ä¾‹æ³¨å…¥è°ƒç”¨è€…ï¼Œå› æ­¤ç§°ä¸ºä¾èµ–æ³¨å…¥</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">è°ƒç”¨è€…---&gt;æƒ³è°ƒç”¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹---&gt;springå®¹å™¨åˆ›å»ºæ‰€éœ€è¦çš„å®ä¾‹å¯¹è±¡---&gt;æŠŠå¯¹è±¡å®ä¾‹æ³¨å…¥ç»™è°ƒç”¨è€…</span>
</code></pre></div></div>

<ul>
  <li><strong>AOPï¼ˆaspect oriented programmingï¼‰</strong>ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä»–æ˜¯OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰çš„è¡¥å……å’Œå®Œå–„ã€‚åœ¨OOPä¸­é€šè¿‡<strong>å°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</strong>å»ºç«‹èµ·å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„å±‚æ¬¡ç»“æ„ã€‚ä½†å¦‚æœæƒ³ä¸ºè¿™äº›åˆ†æ•£å¯¹è±¡æ·»åŠ ä¸€äº›å…¬å…±è¡Œä¸ºï¼ŒOOPå°±å¾ˆéš¾å®ç°äº†ï¼Œå› ä¸ºOOPæ“…é•¿çš„æ˜¯å®šä¹‰ä»ä¸Šåˆ°ä¸‹çš„å…³ç³»ã€‚æ°å·§ï¼ŒAOPè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒé€‚åˆå®šä¹‰ä»å·¦åˆ°å³çš„å…³ç³»ã€‚</li>
  <li><strong>å®¹å™¨</strong>: Spring æ˜¯ä¸€ä¸ªå®¹å™¨, å› ä¸ºå®ƒåŒ…å«å¹¶ä¸”ç®¡ç†åº”ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</li>
  <li><strong>æ¡†æ¶</strong>: Spring å®ç°äº†ä½¿ç”¨ç®€å•çš„ç»„ä»¶é…ç½®ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„åº”ç”¨. åœ¨ Spring ä¸­å¯ä»¥ä½¿ç”¨ XML å’Œ Java æ³¨è§£ç»„åˆè¿™äº›å¯¹è±¡</li>
</ul>

<h4 id="æ¨¡å—">æ¨¡å—</h4>

<ul>
  <li>
    <p>æ ¸å¿ƒå®¹å™¨ï¼ˆcore containerï¼‰</p>
  </li>
  <li>1ï¼‰springæ ¸å¿ƒå®¹å™¨ç”±<strong>beansï¼Œcoreï¼Œcontextï¼Œexpression language</strong>æ¨¡å—ç»„æˆ</li>
  <li>2ï¼‰beanså’Œcoreæ¨¡å—å®ç°äº†springæ¡†æ¶çš„æœ€åŸºæœ¬åŠŸèƒ½ï¼Œ<strong>è§„å®šäº†åˆ›å»ºã€é…ç½®å’Œç®¡ç†beançš„æ–¹å¼</strong>ï¼Œæä¾›äº†DIå’ŒIOCçš„ç‰¹æ€§</li>
  <li>3ï¼‰æ ¸å¿ƒå®¹å™¨ä¸»è¦ç»„ä»¶æ˜¯BeanFactoryç±»ï¼Œä»–æ˜¯<strong>å·¥å‚æ¨¡å¼</strong>çš„å®ç°ï¼Œjavabeançš„ç®¡ç†å°±ç”±ä»–è´Ÿè´£ã€‚BeanFactoryç±»é€šè¿‡IOCå°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç ç›¸åˆ†ç¦»ã€‚</li>
  <li>4ï¼‰contextæ¨¡å—å»ºç«‹åœ¨ coreå’Œbeansæ¨¡å—ä¹‹ä¸Šï¼Œ<strong>è¯¥æ¨¡å—å‘springæ¡†æ¶æä¾›äº†ä¸Šä¸‹æ–‡ä¿¡æ¯</strong></li>
  <li>
    <p>5ï¼‰expression languageæ¨¡å—æä¾›äº†ä¸€ç§å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€æ¥<strong>è®¿é—®å’Œæ“çºµè¿è¡Œæ—¶çš„å¯¹è±¡</strong>ã€‚æ”¯æŒè®¾ç½®å’Œè·å–å±æ€§å€¼ã€æ–¹æ³•è°ƒç”¨ã€è®¿é—®æ•°ç»„ã€é›†åˆå’Œç´¢å¼•ã€é€»è¾‘å’Œç®—æœ¯è¿ç®—ã€å‘½åå˜é‡ã€æ ¹æ®åç§°ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡ç­‰åŠŸèƒ½ã€‚</p>
  </li>
  <li>æ•°æ®è®¿é—®/é›†æˆ</li>
  <li>1ï¼‰æ•°æ®è®¿é—®/é›†æˆæ¨¡å—ç”±JDBCã€ORMã€OXMã€JMSå’Œtransactionå‡ ä¸ªæ¨¡å—ç»„æˆ</li>
  <li>2ï¼‰springçš„JDBCæ¨¡å—å¯¹ç¨‹å¼åŒ–çš„ä»£ç è¿›è¡ŒæŠ½è±¡ï¼Œ<strong>æä¾›äº†ä¸€ä¸ªJDBCæŠ½è±¡å±‚</strong>ï¼Œé¿å…äº†å¼€å‘è€…å»é¢å¯¹å¤æ‚çš„APIä»¥åŠå› é‡Šæ”¾æ•°æ®åº“èµ„æºå¤±è´¥è€Œå¼•èµ·çš„ä¸€ç³»åˆ—é—®é¢˜</li>
  <li>3ï¼‰ORMæ¨¡å—ä¸º<strong>å¯¹è±¡å…³ç³»æ˜ å°„</strong>ï¼ˆobject relative mappingï¼‰æä¾›äº†é›†æˆå±‚ï¼Œè¿™äº›APIåŒ…æ‹¬JPAã€hibernateã€mybatisï¼Œè¯¥æ¨¡å—å¯ä»¥å°†O/Ræ˜ å°„æ¡†æ¶ä¸springæä¾›çš„ç‰¹æ€§è¿›è¡Œç»„åˆæ¥ä½¿ç”¨</li>
  <li>
    <p>4ï¼‰transactionæ¨¡å—<strong>æä¾›äº†å¯¹å£°æ˜å¼äº‹åŠ¡å’Œç¼–ç¨‹äº‹åŠ¡çš„æ”¯æŒ</strong>ï¼Œè¿™äº›äº‹åŠ¡å¿…é¡»å®ç°ç‰¹å®šæ¥å£ï¼Œå¹¶ä¸”å¯¹æ‰€æœ‰çš„POJOéƒ½é€‚ç”¨</p>
  </li>
  <li>Webæ¨¡å—</li>
  <li>
    <p>1ï¼‰webæ¨¡å—åŒ…æ‹¬webï¼Œservletï¼ŒStrutså’Œportletå‡ ä¸ªæ¨¡å—</p>
  </li>
  <li>AOPæ¨¡å—</li>
  <li>
    <p>ä½¿ç”¨è¯¥æ¨¡å—å¯ä»¥å®šä¹‰æ–¹æ³•æ‹¦æˆªå™¨å’Œåˆ‡ç‚¹ï¼Œ<strong>å°†ä»£ç æŒ‰åŠŸèƒ½è¿›è¡Œåˆ†ç¦»</strong>ï¼Œé™ä½ä»–ä»¬ä¹‹é—´çš„è€¦åˆæ€§</p>
  </li>
  <li>Testæ¨¡å—</li>
  <li>æä¾›ä¸€è‡´çš„ApplicationContextså¹¶ç¼“å­˜è¿™äº›ä¸Šä¸‹æ–‡</li>
</ul>

<h4 id="å¼€å‘å®ä¾‹">å¼€å‘å®ä¾‹</h4>

<ul>
  <li>javabeanï¼ˆåŒ…å«äº†getterå’Œsetteræ–¹æ³•çš„javaç±»ï¼‰</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.atguigu.spring.helloworld</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorld</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">String</span> <span class="n">user</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">HelloWorld</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloWorld's constructor..."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUser</span><span class="o">(</span><span class="nc">String</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"setUser:"</span> <span class="o">+</span> <span class="n">user</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">user</span> <span class="o">=</span> <span class="n">user</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nf">HelloWorld</span><span class="o">(</span><span class="nc">String</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">user</span> <span class="o">=</span> <span class="n">user</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">hello</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello: "</span> <span class="o">+</span> <span class="n">user</span><span class="o">);</span>
	<span class="o">}</span>
	
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>applicationContext.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xmlns:util=</span><span class="s">"http://www.springframework.org/schema/util"</span>
	<span class="na">xmlns:p=</span><span class="s">"http://www.springframework.org/schema/p"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans 		  http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd"</span><span class="nt">&gt;</span>
	
	<span class="c">&lt;!-- é…ç½®ä¸€ä¸ª bean --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"helloWorld"</span> <span class="na">class=</span><span class="s">"com.atguigu.spring.helloworld.HelloWorld"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!-- ä¸ºå±æ€§èµ‹å€¼ --&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"user"</span> <span class="na">value=</span><span class="s">"Jerry"</span><span class="nt">&gt;&lt;/property&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<ul>
  <li>æµ‹è¯•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.atguigu.spring.helloworld</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
<span class="c1">//å½“ä½¿ç”¨applicationContext.xmlæ–‡ä»¶æ¥å®ä¾‹åŒ–HelloWorldå®ä¾‹æ—¶ï¼Œspringå®¹å™¨åšçš„å·¥ä½œ</span>
<span class="c1">//		HelloWorld helloWorld = new HelloWorld();</span>
<span class="c1">//		helloWorld.setUser("Tom");</span>
<span class="c1">//		helloWorld.hello(); </span>
		
		<span class="c1">//1.åˆ›å»ºspringçš„IOCå®¹å™¨</span>
		<span class="nc">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"applicationContext.xml"</span><span class="o">);</span>
		
		<span class="c1">//2.æ ¹æ®idä»å®¹å™¨ä¸­è·å–Beanå®ä¾‹çš„å¼•ç”¨</span>
		<span class="nc">HelloWorld</span> <span class="n">helloWorld</span> <span class="o">=</span> <span class="o">(</span><span class="nc">HelloWorld</span><span class="o">)</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"helloWorld"</span><span class="o">);</span>
	
		<span class="c1">//3.è°ƒç”¨æ–¹æ³•</span>
		<span class="n">helloWorld</span><span class="o">.</span><span class="na">hello</span><span class="o">();</span>
		
	<span class="o">}</span>
	
<span class="o">}</span>

</code></pre></div></div>

<h3 id="beané…ç½®">Beané…ç½®</h3>

<h4 id="iocå®¹å™¨">IOCå®¹å™¨</h4>

<ul>
  <li>IOCå®¹å™¨ä¸ºç®¡ç†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»æä¾›äº†åŸºç¡€åŠŸèƒ½</li>
  <li>springæä¾›äº†ä¸¤ç§å®¹å™¨ï¼šBeanFactoryï¼ŒApplicationContext</li>
  <li><strong>BeanFactory</strong>æ˜¯åŸºç¡€ç±»å‹çš„IOCå®¹å™¨ï¼Œå¹¶èƒ½æä¾›å®Œæ•´çš„IOCæœåŠ¡æ”¯æŒã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªç”¨äºé…ç½®å’Œç®¡ç†javaç±»çš„å†…éƒ¨æ¥å£ã€‚BeanFactoryå°±æ˜¯ä¸€ä¸ªç®¡ç†Beançš„å·¥å‚ï¼Œä»–<strong>è´Ÿè´£åˆå§‹åŒ–å„ç§Beanå¹¶è°ƒç”¨å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</strong></li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">boolean</span>	<span class="err">containsBean(String</span> <span class="err">name)</span>
	<span class="err">æ­¤beanå·¥å‚æ˜¯å¦åŒ…å«å…·æœ‰ç»™å®šåç§°çš„beanå®šä¹‰æˆ–å¤–éƒ¨æ³¨å†Œçš„å•ä¾‹å®ä¾‹ï¼Ÿ</span>
<span class="err">Object</span>	<span class="err">getBean(String</span> <span class="err">name)</span>
	<span class="err">è¿”å›æŒ‡å®šbeançš„å®ä¾‹ï¼Œè¯¥å®ä¾‹å¯ä»¥æ˜¯å…±äº«çš„æˆ–ç‹¬ç«‹çš„ã€‚</span>
<span class="err">Object</span>	<span class="err">getBean(String</span> <span class="err">name,</span> <span class="err">Object...</span> <span class="err">args)</span>
	<span class="err">è¿”å›æŒ‡å®šbeançš„å®ä¾‹ï¼Œè¯¥å®ä¾‹å¯ä»¥æ˜¯å…±äº«çš„æˆ–ç‹¬ç«‹çš„ã€‚</span>
<span class="err">Class&lt;?&gt;</span>	<span class="err">getType(String</span> <span class="err">name)</span>
	<span class="err">ç¡®å®šå…·æœ‰ç»™å®šåç§°çš„beançš„ç±»å‹ã€‚</span>
</code></pre></div></div>

<ul>
  <li><strong>ApplicationContext</strong>æ˜¯BeanFactoryçš„å­æ¥å£ï¼Œä¹Ÿè¢«ç§°ä¸ºåº”ç”¨ä¸Šä¸‹æ–‡ï¼ŒApplicationContext<strong>æ·»åŠ äº†æ›´å¤šçš„ä¼ä¸šçº§åŠŸèƒ½</strong>ã€‚ApplicationContextå®¹å™¨åˆå§‹åŒ–å®Œæˆåï¼Œå®¹å™¨ä¸­æ‰€æœ‰çš„å•ä¾‹Beanä¹Ÿéƒ½è¢«å®ä¾‹åŒ–äº†ã€‚è°ƒç”¨ ApplicationContext çš„ getBean() æ–¹æ³•ä» IOC å®¹å™¨ä¸­è·å– Bean</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">å®ç°ç±»ï¼š</span>
<span class="err">1ï¼‰ClassPathXmlApplicationContext</span>
<span class="err">ApplicationContext</span> <span class="py">context</span><span class="p">=</span><span class="s">new ClassPathXmlApplicationContextï¼ˆâ€œApplicationContext.xmlâ€ï¼‰</span>

<span class="err">2ï¼‰FileSystemXmlApplicationContext</span>
<span class="err">ApplicationContext</span> <span class="py">context</span><span class="p">=</span><span class="s">new FileSystemXmlApplicationContextï¼ˆ"d:/beans.xml"ï¼‰</span>

<span class="err">3)XmlWebApplicationContext</span>
</code></pre></div></div>

<h4 id="ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</h4>

<h4 id="å±æ€§å€¼æ³¨å…¥">å±æ€§å€¼æ³¨å…¥</h4>

<ol>
  <li>å±æ€§æ³¨å…¥å³é€šè¿‡ <strong>setter</strong> <strong>æ–¹æ³•</strong>æ³¨å…¥Bean çš„å±æ€§å€¼æˆ–ä¾èµ–çš„å¯¹è±¡</li>
  <li>å±æ€§æ³¨å…¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">&lt;property&gt; </code>å…ƒç´ , ä½¿ç”¨ name å±æ€§æŒ‡å®š Bean çš„å±æ€§åç§°ï¼Œvalue å±æ€§æˆ– <code class="language-plaintext highlighter-rouge">&lt;value&gt; </code>å­èŠ‚ç‚¹æŒ‡å®šå±æ€§å€¼</li>
  <li>å¯ä»¥ä½¿ç”¨ä¸“ç”¨çš„ <code class="language-plaintext highlighter-rouge">&lt;null/&gt;</code>å…ƒç´ æ ‡ç­¾ä¸º Bean çš„å­—ç¬¦ä¸²æˆ–å…¶å®ƒå¯¹è±¡ç±»å‹çš„å±æ€§æ³¨å…¥null å€¼</li>
  <li><strong>Spring</strong> <strong>æ”¯æŒçº§è”å±æ€§çš„é…ç½®</strong>ã€‚</li>
  <li><strong>å±æ€§æ³¨å…¥æ˜¯å®é™…åº”ç”¨ä¸­æœ€å¸¸ç”¨çš„æ³¨å…¥æ–¹å¼</strong></li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.model</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">password</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getUsername</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">username</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsername</span><span class="o">(</span><span class="nc">String</span> <span class="n">username</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getPassword</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPassword</span><span class="o">(</span><span class="nc">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.dao</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.deciphering.model.User</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserDAO</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">);</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.dao.impl</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.deciphering.dao.UserDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.deciphering.model.User</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDAOImpl</span> <span class="kd">implements</span> <span class="nc">UserDAO</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">save</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">user</span><span class="o">.</span><span class="na">getUsername</span><span class="o">()</span> <span class="o">+</span> <span class="s">" saved in Oracle!"</span><span class="o">);</span>		
		<span class="c1">//System.out.println(user.getUsername() + " saved in DB2!");		</span>
		<span class="c1">//System.out.println(user.getUsername() + " saved in mysql!");</span>
		
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.deciphering.model.User</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserService</span> <span class="o">{</span>
	<span class="c1">//å¤„ç†æ–°å¢ç”¨æˆ·ä¸šåŠ¡é€»è¾‘</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">);</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.deciphering.dao.UserDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.deciphering.model.User</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="o">{</span>
	
	<span class="kd">private</span> <span class="nc">UserDAO</span> <span class="n">userDAO</span><span class="o">;</span>  
	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="nc">User</span> <span class="n">user</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">userDAO</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">UserDAO</span> <span class="nf">getUserDAO</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">userDAO</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUserDAO</span><span class="o">(</span><span class="nc">UserDAO</span> <span class="n">userDAO</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">userDAO</span> <span class="o">=</span> <span class="n">userDAO</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nf">UserServiceImpl</span><span class="o">(</span><span class="nc">UserDAO</span> <span class="n">userDAO</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">super</span><span class="o">();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">userDAO</span> <span class="o">=</span> <span class="n">userDAO</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>
           
  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"u"</span> <span class="na">class=</span><span class="s">"com.deciphering.dao.impl.UserDAOImpl"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/bean&gt;</span>
	
  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"userService"</span> <span class="na">class=</span><span class="s">"com.deciphering.service.UserServiceImpl"</span><span class="nt">&gt;</span>
  	 <span class="c">&lt;!--
  	 å±æ€§æ³¨å…¥
  	 &lt;property name="userDAO"&gt;
  	 	&lt;ref bean="u"/&gt;
  	 &lt;/property&gt; 
  	 --&gt;</span>
  	 
  <span class="nt">&lt;/bean&gt;</span>
 
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<ul>
  <li><strong>Springè°ƒç”¨getter,setteræ–¹æ³•</strong></li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">æ ¹æ®é…ç½®æ–‡ä»¶ï¼Œspringä¼šä¸ºæ¯ä¸ª&lt;bean&gt;å…ƒç´ åˆ›å»ºä¸€ä¸ªjavaå¯¹è±¡ï¼Œå³ä¸€ä¸ªBeanå®ä¾‹</span>
<span class="err">&lt;bean</span> <span class="py">id</span><span class="p">=</span><span class="s">"id"</span> <span class="s">class="com.xy.Student"&gt;</span>
<span class="err">è¿™å¥ä»£ç ï¼Œspringçš„åº•å±‚å®ç°æ˜¯è¿™æ ·çš„ï¼š</span>

<span class="err">1ï¼‰è·å–ç±»çš„Classå¯¹è±¡</span>
	<span class="err">Class</span> <span class="py">c</span> <span class="p">=</span> <span class="s">Class.forName("com.xy.Student");</span>
<span class="err">2ï¼‰åˆ›å»ºç±»çš„é»˜è®¤å®ä¾‹</span>
	<span class="err">Object</span> <span class="py">bean</span> <span class="p">=</span> <span class="s">c.newInstance();</span>
<span class="err">3ï¼‰springéå†&lt;bean&gt;å…ƒç´ ä¸­æ‰€æœ‰çš„&lt;property&gt;å…ƒç´ ï¼Œæ¯å‘ç°ä¸€ä¸ª&lt;property&gt;å…ƒç´ ï¼Œå°±ä¼šä¸ºè¯¥beanå®ä¾‹è°ƒç”¨ç›¸åº”çš„</span>    <span class="err">setteræ–¹æ³•&lt;property</span> <span class="py">name</span><span class="p">=</span><span class="s">"stuName"</span> <span class="s">value="xy" /&gt;</span>
	<span class="err">//è·å–stuNameå±æ€§å¯¹åº”çš„setteræ–¹æ³•å</span>
	<span class="err">String</span> <span class="py">setname</span> <span class="p">=</span> <span class="s">"set"</span> <span class="s">+ "StuName";</span>
	<span class="err">//è·å–ç±»ä¸­çš„setStuNameï¼ˆï¼‰æ–¹æ³•ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ–¹æ³•åï¼Œç¬¬äºŒä¸ªæ˜¯å‚æ•°åˆ—è¡¨</span>
	<span class="err">Method</span> <span class="py">method</span> <span class="p">=</span> <span class="s">c.getMehod(setname,String.Class);</span>
	<span class="err">//è°ƒç”¨beanå®ä¾‹çš„setStuNameï¼ˆï¼‰æ–¹æ³•ï¼ŒæŠŠå€¼ä¼ å…¥</span>
	<span class="err">method.invoke(bean,"xy");</span>
	
</code></pre></div></div>

<h4 id="æ„é€ æ–¹æ³•æ³¨å…¥">æ„é€ æ–¹æ³•æ³¨å…¥</h4>

<ol>
  <li>é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥Bean çš„å±æ€§å€¼æˆ–ä¾èµ–çš„å¯¹è±¡ï¼Œå®ƒä¿è¯äº† Bean å®ä¾‹åœ¨å®ä¾‹åŒ–åå°±å¯ä»¥ä½¿ç”¨</li>
  <li>æ„é€ å™¨æ³¨å…¥åœ¨<code class="language-plaintext highlighter-rouge"> &lt;constructor-arg&gt;</code> å…ƒç´ é‡Œå£°æ˜å±æ€§, <code class="language-plaintext highlighter-rouge">&lt;constructorarg&gt;</code> ä¸­æ²¡æœ‰ name å±æ€§</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.atguigu.spring.helloworld</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">String</span> <span class="n">company</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">brand</span><span class="o">;</span>

	<span class="kd">private</span> <span class="kt">int</span> <span class="n">maxSpeed</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">float</span> <span class="n">price</span><span class="o">;</span>

	<span class="kd">public</span> <span class="nf">Car</span><span class="o">(</span><span class="nc">String</span> <span class="n">company</span><span class="o">,</span> <span class="nc">String</span> <span class="n">brand</span><span class="o">,</span> <span class="kt">float</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">super</span><span class="o">();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">company</span> <span class="o">=</span> <span class="n">company</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">brand</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="nf">Car</span><span class="o">(</span><span class="nc">String</span> <span class="n">company</span><span class="o">,</span> <span class="nc">String</span> <span class="n">brand</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxSpeed</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">super</span><span class="o">();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">company</span> <span class="o">=</span> <span class="n">company</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">brand</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">maxSpeed</span> <span class="o">=</span> <span class="n">maxSpeed</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="nf">Car</span><span class="o">(</span><span class="nc">String</span> <span class="n">company</span><span class="o">,</span> <span class="nc">String</span> <span class="n">brand</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxSpeed</span><span class="o">,</span> <span class="kt">float</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">super</span><span class="o">();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">company</span> <span class="o">=</span> <span class="n">company</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">brand</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">maxSpeed</span> <span class="o">=</span> <span class="n">maxSpeed</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"Car [company="</span> <span class="o">+</span> <span class="n">company</span> <span class="o">+</span> <span class="s">", brand="</span> <span class="o">+</span> <span class="n">brand</span> <span class="o">+</span> <span class="s">", maxSpeed="</span>
				<span class="o">+</span> <span class="n">maxSpeed</span> <span class="o">+</span> <span class="s">", price="</span> <span class="o">+</span> <span class="n">price</span> <span class="o">+</span> <span class="s">"]"</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- è‹¥ä¸€ä¸ª bean æœ‰å¤šä¸ªæ„é€ å™¨, å¦‚ä½•é€šè¿‡æ„é€ å™¨æ¥ä¸º bean çš„å±æ€§èµ‹å€¼ --&gt;</span>
	<span class="c">&lt;!-- å¯ä»¥æ ¹æ® index å’Œ value è¿›è¡Œæ›´åŠ ç²¾ç¡®çš„å®šä½. (äº†è§£) --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"car"</span> <span class="na">class=</span><span class="s">"com.atguigu.spring.helloworld.Car"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"KUGA"</span> <span class="na">index=</span><span class="s">"1"</span><span class="nt">&gt;&lt;/constructor-arg&gt;</span>
		<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"ChangAnFord"</span> <span class="na">index=</span><span class="s">"0"</span><span class="nt">&gt;&lt;/constructor-arg&gt;</span>
		<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"250000"</span> <span class="na">type=</span><span class="s">"float"</span><span class="nt">&gt;&lt;/constructor-arg&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	
	<span class="c">&lt;!-- ------------------------------------------------------------------------- --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"car2"</span> <span class="na">class=</span><span class="s">"com.atguigu.spring.helloworld.Car"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"ChangAnMazda"</span><span class="nt">&gt;&lt;/constructor-arg&gt;</span>
		<span class="c">&lt;!-- è‹¥å­—é¢å€¼ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦, åˆ™å¯ä»¥ä½¿ç”¨ DCDATA æ¥è¿›è¡Œèµ‹å€¼. (äº†è§£) --&gt;</span>
		<span class="nt">&lt;constructor-arg&gt;</span>
			<span class="nt">&lt;value&gt;</span><span class="cp">&lt;![CDATA[&lt;ATARZA&gt;]]&gt;</span><span class="nt">&lt;/value&gt;</span>
		<span class="nt">&lt;/constructor-arg&gt;</span>
		<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"180"</span> <span class="na">type=</span><span class="s">"int"</span><span class="nt">&gt;&lt;/constructor-arg&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>

</code></pre></div></div>

<ul>
  <li><strong>è°¨è®°springå®¹å™¨æ˜¯ä¸€ä¸ªè½»é‡çº§å®¹å™¨ï¼Œä»¥å±æ€§å€¼æ³¨å…¥ä¸ºä¸»ï¼Œè¾…ä¹‹ä»¥æ„é€ æ–¹æ³•æ³¨å…¥ä¸ºè¡¥å……</strong></li>
</ul>

<h4 id="é›†åˆæ³¨å…¥">é›†åˆæ³¨å…¥</h4>

<ul>
  <li>åœ¨ Springä¸­å¯ä»¥é€šè¿‡ä¸€ç»„å†…ç½®çš„ xml æ ‡ç­¾(ä¾‹å¦‚: <code class="language-plaintext highlighter-rouge">&lt;list&gt;, &lt;set&gt; æˆ– &lt;map&gt;</code>) æ¥é…ç½®é›†åˆå±æ€§</li>
  <li>é…ç½® java.util.List ç±»å‹çš„å±æ€§, éœ€è¦æŒ‡å®š <code class="language-plaintext highlighter-rouge">&lt;list&gt;</code>  æ ‡ç­¾, åœ¨æ ‡ç­¾é‡ŒåŒ…å«ä¸€äº›å…ƒç´ . è¿™äº›æ ‡ç­¾å¯ä»¥é€šè¿‡ <code class="language-plaintext highlighter-rouge">&lt;value&gt;</code> æŒ‡å®šç®€å•çš„å¸¸é‡å€¼, é€šè¿‡ <code class="language-plaintext highlighter-rouge">&lt;ref&gt;</code>æŒ‡å®šå¯¹å…¶ä»– Bean çš„å¼•ç”¨. é€šè¿‡<code class="language-plaintext highlighter-rouge">&lt;bean&gt;</code>æŒ‡å®šå†…ç½® Bean å®šä¹‰. é€šè¿‡ <code class="language-plaintext highlighter-rouge">&lt;null/&gt; </code>æŒ‡å®šç©ºå…ƒç´ . ç”šè‡³å¯ä»¥å†…åµŒå…¶ä»–é›†åˆ</li>
  <li>æ•°ç»„çš„å®šä¹‰å’Œ List ä¸€æ ·, éƒ½ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">&lt;list&gt;</code></li>
  <li>é…ç½® java.util.Set éœ€è¦ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">&lt;set&gt;</code>æ ‡ç­¾, å®šä¹‰å…ƒç´ çš„æ–¹æ³•ä¸ List ä¸€æ ·</li>
  <li>Java.util.Map é€šè¿‡<code class="language-plaintext highlighter-rouge">&lt;map&gt;</code>æ ‡ç­¾å®šä¹‰,<code class="language-plaintext highlighter-rouge">&lt;map&gt;</code>æ ‡ç­¾ é‡Œå¯ä»¥ä½¿ç”¨å¤šä¸ª<code class="language-plaintext highlighter-rouge">&lt;entry&gt;</code>ä½œä¸ºå­æ ‡ç­¾ï¼Œæ¯ä¸ªæ¡ç›®åŒ…å«ä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ï¼Œå¿…é¡»åœ¨<code class="language-plaintext highlighter-rouge">&lt;key&gt;</code>æ ‡ç­¾é‡Œå®šä¹‰é”®ï¼Œå› ä¸ºé”®å’Œå€¼çš„ç±»å‹æ²¡æœ‰é™åˆ¶, æ‰€ä»¥å¯ä»¥è‡ªç”±åœ°ä¸ºå®ƒä»¬æŒ‡å®š <code class="language-plaintext highlighter-rouge">&lt;value&gt;, &lt;ref&gt;, &lt;bean&gt;æˆ–&lt;null&gt; </code>å…ƒç´ </li>
  <li>å¯ä»¥å°† Map çš„é”®å’Œå€¼ä½œä¸º <code class="language-plaintext highlighter-rouge">&lt;entry&gt;</code>çš„å±æ€§å®šä¹‰: ç®€å•å¸¸é‡ä½¿ç”¨ key å’Œ value æ¥å®šä¹‰; Bean å¼•ç”¨é€šè¿‡ key-ref å’Œ value-refå±æ€§å®šä¹‰</li>
  <li><code class="language-plaintext highlighter-rouge">ä½¿ç”¨ &lt;props&gt; å®šä¹‰ java.util.Properties, è¯¥æ ‡ç­¾ä½¿ç”¨å¤šä¸ª &lt;prop&gt; ä½œä¸ºå­æ ‡ç­¾. æ¯ä¸ª &lt;prop&gt; æ ‡ç­¾å¿…é¡»å®šä¹‰ key å±æ€§</code></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.InjectCollections</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">InjectCollections</span> <span class="o">{</span>


	<span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">sets</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">lists</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span> <span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">maps</span><span class="o">;</span>
	
	
	<span class="kd">public</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getSets</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">sets</span><span class="o">;</span>
	<span class="o">}</span>



	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSets</span><span class="o">(</span><span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">sets</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">sets</span> <span class="o">=</span> <span class="n">sets</span><span class="o">;</span>
	<span class="o">}</span>


	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getLists</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">lists</span><span class="o">;</span>
	<span class="o">}</span>



	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLists</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">lists</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">lists</span> <span class="o">=</span> <span class="n">lists</span><span class="o">;</span>
	<span class="o">}</span>



	<span class="kd">public</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="nf">getMaps</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">maps</span><span class="o">;</span>
	<span class="o">}</span>



	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMaps</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">maps</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">maps</span> <span class="o">=</span> <span class="n">maps</span><span class="o">;</span>
	<span class="o">}</span>


	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"sets "</span> <span class="o">+</span> <span class="n">sets</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\nlists "</span> <span class="o">+</span> <span class="n">lists</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">"\nmaps "</span> <span class="o">+</span> <span class="n">maps</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">;</span> 
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		<span class="nc">InjectCollections</span>  <span class="n">ic</span><span class="o">=</span> <span class="o">(</span><span class="nc">InjectCollections</span><span class="o">)</span><span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"InjectCollections"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ic</span><span class="o">);</span>
		
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"InjectCollections"</span> <span class="na">class=</span><span class="s">"com.deciphering.InjectCollections.InjectCollections"</span><span class="nt">&gt;</span>
  	<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"sets"</span><span class="nt">&gt;</span>
  		<span class="nt">&lt;set&gt;</span>
  			<span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
  			<span class="nt">&lt;value&gt;</span>2<span class="nt">&lt;/value&gt;</span>
  		<span class="nt">&lt;/set&gt;</span>
  	<span class="nt">&lt;/property&gt;</span>
  	<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"lists"</span><span class="nt">&gt;</span>
  		<span class="nt">&lt;list&gt;</span>
  			<span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
  			<span class="nt">&lt;value&gt;</span>2<span class="nt">&lt;/value&gt;</span>
  			<span class="nt">&lt;value&gt;</span>3<span class="nt">&lt;/value&gt;</span>
  		<span class="nt">&lt;/list&gt;</span>
  	<span class="nt">&lt;/property&gt;</span>
  	<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"maps"</span><span class="nt">&gt;</span>
  		<span class="nt">&lt;map&gt;</span>
  			<span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"1"</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">&gt;&lt;/entry&gt;</span>
  			<span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"2"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;&lt;/entry&gt;</span>
  			<span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"3"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;&lt;/entry&gt;</span>
  			<span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">"4"</span> <span class="na">value=</span><span class="s">"4"</span><span class="nt">&gt;&lt;/entry&gt;</span>
  		<span class="nt">&lt;/map&gt;</span>
  	<span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span>

<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">""</span><span class="nt">&gt;</span>
  		<span class="nt">&lt;props&gt;</span>
  			<span class="nt">&lt;prop</span> <span class="na">key=</span><span class="s">"1"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/prop&gt;</span>
  			<span class="nt">&lt;prop</span> <span class="na">key=</span><span class="s">"2"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/prop&gt;</span>
  			<span class="nt">&lt;prop</span> <span class="na">key=</span><span class="s">"3"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/prop&gt;</span>
  			<span class="nt">&lt;prop</span> <span class="na">key=</span><span class="s">"4"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/prop&gt;</span>
  		<span class="nt">&lt;/props&gt;</span>
  	<span class="nt">&lt;/property&gt;</span>
</code></pre></div></div>

<h4 id="è‡ªåŠ¨è£…é…">è‡ªåŠ¨è£…é…</h4>

<ul>
  <li>Spring IOC å®¹å™¨å¯ä»¥è‡ªåŠ¨è£…é… Bean. éœ€è¦åšçš„ä»…ä»…æ˜¯**åœ¨ <bean> çš„ autowire å±æ€§é‡ŒæŒ‡å®šè‡ªåŠ¨è£…é…çš„æ¨¡å¼**</bean></li>
  <li><strong>byType</strong>(æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…): è‹¥ IOC å®¹å™¨ä¸­æœ‰å¤šä¸ªä¸ç›®æ ‡ Bean ç±»å‹ä¸€è‡´çš„ Bean. åœ¨è¿™ç§æƒ…å†µä¸‹, Spring å°†æ— æ³•åˆ¤å®šå“ªä¸ª Bean æœ€åˆé€‚è¯¥å±æ€§, æ‰€ä»¥ä¸èƒ½æ‰§è¡Œè‡ªåŠ¨è£…é…</li>
  <li><strong>byName</strong>(æ ¹æ®åç§°è‡ªåŠ¨è£…é…): å¿…é¡»å°†ç›®æ ‡ Bean çš„åç§°å’Œå±æ€§åè®¾ç½®çš„å®Œå…¨ç›¸åŒ</li>
  <li>
    <p>constructor(é€šè¿‡æ„é€ å™¨è‡ªåŠ¨è£…é…): å½“ Bean ä¸­å­˜åœ¨å¤šä¸ªæ„é€ å™¨æ—¶, æ­¤ç§è‡ªåŠ¨è£…é…æ–¹å¼å°†ä¼šå¾ˆå¤æ‚. <strong>ä¸æ¨èä½¿ç”¨</strong></p>
  </li>
  <li>autowire å±æ€§è¦ä¹ˆæ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…, è¦ä¹ˆæ ¹æ®åç§°è‡ªåŠ¨è£…é…, ä¸èƒ½ä¸¤è€…å…¼è€Œæœ‰ä¹‹</li>
  <li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨å®é™…çš„é¡¹ç›®ä¸­å¾ˆå°‘ä½¿ç”¨è‡ªåŠ¨è£…é…åŠŸèƒ½ï¼Œå› ä¸ºå’Œè‡ªåŠ¨è£…é…åŠŸèƒ½æ‰€å¸¦æ¥çš„å¥½å¤„æ¯”èµ·æ¥ï¼Œæ˜ç¡®æ¸…æ™°çš„é…ç½®æ–‡æ¡£æ›´æœ‰è¯´æœåŠ›ä¸€äº›</li>
</ul>

<h4 id="ç»§æ‰¿ä¾èµ–">ç»§æ‰¿ä¾èµ–</h4>

<ul>
  <li><strong>Spring</strong> <strong>å…è®¸ç»§æ‰¿</strong> <strong>bean</strong> <strong>çš„é…ç½®</strong>, è¢«ç»§æ‰¿çš„ bean ç§°ä¸ºçˆ¶ bean. ç»§æ‰¿è¿™ä¸ªçˆ¶ Bean çš„ Bean ç§°ä¸ºå­ Bean</li>
  <li><strong>å­</strong> <strong>Bean ä»çˆ¶ Bean ä¸­ç»§æ‰¿é…ç½®, åŒ…æ‹¬Bean çš„å±æ€§é…ç½®</strong></li>
  <li>å­ Bean ä¹Ÿå¯ä»¥<strong>è¦†ç›–</strong>ä»çˆ¶ Bean ç»§æ‰¿è¿‡æ¥çš„é…ç½®</li>
  <li>çˆ¶ Bean å¯ä»¥ä½œä¸ºé…ç½®æ¨¡æ¿, ä¹Ÿå¯ä»¥ä½œä¸º Bean å®ä¾‹. <strong>è‹¥åªæƒ³æŠŠçˆ¶ Beanä½œä¸ºæ¨¡æ¿, å¯ä»¥è®¾ç½® <code class="language-plaintext highlighter-rouge">&lt;bean&gt;</code>
çš„abstract å±æ€§ä¸º true</strong>, è¿™æ · Spring å°†ä¸ä¼šå®ä¾‹åŒ–è¿™ä¸ª Bean</li>
  <li>å¹¶ä¸æ˜¯ <code class="language-plaintext highlighter-rouge">&lt;bean&gt;</code>å…ƒç´ é‡Œçš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«ç»§æ‰¿ æ¯”å¦‚: autowire, abstract ç­‰</li>
  <li>
    <p>ä¹Ÿ<strong>å¯ä»¥å¿½ç•¥çˆ¶</strong> <strong>Bean</strong> <strong>çš„</strong> <strong>class</strong> <strong>å±æ€§</strong>, è®©å­ Bean æŒ‡å®šè‡ªå·±çš„ç±», è€Œå…±äº«ç›¸åŒçš„å±æ€§é…ç½®. ä½†æ­¤æ—¶ <strong>abstract</strong> <strong>å¿…é¡»è®¾ä¸º</strong> <strong>true</strong></p>
  </li>
  <li><strong>Spring å…è®¸ç”¨æˆ·é€šè¿‡ depends-onå±æ€§è®¾å®š Bean å‰ç½®ä¾èµ–çš„Bean</strong>ï¼Œå‰ç½®ä¾èµ–çš„ Bean ä¼šåœ¨æœ¬ Bean å®ä¾‹åŒ–ä¹‹å‰åˆ›å»ºå¥½</li>
  <li>å¦‚æœå‰ç½®ä¾èµ–äºå¤šä¸ª Beanï¼Œåˆ™å¯ä»¥é€šè¿‡é€—å·ï¼Œç©ºæ ¼æˆ–çš„æ–¹å¼é…ç½® Bean çš„åç§°</li>
</ul>

<h4 id="ä½œç”¨åŸŸ">ä½œç”¨åŸŸ</h4>

<ul>
  <li>åœ¨ Spring ä¸­, å¯ä»¥åœ¨<code class="language-plaintext highlighter-rouge"> &lt;bean&gt; </code>å…ƒç´ çš„ <strong>scope</strong> å±æ€§é‡Œè®¾ç½® Bean çš„ä½œç”¨åŸŸ</li>
  <li>
    <p>é»˜è®¤æƒ…å†µä¸‹, Spring åªä¸ºæ¯ä¸ªåœ¨ IOC å®¹å™¨é‡Œå£°æ˜çš„ Bean åˆ›å»ºå”¯ä¸€ä¸€ä¸ªå®ä¾‹, æ•´ä¸ª IOC å®¹å™¨èŒƒå›´å†…éƒ½èƒ½å…±äº«è¯¥å®ä¾‹</p>
  </li>
  <li>singleton:åœ¨springIOCå®¹å™¨ä¸­ä»…å­˜åœ¨ä¸€ä¸ªbeanå®ä¾‹ï¼Œbeanä»¥å•å®ä¾‹çš„æ–¹å¼å­˜åœ¨</li>
  <li>prototypeï¼šæ¯æ¬¡è°ƒç”¨getBeanï¼ˆï¼‰æ–¹æ³•æ—¶éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹</li>
  <li>requestï¼šæ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„beanï¼Œè¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºWebApplicationContextç¯å¢ƒ</li>
  <li>sessionï¼šåŒä¸€ä¸ªHTTP Sessionå…±äº«ä¸€ä¸ªbeanï¼Œä¸åŒçš„HTTP Sessionä½¿ç”¨ä¸åŒçš„beanã€‚è¯¥ä½œç”¨åŸŸä»…é€‚ç”¨äºWebApplicationContextç¯å¢ƒ</li>
</ul>

<h4 id="å¤–éƒ¨æ–‡ä»¶">å¤–éƒ¨æ–‡ä»¶</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">å¯é€šè¿‡ &lt;context:property-placeholder&gt; å…ƒç´ ç®€åŒ–</code></li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;context:property-placeholder</span> <span class="na">location=</span><span class="s">"classpath:db.properties"</span><span class="nt">/&gt;</span>
	
	<span class="c">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"dataSource"</span> <span class="na">class=</span><span class="s">"org.apache.commons.dbcp.BasicDataSource"</span>
		<span class="na">destroy-method=</span><span class="s">"close"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"driverClassName"</span> <span class="na">value=</span><span class="s">"${jdbc.driver}"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"url"</span> <span class="na">value=</span><span class="s">"${jdbc.url}"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"username"</span> <span class="na">value=</span><span class="s">"${jdbc.username}"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"password"</span> <span class="na">value=</span><span class="s">"${jdbc.password}"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"maxActive"</span> <span class="na">value=</span><span class="s">"10"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"maxIdle"</span> <span class="na">value=</span><span class="s">"5"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">"classpath:META-INF/service.xml"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<h4 id="spel">SpEL</h4>

<ul>
  <li>Spring è¡¨è¾¾å¼è¯­è¨€ï¼ˆç®€ç§°SpELï¼‰ï¼šæ˜¯ä¸€ä¸ªæ”¯æŒè¿è¡Œæ—¶æŸ¥è¯¢å’Œæ“ä½œå¯¹è±¡å›¾çš„å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€</li>
  <li>è¯­æ³•ç±»ä¼¼äº ELï¼šSpEL ä½¿ç”¨ #{â€¦} ä½œä¸ºå®šç•Œç¬¦ï¼Œæ‰€æœ‰åœ¨å¤§æ¡†å·ä¸­çš„å­—ç¬¦éƒ½å°†è¢«è®¤ä¸ºæ˜¯SpEL</li>
  <li>SpEL ä¸º bean çš„å±æ€§è¿›è¡ŒåŠ¨æ€èµ‹å€¼æä¾›äº†ä¾¿åˆ©</li>
  <li>é€šè¿‡ SpEL å¯ä»¥å®ç°ï¼šé€šè¿‡ bean çš„ id å¯¹ bean è¿›è¡Œå¼•ç”¨,è°ƒç”¨æ–¹æ³•ä»¥åŠå¼•ç”¨å¯¹è±¡ä¸­çš„å±æ€§,è®¡ç®—è¡¨è¾¾å¼çš„å€¼,æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">æ•´æ•°ï¼š&lt;property</span> <span class="py">name</span><span class="p">=</span><span class="s">"count"</span> <span class="s">value="#{5}"/&gt;</span>
<span class="err">å°æ•°ï¼š&lt;property</span> <span class="py">name</span><span class="p">=</span><span class="s">"frequency"</span> <span class="s">value="#{89.7}"/&gt;</span>
<span class="err">ç§‘å­¦è®¡æ•°æ³•ï¼š&lt;property</span> <span class="py">name</span><span class="p">=</span><span class="s">"capacity"</span> <span class="s">value="#{1e4}"/&gt;</span>
<span class="err">Booleanï¼š&lt;property</span> <span class="py">name</span><span class="p">=</span><span class="s">"enabled"</span> <span class="s">value="#{false}"/&gt;</span>
</code></pre></div></div>

<h4 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h4>

<p><img src="https://raw.githubusercontent.com/BaiWeiJieKu/BaiWeiJieKu.github.io/master/images/springlife.png" alt="" /></p>

<ul>
  <li>
    <p>1.å½“è°ƒç”¨è€…é€šè¿‡ getBean(beanName)å‘ å®¹å™¨è¯·æ±‚Bean æ—¶ï¼Œå¦‚æœå®¹å™¨æ³¨å†Œäº†org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessoræ¥å£ï¼Œåœ¨å®ä¾‹ bean ä¹‹å‰ï¼Œå°†è°ƒç”¨è¯¥æ¥å£çš„ postProcessBeforeInstantiation()æ–¹æ³•ï¼ˆå®ä¾‹åŒ–ä»¥å‰çš„æ“ä½œï¼‰ã€‚</p>
  </li>
  <li>
    <p>2.æ ¹æ®é…ç½®æƒ…å†µè°ƒç”¨ Beanæ„é€ å‡½æ•°æˆ–å·¥å‚æ–¹æ³•å®ä¾‹åŒ– bean</p>
  </li>
  <li>
    <p>3.å¦‚æœå®¹å™¨æ³¨å†Œäº† org.springframework.beans.factory.config.InstantiationAwareBeanPostProcessoræ¥å£ï¼Œåœ¨å®ä¾‹ bean ä¹‹åï¼Œè°ƒç”¨è¯¥æ¥å£çš„ postProcessAfterInstantiation()æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¯¹å·²ç»å®ä¾‹åŒ–çš„å¯¹è±¡è¿›è¡Œä¸€äº›æ“ä½œã€‚</p>
  </li>
  <li>
    <p>4.å¦‚æœBeané…ç½®äº†å±æ€§ä¿¡æ¯ï¼Œåœ¨è®¾ç½®æ¯ä¸ªå±æ€§ä¹‹å‰å°†è°ƒç”¨InstantiationAwareBeanPostProcessæ¥å£çš„ postProcessPropertyValues ï¼ˆï¼‰æ–¹æ³• ã€‚</p>
  </li>
  <li>
    <p>5.è®¾ç½®å±æ€§å€¼</p>
  </li>
  <li>
    <p>6.å¦‚æœ Bean å®ç°äº† org.springframework.beans.factory.BeanNameAware æ¥å£ï¼Œå°†è°ƒç”¨ Bean çš„ setBeanName() æ–¹æ³•ä¼ é€’ Bean çš„ ID ã€‚è®¾ç½®å®Œå±æ€§ï¼Œé¦–å…ˆæ˜¯BeanNameAwareçš„setBeanName()æ–¹æ³•ï¼Œè®¾ç½®beanåç§°ã€‚</p>
  </li>
  <li>
    <p>7.å¦‚æœ Bean å®ç°äº†  org.springframework.beans.factory.BeanFactoryAware æ¥å£ï¼Œå°†è°ƒç”¨ setBeanFactory() æ–¹æ³•ä¼ å…¥å·¥å‚è‡ªèº«ã€‚</p>

    <p>ç„¶åæ˜¯ BeanFactoryAwareçš„setBeanFactory() æ–¹æ³•ï¼Œè®¾ç½®beanå®ä¾‹ã€‚</p>

    <p>8.å¦‚æœ BeanPostProcessor å’Œ Bean å…³è”ï¼Œé‚£ä¹ˆ å°†è°ƒç”¨org.springframework.beans.factory.config.BeanPostProcessorçš„postProcessBeforeInitialzation() æ–¹ å¯¹ beanè¿›è¡ŒåŠ å·¥æ“ä½œï¼Œä¸spring çš„ AOP æœ‰å…³ã€‚</p>

    <p>è¿™ä¸ªåŒæ ·æ˜¯å¯¹beançš„å¤„ç†ï¼ŒBeanPostProcessoræ¥å£çš„postProcessBeforeInitialzation()æ–¹æ³•ã€‚</p>
  </li>
  <li>
    <p>9.å¦‚æœbean å®ç°äº† InitializingBean æ¥å£ï¼Œå°†è°ƒç”¨ afterPropertiesSet()æ–¹æ³•</p>

    <p>InitializingBeanæ¥å£çš„afterPropertiesSet()æ–¹æ³•</p>
  </li>
  <li>
    <p>10.å¦‚æœBean æŒ‡å®šäº† init-method æ–¹æ³•ï¼Œå®ƒå°†è¢«è°ƒç”¨ã€‚</p>

    <p>init-method æ–¹æ³•</p>
  </li>
  <li>
    <p>11.å¦‚æœæœ‰BeanPsotProcessor å’Œ Bean å…³è”ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ postProcessAfterInitialization() æ–¹æ³•å°†è¢«è°ƒç”¨ã€‚ åˆ°è¿™ä¸ªæ—¶å€™ï¼Œ Bean å·²ç»å¯ä»¥è¢«åº”ç”¨ç³»ç»Ÿä½¿ç”¨äº†</p>
  </li>
  <li>
    <p>12-a.å¦‚æœåœ¨<code class="language-plaintext highlighter-rouge">&lt;bean&gt;</code> ä¸­æŒ‡å®šäº†è¯¥ bean çš„ä½œç”¨èŒƒå›´ä¸º scope=â€prototypeâ€, å°† bean çš„è°ƒç”¨è€…ï¼Œè°ƒç”¨è€…ç®¡ç†è¯¥ bean çš„ç”Ÿå‘½å‘¨æœŸ,spring ä¸åœ¨ç®¡ç†è¯¥ bean ã€‚</p>
  </li>
  <li>
    <p>12-b.å¦‚æœåœ¨<code class="language-plaintext highlighter-rouge">&lt;bean&gt; </code>ä¸­æŒ‡å®šäº†è¯¥ bean çš„ä½œç”¨èŒƒå›´ä¸º scope=â€singletonâ€, åˆ™å°†è¯¥ bean æ”¾å…¥ springIOC çš„ç¼“å­˜æ± ä¸­ï¼Œå°†è§¦å‘ spring å¯¹è¯¥ bean çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
  </li>
  <li>
    <p>13-a.å¦‚æœ Bean å®ç°äº† DisposableBean æ¥å£ï¼Œ afterPropertiesSet()æ–¹æ³•()è¢«è°ƒç”¨ã€‚</p>
  </li>
  <li>
    <p>14-a.ç›´æ¥é€šè¿‡destroyï¼methodé”€æ¯</p>
  </li>
  <li>
    <p>14-b è¿™ä¸ªbeanè‡ªå·±çš„ç®¡ç†è€…å¦‚ä½•é”€æ¯ï¼Œspringä¸ç®¡ã€‚</p>
  </li>
  <li>
    <p>Beançš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸä» spring å®¹å™¨å¼€å§‹å®ä¾‹åŒ– bean å¼€å§‹ï¼Œåˆ°é”€æ¯ã€‚å¯ä»¥ä»ä¸‰ç‚¹æ¥ç†è§£</p>

    <p>1ã€ beanè‡ªèº«çš„æ–¹æ³•ï¼šåŒ…æ‹¬æ„é€ æ–¹æ³•ã€ set æ–¹æ³•ã€ init-method æŒ‡å®šçš„æ–¹æ³•ã€ destroy-method æŒ‡å®šçš„æ–¹æ³•</p>

    <p>2ã€ Beançº§ç”Ÿå‘½å‘¨æœŸæ¥å£æ–¹æ³•ï¼šå¦‚ BeanNameAware ã€ BeanFactoryAware ç­‰è¿™äº›æ¥å£æ–¹æ³•ç”± beanç±»å®ç°ã€‚</p>

    <p>3ã€ å®¹å™¨çº§ç”Ÿå‘½å‘¨æœŸæ¥å£æ–¹æ³•ï¼šä¸Šå›¾ä¸­å¸¦æ˜Ÿçš„ã€‚æœ‰InstantiationAwareBeanPostProcessor ã€ BeanPostProcessor ç­‰ã€‚ä¸€èˆ¬ç§°ä¸ºåå¤„ç† å™¨ã€‚ä»–ä»¬ä¸€èˆ¬ä¸ç”±bean æœ¬èº«å®ç°ï¼Œç‹¬ç«‹å­˜åœ¨ï¼Œæ³¨å†Œåˆ° spring å®¹å™¨ä¸­ã€‚ Spring é€šè¿‡æ¥å£åå°„é¢„å…ˆçŸ¥é“ï¼Œå½“ spring å®¹å™¨åˆ›å»ºä»»ä½• bean æ—¶ï¼Œè¿™äº›åå¤„ç†å™¨éƒ½ä¼šå‘ç”Ÿä½œç”¨ã€‚æ‰€ä»¥ä»–ä»¬æ˜¯å…¨å±€çš„ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–ç å¯¹åªæ„Ÿå…´è¶£çš„ bean è¿›è¡Œå¤„ç†ã€‚</p>
  </li>
  <li>
    <p>ä¸‹å›¾æè¿°äº†ApplicationContext çš„ç”Ÿå‘½å‘¨æœŸ</p>
  </li>
</ul>

<p><img src="https://raw.githubusercontent.com/BaiWeiJieKu/BaiWeiJieKu.github.io/master/images/springlife2.png" alt="" /></p>

<ul>
  <li>Spring IOC å®¹å™¨å¯ä»¥ç®¡ç† Bean çš„ç”Ÿå‘½å‘¨æœŸ, Spring å…è®¸åœ¨ Bean ç”Ÿå‘½å‘¨æœŸçš„ç‰¹å®šç‚¹æ‰§è¡Œå®šåˆ¶çš„ä»»åŠ¡</li>
  <li>åœ¨ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæœ‰ä¸¤ä¸ªå‘¨æœŸæ—¶é—´å¯¹Beanæ¥è¯´å°¤ä¸ºé‡è¦ï¼Œä¸€ä¸ªæ˜¯åˆå§‹åŒ–åï¼ˆPostInitializationï¼‰ï¼Œä¸€ä¸ªæ˜¯é”€æ¯å‰ï¼ˆPredestructionï¼‰</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">(å®ä¾‹åŒ–Bean)-----ã€‹</span>
<span class="err">ï¼ˆåˆ©ç”¨ä¾èµ–æ³¨å…¥æ¥é…ç½®Beanä¸­æ‰€æœ‰å±æ€§å€¼ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨BeanNameAwareçš„setBeanNameæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨BeanFactoryAwareçš„setBeanFactoryæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨ApplicationContextAwareçš„setApplicationContexæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨BeanPostProcessorçš„postProcessAfterInitializationæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨InitializingBeançš„afterPropertiesSetæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨init-methodå±æ€§æŒ‡å®šçš„åˆå§‹åŒ–æ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆè°ƒç”¨BeanPostProcessorçš„postProcessAfterInitializationæ–¹æ³•ï¼‰-----ã€‹</span>
<span class="err">ï¼ˆBeanå®ä¾‹åŒ–å®Œæˆï¼Œå¯ä»¥ä½¿ç”¨äº†ï¼‰</span>
</code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">springå®¹å™¨å…³é—­-----ã€‹</span>
<span class="err">è°ƒç”¨DisposableBeançš„destroyï¼ˆï¼‰æ–¹æ³•-----ã€‹</span>
<span class="err">è°ƒç”¨destroy-methodå±æ€§æŒ‡å®šçš„é”€æ¯Beançš„æ–¹æ³•</span>
</code></pre></div></div>

<ul>
  <li><strong>æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼Œä½¿ç”¨init-methodå±æ€§æŒ‡å®šåˆå§‹åŒ–æ–¹æ³•</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.init</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.InitializingBean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleBean</span><span class="o">{</span>
	
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DEFAULT_NAME</span> <span class="o">=</span> <span class="s">"Mark"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DEFAULT_AGE</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">SimpleBean</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"------------------------\n"</span> <span class="o">+</span><span class="s">"Springå®ä¾‹åŒ–bean..."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"name = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"age = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">);</span>
	<span class="o">}</span>

	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"åˆå§‹åŒ–beanå®Œæˆï¼Œè°ƒç”¨init()..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="no">DEFAULT_NAME</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="no">DEFAULT_AGE</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
	<span class="o">}</span>
	

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> 	<span class="s">"name: "</span><span class="o">+</span> <span class="n">name</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"age: "</span><span class="o">+</span> <span class="n">age</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"------------------------\n"</span><span class="o">;</span> 
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">3</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>

			<span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"SimpleBean"</span><span class="o">+</span><span class="n">j</span><span class="o">);</span>
			
		<span class="o">}</span>
		
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean1"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span> <span class="na">init-method=</span><span class="s">"init"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Bill"</span><span class="nt">&gt;&lt;/property&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"19"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 
  
  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean2"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span> <span class="na">init-method=</span><span class="s">"init"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"20"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span>
  
   <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean3"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span> <span class="na">init-method=</span><span class="s">"init"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Charles"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 

<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">------------------------</span>
<span class="err">Springå®ä¾‹åŒ–bean...</span>
<span class="err">Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥...</span>
<span class="py">name</span><span class="p">=</span><span class="s">bill</span>
<span class="err">Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥...</span>
<span class="py">age</span><span class="p">=</span><span class="s">19</span>
<span class="err">åˆå§‹åŒ–beanå®Œæˆï¼Œè°ƒç”¨init()...</span>
<span class="py">name</span><span class="p">:</span><span class="s">mark</span>
<span class="py">age</span><span class="p">:</span><span class="s">20</span>
<span class="err">------------------------</span>
</code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">1)å…ˆè°ƒç”¨SimpleBeanç±»çš„æ„é€ æ–¹æ³•åˆ›å»ºSimpleBean1å®ä¾‹</span>
<span class="err">2ï¼‰æ¥ç€springçš„IOCå®¹å™¨é€šè¿‡setteræ–¹æ³•å°†nameå’Œageä¸¤ä¸ªå±æ€§çš„å€¼æ³¨å…¥SimpleBean1å®ä¾‹</span>
<span class="err">3ï¼‰æœ€åå®¹å™¨è‡ªåŠ¨è°ƒç”¨init()æ–¹æ³•å®Œæˆåˆå§‹åŒ–å·¥ä½œ</span>
</code></pre></div></div>

<h4 id="beanå®ä¾‹åŒ–">Beanå®ä¾‹åŒ–</h4>

<ul>
  <li><strong>å®ç°InitializingBeanæ¥å£</strong></li>
  <li>å‡¡æ˜¯ç»§æ‰¿äº†InitializingBeanæ¥å£çš„ç±»ï¼Œåœ¨åˆå§‹åŒ–Beançš„æ—¶å€™éƒ½ä¼šæ‰§è¡ŒafterPropertiesSetæ–¹æ³•</li>
  <li>å¯¹äºå®ç°äº†InitializingBeanæ¥å£çš„Beanï¼Œæ— é¡»å†ä½¿ç”¨init-methodæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•</li>
  <li>å®ç°äº†InitializingBeanæ¥å£çš„æ–¹å¼å°†ä»£ç å’Œspringè€¦åˆèµ·æ¥ï¼Œæ˜¯ä¾µå…¥å¼è®¾è®¡ï¼Œå› æ­¤<strong>ä¸æ¨èä½¿ç”¨</strong></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.init</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.InitializingBean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleBean</span> <span class="kd">implements</span> <span class="nc">InitializingBean</span><span class="o">{</span>
	
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DEFAULT_NAME</span> <span class="o">=</span> <span class="s">"Mark"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DEFAULT_AGE</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">SimpleBean</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"------------------------\n"</span> <span class="o">+</span><span class="s">"Springå®ä¾‹åŒ–bean..."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"name = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"age = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">);</span>
	<span class="o">}</span>


	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> 	<span class="s">"name: "</span><span class="o">+</span> <span class="n">name</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"age: "</span><span class="o">+</span> <span class="n">age</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"------------------------\n"</span><span class="o">;</span> 
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">3</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>

			<span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"SimpleBean"</span><span class="o">+</span><span class="n">j</span><span class="o">);</span>
			
		<span class="o">}</span>
		
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterPropertiesSet</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"åˆå§‹åŒ–beanå®Œæˆï¼Œè°ƒç”¨afterPropertiesSet()..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="no">DEFAULT_NAME</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="no">DEFAULT_AGE</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean1"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Bill"</span><span class="nt">&gt;&lt;/property&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"19"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 
  
  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean2"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"20"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span>
  
   <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean3"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Charles"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 

<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<h4 id="beané”€æ¯">Beané”€æ¯</h4>

<ul>
  <li>å…³é—­é’©å­ï¼ˆshutdown hookï¼‰ï¼šç¨‹åºåœ¨é€€å‡ºJVMä¹‹å‰å…³é—­spring ApplicationContextå®¹å™¨</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">ApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">3</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>

			<span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"SimpleBean"</span><span class="o">+</span><span class="n">j</span><span class="o">);</span>
			
		<span class="o">}</span>
		<span class="c1">//ä¸ºspringå®¹å™¨æ³¨å†Œå…³é—­é’©å­</span>
		<span class="n">ctx</span><span class="o">.</span><span class="na">registerShutdownHook</span><span class="o">();</span>
	<span class="o">}</span>	
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨destroy-methodå±æ€§æŒ‡å®šææ„æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.init</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.AbstractApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleBean</span> <span class="o">{</span>
	
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DEFAULT_NAME</span> <span class="o">=</span> <span class="s">"Mark"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DEFAULT_AGE</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">SimpleBean</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springå®ä¾‹åŒ–bean..."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"name = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"age = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">);</span>
	<span class="o">}</span>

	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">(){</span>
		
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"è°ƒç”¨close()..."</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æ­¤æ—¶å¯ä»¥ç”¨æ¥æ‰§è¡Œé”€æ¯å‰çš„èµ„æºå›æ”¶æ–¹æ³•..."</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> 	<span class="s">"name: "</span><span class="o">+</span> <span class="n">name</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"age: "</span><span class="o">+</span> <span class="n">age</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">;</span> 
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">AbstractApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		<span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"SimpleBean"</span><span class="o">);</span>
		
		<span class="n">ctx</span><span class="o">.</span><span class="na">registerShutdownHook</span><span class="o">();</span>	
		
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å…³é—­ApplicationContextï¼"</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span> <span class="na">destroy-method=</span><span class="s">"close"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Bill"</span><span class="nt">&gt;&lt;/property&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"19"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 

<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">Springå®ä¾‹åŒ–bean...</span>
<span class="err">Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥...</span>
<span class="py">name</span><span class="p">=</span><span class="s">Bill</span>
<span class="err">Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥...</span>
<span class="py">age</span><span class="p">=</span><span class="s">19</span>
<span class="err">å…³é—­ApplicationContextï¼</span>
<span class="err">è°ƒç”¨close()...</span>
<span class="err">æ­¤æ—¶å¯ä»¥ç”¨æ¥æ‰§è¡Œé”€æ¯å‰çš„èµ„æºå›æ”¶æ–¹æ³•...</span>
</code></pre></div></div>

<ul>
  <li>å®ç°DisposableBeanæ¥å£</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.deciphering.init</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.DisposableBean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.ApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.AbstractApplicationContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleBean</span> <span class="kd">implements</span> <span class="nc">DisposableBean</span><span class="o">{</span>
	
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="no">DEFAULT_NAME</span> <span class="o">=</span> <span class="s">"Mark"</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DEFAULT_AGE</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nf">SimpleBean</span><span class="o">(){</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springå®ä¾‹åŒ–bean..."</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"name = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Springæ‰§è¡Œä¾èµ–å…³ç³»æ³¨å…¥..."</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"age = "</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">age</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> 	<span class="s">"name: "</span><span class="o">+</span> <span class="n">name</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">+</span>
				<span class="s">"age: "</span><span class="o">+</span> <span class="n">age</span> <span class="o">+</span><span class="s">"\n"</span><span class="o">;</span> 
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
		
		<span class="nc">AbstractApplicationContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"beans.xml"</span><span class="o">);</span>
		<span class="n">ctx</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"SimpleBean"</span><span class="o">);</span>
		
		<span class="n">ctx</span><span class="o">.</span><span class="na">registerShutdownHook</span><span class="o">();</span>	
		
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"å…³é—­ApplicationContextï¼"</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">destroy</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"è°ƒç”¨close()..."</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"æ­¤æ—¶å¯ä»¥ç”¨æ¥æ‰§è¡Œé”€æ¯å‰çš„èµ„æºå›æ”¶æ–¹æ³•..."</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"SimpleBean"</span> <span class="na">class=</span><span class="s">"com.deciphering.init.SimpleBean"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"Bill"</span><span class="nt">&gt;&lt;/property&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"19"</span><span class="nt">&gt;&lt;/property&gt;</span>
  <span class="nt">&lt;/bean&gt;</span> 

<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<h4 id="æ³¨è§£è£…é…">æ³¨è§£è£…é…</h4>

<ul>
  <li>ç»„ä»¶æ‰«æ(componentscanning):  Spring èƒ½å¤Ÿä» classpath ä¸‹è‡ªåŠ¨æ‰«æ, ä¾¦æµ‹å’Œå®ä¾‹åŒ–å…·æœ‰ç‰¹å®šæ³¨è§£çš„ç»„ä»¶</li>
  <li>ç‰¹å®šç»„ä»¶åŒ…æ‹¬:</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">@</span><span class="py">Component</span><span class="p">:</span> <span class="s">åŸºæœ¬æ³¨è§£, æ ‡è¯†äº†ä¸€ä¸ªå— Spring ç®¡ç†çš„ç»„ä»¶</span>
<span class="err">@</span><span class="py">Respository</span><span class="p">:</span> <span class="s">æ ‡è¯†æŒä¹…å±‚ç»„ä»¶</span>
<span class="err">@</span><span class="py">Service</span><span class="p">:</span> <span class="s">æ ‡è¯†æœåŠ¡å±‚(ä¸šåŠ¡å±‚)ç»„ä»¶</span>
<span class="err">@</span><span class="py">Controller</span><span class="p">:</span> <span class="s">æ ‡è¯†è¡¨ç°å±‚ç»„ä»¶</span>
</code></pre></div></div>

<ul>
  <li>å¯¹äºæ‰«æåˆ°çš„ç»„ä»¶,Spring æœ‰é»˜è®¤çš„å‘½åç­–ç•¥:ä½¿ç”¨éé™å®šç±»å, ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ã€‚ä¹Ÿå¯ä»¥åœ¨æ³¨è§£ä¸­é€šè¿‡ value å±æ€§å€¼æ ‡è¯†ç»„ä»¶çš„åç§°</li>
  <li>å½“åœ¨ç»„ä»¶ç±»ä¸Šä½¿ç”¨äº†ç‰¹å®šçš„æ³¨è§£ä¹‹å, è¿˜éœ€è¦åœ¨ Spring çš„é…ç½®æ–‡ä»¶ä¸­å£°æ˜<code class="language-plaintext highlighter-rouge">&lt;context:component-scan&gt; </code></li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">base-package</span> <span class="err">å±æ€§æŒ‡å®šä¸€ä¸ªéœ€è¦æ‰«æçš„åŸºç±»åŒ…ï¼ŒSpring</span> <span class="err">å®¹å™¨å°†ä¼šæ‰«æè¿™ä¸ªåŸºç±»åŒ…é‡ŒåŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»</span>
<span class="err">å½“éœ€è¦æ‰«æå¤šä¸ªåŒ…æ—¶,</span> <span class="err">å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”</span>
<span class="err">å¦‚æœä»…å¸Œæœ›æ‰«æç‰¹å®šçš„ç±»è€ŒéåŸºåŒ…ä¸‹çš„æ‰€æœ‰ç±»ï¼Œå¯ä½¿ç”¨</span> <span class="err">resource-pattern</span> <span class="err">å±æ€§è¿‡æ»¤ç‰¹å®šçš„ç±»</span>

<span class="err">&lt;</span><span class="py">context</span><span class="p">:</span><span class="s">component-scan </span>
	<span class="py">base-package</span><span class="p">=</span><span class="s">"com.test.spring.beans"</span> 
	<span class="s">resource-pattern="autowire/*.class"/&gt;</span>
	

<span class="err">&lt;</span><span class="py">context</span><span class="p">:</span><span class="s">include-filter&gt; å­èŠ‚ç‚¹è¡¨ç¤ºè¦åŒ…å«çš„ç›®æ ‡ç±»</span>
<span class="err">&lt;</span><span class="py">context</span><span class="p">:</span><span class="s">exclude-filter&gt; å­èŠ‚ç‚¹è¡¨ç¤ºè¦æ’é™¤åœ¨å¤–çš„ç›®æ ‡ç±»</span>
<span class="err">&lt;</span><span class="py">context</span><span class="p">:</span><span class="s">component-scan&gt; ä¸‹å¯ä»¥æ‹¥æœ‰è‹¥å¹²ä¸ª &lt;context:include-filter&gt; å’Œ &lt;context:exclude-filter&gt; å­èŠ‚ç‚¹</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;context:component-scan&gt;</code>å…ƒç´ è¿˜ä¼šè‡ªåŠ¨æ³¨å†Œ AutowiredAnnotationBeanPostProcessor å®ä¾‹, è¯¥å®ä¾‹å¯ä»¥è‡ªåŠ¨è£…é…å…·æœ‰@Autowired å’Œ @Resource ã€@Injectæ³¨è§£çš„å±æ€§</li>
</ul>

<h4 id="autowired">@Autowired</h4>

<ul>
  <li>
    <p>@Autowired æ³¨è§£è‡ªåŠ¨è£…é…<strong>å…·æœ‰å…¼å®¹ç±»å‹</strong>çš„å•ä¸ª Beanå±æ€§</p>
  </li>
  <li>æ„é€ å™¨, æ™®é€šå­—æ®µ(å³ä½¿æ˜¯é public), ä¸€åˆ‡å…·æœ‰å‚æ•°çš„æ–¹æ³•éƒ½å¯ä»¥åº”ç”¨@Authwired æ³¨è§£</li>
  <li>é»˜è®¤æƒ…å†µä¸‹, æ‰€æœ‰ä½¿ç”¨ @Authwired æ³¨è§£çš„å±æ€§éƒ½éœ€è¦è¢«è®¾ç½®. å½“ Spring æ‰¾ä¸åˆ°åŒ¹é…çš„ Bean è£…é…å±æ€§æ—¶, ä¼šæŠ›å‡ºå¼‚å¸¸, è‹¥æŸä¸€å±æ€§å…è®¸ä¸è¢«è®¾ç½®, å¯ä»¥è®¾ç½® @Authwired æ³¨è§£çš„ required å±æ€§ä¸º false</li>
  <li>é»˜è®¤æƒ…å†µä¸‹, å½“ IOC å®¹å™¨é‡Œå­˜åœ¨å¤šä¸ªç±»å‹å…¼å®¹çš„ Bean æ—¶, é€šè¿‡ç±»å‹çš„è‡ªåŠ¨è£…é…å°†æ— æ³•å·¥ä½œ. æ­¤æ—¶å¯ä»¥åœ¨ @Qualifier æ³¨è§£é‡Œæä¾› Bean çš„åç§°. Spring å…è®¸å¯¹æ–¹æ³•çš„å…¥å‚æ ‡æ³¨ @Qualifiter å·²æŒ‡å®šæ³¨å…¥ Bean çš„åç§°</li>
  <li>@Authwired æ³¨è§£ä¹Ÿå¯ä»¥åº”ç”¨åœ¨<strong>æ•°ç»„ç±»å‹</strong>çš„å±æ€§ä¸Š, æ­¤æ—¶ Spring å°†ä¼šæŠŠæ‰€æœ‰åŒ¹é…çš„ Bean è¿›è¡Œè‡ªåŠ¨è£…é…</li>
  <li>@Authwired æ³¨è§£ä¹Ÿå¯ä»¥åº”ç”¨åœ¨<strong>é›†åˆå±æ€§</strong>ä¸Š, æ­¤æ—¶ Spring è¯»å–è¯¥é›†åˆçš„ç±»å‹ä¿¡æ¯, ç„¶åè‡ªåŠ¨è£…é…æ‰€æœ‰ä¸ä¹‹å…¼å®¹çš„ Bean</li>
  <li>@Authwired æ³¨è§£ç”¨<strong>åœ¨</strong> <strong>java.util.Map</strong> ä¸Šæ—¶, è‹¥è¯¥ Map çš„é”®å€¼ä¸º String, é‚£ä¹ˆ Spring å°†è‡ªåŠ¨è£…é…ä¸ä¹‹ Map å€¼ç±»å‹å…¼å®¹çš„ Bean, æ­¤æ—¶ Bean çš„åç§°ä½œä¸ºé”®å€¼</li>
</ul>

<h4 id="resource">@Resource</h4>

<ul>
  <li>Spring è¿˜æ”¯æŒ @Resource å’Œ @Inject æ³¨è§£ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£å’Œ @Autowired æ³¨è§£çš„åŠŸç”¨ç±»ä¼¼</li>
  <li>@Resource æ³¨è§£è¦æ±‚æä¾›ä¸€ä¸ª Bean åç§°çš„å±æ€§ï¼Œè‹¥è¯¥å±æ€§ä¸ºç©ºï¼Œåˆ™è‡ªåŠ¨é‡‡ç”¨æ ‡æ³¨å¤„çš„å˜é‡æˆ–æ–¹æ³•åä½œä¸º
Bean çš„åç§°</li>
  <li>@Inject å’Œ @Autowired æ³¨è§£ä¸€æ ·ä¹Ÿæ˜¯æŒ‰ç±»å‹åŒ¹é…æ³¨å…¥çš„ Beanï¼Œ ä½†æ²¡æœ‰ reqired å±æ€§</li>
  <li><strong>å»ºè®®ä½¿ç”¨ @Autowired æ³¨è§£</strong></li>
</ul>

<h4 id="æ€ç»´å¯¼å›¾">æ€ç»´å¯¼å›¾</h4>

<p><a href="https://blog.csdn.net/qq_36925536/article/details/101313412">æ€ç»´å¯¼å›¾</a></p>

:ET