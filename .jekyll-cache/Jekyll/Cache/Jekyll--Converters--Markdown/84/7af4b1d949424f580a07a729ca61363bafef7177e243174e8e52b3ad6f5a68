I"åó<ul id="markdown-toc">
  <li><a href="#ç®€ä»‹" id="markdown-toc-ç®€ä»‹">ç®€ä»‹</a></li>
  <li><a href="#ç¯å¢ƒæ­å»º" id="markdown-toc-ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</a>    <ul>
      <li><a href="#å®‰è£…zookeeper" id="markdown-toc-å®‰è£…zookeeper">å®‰è£…zookeeper</a></li>
      <li><a href="#å®‰è£…dubbo-adminç®¡ç†æ§åˆ¶å°" id="markdown-toc-å®‰è£…dubbo-adminç®¡ç†æ§åˆ¶å°">å®‰è£…dubbo-adminç®¡ç†æ§åˆ¶å°</a></li>
    </ul>
  </li>
  <li><a href="#ç®€å•ä½¿ç”¨" id="markdown-toc-ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</a>    <ul>
      <li><a href="#å…¬å…±æ¥å£å±‚" id="markdown-toc-å…¬å…±æ¥å£å±‚">å…¬å…±æ¥å£å±‚</a></li>
      <li><a href="#ç”¨æˆ·æ¨¡å—" id="markdown-toc-ç”¨æˆ·æ¨¡å—">ç”¨æˆ·æ¨¡å—</a></li>
      <li><a href="#è®¢å•æ¨¡å—" id="markdown-toc-è®¢å•æ¨¡å—">è®¢å•æ¨¡å—</a></li>
      <li><a href="#æ³¨è§£æ”¹é€ " id="markdown-toc-æ³¨è§£æ”¹é€ ">æ³¨è§£æ”¹é€ </a></li>
    </ul>
  </li>
  <li><a href="#æ•´åˆboot" id="markdown-toc-æ•´åˆboot">æ•´åˆboot</a>    <ul>
      <li><a href="#æ–¹å¼ä¸€" id="markdown-toc-æ–¹å¼ä¸€">æ–¹å¼ä¸€</a></li>
      <li><a href="#æ–¹å¼äºŒ" id="markdown-toc-æ–¹å¼äºŒ">æ–¹å¼äºŒ</a></li>
      <li><a href="#æ–¹å¼ä¸‰" id="markdown-toc-æ–¹å¼ä¸‰">æ–¹å¼ä¸‰</a></li>
    </ul>
  </li>
  <li><a href="#dubboé…ç½®" id="markdown-toc-dubboé…ç½®">dubboé…ç½®</a>    <ul>
      <li><a href="#é…ç½®åŸåˆ™" id="markdown-toc-é…ç½®åŸåˆ™">é…ç½®åŸåˆ™</a></li>
      <li><a href="#é‡è¯•æ¬¡æ•°" id="markdown-toc-é‡è¯•æ¬¡æ•°">é‡è¯•æ¬¡æ•°</a></li>
      <li><a href="#è¶…æ—¶æ—¶é—´" id="markdown-toc-è¶…æ—¶æ—¶é—´">è¶…æ—¶æ—¶é—´</a></li>
      <li><a href="#ç‰ˆæœ¬å·" id="markdown-toc-ç‰ˆæœ¬å·">ç‰ˆæœ¬å·</a></li>
    </ul>
  </li>
  <li><a href="#é«˜å¯ç”¨" id="markdown-toc-é«˜å¯ç”¨">é«˜å¯ç”¨</a>    <ul>
      <li><a href="#dubboç›´è¿" id="markdown-toc-dubboç›´è¿">dubboç›´è¿</a></li>
      <li><a href="#dubboè´Ÿè½½å‡è¡¡" id="markdown-toc-dubboè´Ÿè½½å‡è¡¡">dubboè´Ÿè½½å‡è¡¡</a></li>
      <li><a href="#æœåŠ¡ç†”æ–­ä¸é™çº§" id="markdown-toc-æœåŠ¡ç†”æ–­ä¸é™çº§">æœåŠ¡ç†”æ–­ä¸é™çº§</a></li>
    </ul>
  </li>
  <li><a href="#dubboåŸç†" id="markdown-toc-dubboåŸç†">dubboåŸç†</a>    <ul>
      <li><a href="#rpcåŸç†" id="markdown-toc-rpcåŸç†">RPCåŸç†</a></li>
      <li><a href="#nettyåŸºæœ¬åŸç†" id="markdown-toc-nettyåŸºæœ¬åŸç†">NettyåŸºæœ¬åŸç†</a></li>
      <li><a href="#æ¡†æ¶è®¾è®¡" id="markdown-toc-æ¡†æ¶è®¾è®¡">æ¡†æ¶è®¾è®¡</a></li>
      <li><a href="#æœåŠ¡æš´éœ²" id="markdown-toc-æœåŠ¡æš´éœ²">æœåŠ¡æš´éœ²</a></li>
      <li><a href="#æœåŠ¡å¼•ç”¨" id="markdown-toc-æœåŠ¡å¼•ç”¨">æœåŠ¡å¼•ç”¨</a></li>
      <li><a href="#æœåŠ¡è°ƒç”¨" id="markdown-toc-æœåŠ¡è°ƒç”¨">æœåŠ¡è°ƒç”¨</a></li>
    </ul>
  </li>
</ul>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>

<ul>
  <li>å•ä¸€åº”ç”¨æ¶æ„ï¼šå½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚æ­¤æ—¶ï¼Œç”¨äºç®€åŒ–å¢åˆ æ”¹æŸ¥å·¥ä½œé‡çš„æ•°æ®è®¿é—®æ¡†æ¶(ORM)æ˜¯å…³é”®ï¼Œæ¯”å¦‚mybatisã€‚é€‚ç”¨äºå°å‹ç½‘ç«™ï¼Œå°å‹ç®¡ç†ç³»ç»Ÿï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åˆ°ä¸€ä¸ªåŠŸèƒ½é‡Œï¼Œç®€å•æ˜“ç”¨ã€‚</li>
  <li>å‚ç›´åº”ç”¨æ¶æ„ï¼šå½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨å¢åŠ æœºå™¨å¸¦æ¥çš„åŠ é€Ÿåº¦è¶Šæ¥è¶Šå°ï¼Œå°†åº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºåŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„Webæ¡†æ¶(MVC)æ˜¯å…³é”®ã€‚é€šè¿‡åˆ‡åˆ†ä¸šåŠ¡æ¥å®ç°å„ä¸ªæ¨¡å—ç‹¬ç«‹éƒ¨ç½²ï¼Œé™ä½äº†ç»´æŠ¤å’Œéƒ¨ç½²çš„éš¾åº¦ï¼Œå›¢é˜Ÿå„å¸å…¶èŒæ›´æ˜“ç®¡ç†ï¼Œæ€§èƒ½æ‰©å±•ä¹Ÿæ›´æ–¹ä¾¿ï¼Œæ›´æœ‰é’ˆå¯¹æ€§ã€‚</li>
  <li>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ï¼šå½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®ã€‚</li>
  <li>æµåŠ¨è®¡ç®—æ¶æ„ï¼šå½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)[ Service Oriented Architecture]æ˜¯å…³é”®ã€‚æ¯”å¦‚zookeeperã€‚</li>
  <li>ä»€ä¹ˆæ˜¯RPCï¼šRPCã€Remote Procedure Callã€‘æ˜¯æŒ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ï¼Œä»–æ˜¯ä¸€ç§æŠ€æœ¯çš„æ€æƒ³ï¼Œè€Œä¸æ˜¯è§„èŒƒã€‚å®ƒå…è®¸ç¨‹åºè°ƒç”¨å¦ä¸€ä¸ªåœ°å€ç©ºé—´ï¼ˆé€šå¸¸æ˜¯å…±äº«ç½‘ç»œçš„å¦ä¸€å°æœºå™¨ä¸Šï¼‰çš„è¿‡ç¨‹æˆ–å‡½æ•°ï¼Œè€Œä¸ç”¨ç¨‹åºå‘˜æ˜¾å¼ç¼–ç è¿™ä¸ªè¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚ã€‚å³ç¨‹åºå‘˜æ— è®ºæ˜¯è°ƒç”¨æœ¬åœ°çš„è¿˜æ˜¯è¿œç¨‹çš„å‡½æ•°ï¼Œæœ¬è´¨ä¸Šç¼–å†™çš„è°ƒç”¨ä»£ç åŸºæœ¬ç›¸åŒã€‚RPCä¸¤ä¸ªæ ¸å¿ƒæ¨¡å—ï¼šé€šè®¯ï¼Œåºåˆ—åŒ–ã€‚</li>
  <li>Apache Dubbo ä¸€æ¬¾é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚</li>
  <li><a href="http://dubbo.apache.org/">å®˜ç½‘</a></li>
  <li><strong>æœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰</strong>ï¼šæš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ï¼ŒæœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</li>
  <li><strong>æœåŠ¡æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰</strong>ï¼šè°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ï¼ŒæœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</li>
  <li><strong>æ³¨å†Œä¸­å¿ƒï¼ˆRegistryï¼‰</strong>ï¼šæ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…</li>
  <li><strong>ç›‘æ§ä¸­å¿ƒï¼ˆMonitorï¼‰</strong>ï¼šæœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ</li>
</ul>

<h3 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h3>

<h4 id="å®‰è£…zookeeper">å®‰è£…zookeeper</h4>

<ul>
  <li>
    <p>1ã€ä¸‹è½½zookeeper</p>

    <p>ç½‘å€ <a href="https://archive.apache.org/dist/zookeeper/zookeeper-3.4.13/">https://archive.apache.org/dist/zookeeper/zookeeper-3.4.13/</a></p>
  </li>
  <li>
    <p>2ã€è§£å‹zookeeper</p>

    <p>è§£å‹è¿è¡ŒzkServer.cmd ï¼Œåˆæ¬¡è¿è¡Œä¼šæŠ¥é”™ï¼Œæ²¡æœ‰zoo.cfgé…ç½®æ–‡ä»¶</p>
  </li>
  <li>
    <p>3ã€ä¿®æ”¹zoo.cfgé…ç½®æ–‡ä»¶</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>å°†confä¸‹çš„zoo_sample.cfgå¤åˆ¶ä¸€ä»½æ”¹åä¸ºzoo.cfgå³å¯ã€‚
æ³¨æ„å‡ ä¸ªé‡è¦ä½ç½®ï¼š
dataDir=./   ä¸´æ—¶æ•°æ®å­˜å‚¨çš„ç›®å½•ï¼ˆå¯å†™ç›¸å¯¹è·¯å¾„ï¼‰
clientPort=2181   zookeeperçš„ç«¯å£å·
ä¿®æ”¹å®Œæˆåå†æ¬¡å¯åŠ¨zookeeper

</code></pre></div>    </div>
  </li>
  <li>
    <p>4ã€ä½¿ç”¨zkCli.cmdæµ‹è¯•</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls /ï¼šåˆ—å‡ºzookeeperæ ¹ä¸‹ä¿å­˜çš„æ‰€æœ‰èŠ‚ç‚¹
create â€“e /atguigu 123ï¼šåˆ›å»ºä¸€ä¸ªatguiguèŠ‚ç‚¹ï¼Œå€¼ä¸º123
get /atguiguï¼šè·å–/atguiguèŠ‚ç‚¹çš„å€¼

</code></pre></div>    </div>

    <p>â€‹</p>
  </li>
</ul>

<h4 id="å®‰è£…dubbo-adminç®¡ç†æ§åˆ¶å°">å®‰è£…dubbo-adminç®¡ç†æ§åˆ¶å°</h4>

<ul>
  <li>
    <p>dubboæœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªæœåŠ¡è½¯ä»¶ã€‚å®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªjaråŒ…èƒ½å¤Ÿå¸®ä½ çš„javaç¨‹åºè¿æ¥åˆ°zookeeperï¼Œå¹¶åˆ©ç”¨zookeeperæ¶ˆè´¹ã€æä¾›æœåŠ¡ã€‚æ‰€ä»¥ä½ ä¸ç”¨åœ¨Linuxä¸Šå¯åŠ¨ä»€ä¹ˆdubboæœåŠ¡ã€‚</p>
  </li>
  <li>
    <p>ä½†æ˜¯ä¸ºäº†è®©ç”¨æˆ·æ›´å¥½çš„ç®¡ç†ç›‘æ§ä¼—å¤šçš„dubboæœåŠ¡ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç›‘æ§ç¨‹åºï¼Œä¸è¿‡è¿™ä¸ªç›‘æ§å³ä½¿ä¸è£…ä¹Ÿä¸å½±å“ä½¿ç”¨ã€‚</p>
  </li>
  <li>
    <p>1.ä¸‹è½½dubbo-admin</p>

    <p><a href="https://github.com/apache/incubator-dubbo-ops">https://github.com/apache/incubator-dubbo-ops</a></p>
  </li>
  <li>
    <p>2ã€è¿›å…¥ç›®å½•ï¼Œä¿®æ”¹dubbo-adminé…ç½®</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ä¿®æ”¹ src\main\resources\application.properties æŒ‡å®šzookeeperåœ°å€
dubbo.registry.adress = zookeeper://127.0.0.1:2181
</code></pre></div>    </div>
  </li>
  <li>
    <p>3ã€æ‰“åŒ…dubbo-admin</p>

    <p>mvn clean package -Dmaven.test.skip=true</p>
  </li>
  <li>
    <p>4ã€è¿è¡Œdubbo-admin</p>

    <p>java -jar dubbo-admin-0.0.1-SNAPSHOT.jar</p>

    <p>é»˜è®¤ä½¿ç”¨root/root ç™»é™†</p>
  </li>
</ul>

<h3 id="ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</h3>

<ul>
  <li>æŸä¸ªç”µå•†ç³»ç»Ÿï¼Œè®¢å•æœåŠ¡ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰éœ€è¦è°ƒç”¨ç”¨æˆ·æœåŠ¡ï¼ˆæœåŠ¡æä¾›è€…ï¼‰è·å–æŸä¸ªç”¨æˆ·çš„æ‰€æœ‰åœ°å€</li>
  <li>è®¢å•æœåŠ¡webæ¨¡å—åœ¨AæœåŠ¡å™¨ï¼Œç”¨æˆ·æœåŠ¡æ¨¡å—åœ¨BæœåŠ¡å™¨ï¼ŒAå¯ä»¥è¿œç¨‹è°ƒç”¨Bçš„åŠŸèƒ½ã€‚</li>
  <li>åˆ†åŒ…
    <ul>
      <li>å»ºè®®å°†æœåŠ¡æ¥å£ï¼ŒæœåŠ¡æ¨¡å‹ï¼ŒæœåŠ¡å¼‚å¸¸ç­‰å‡æ”¾åœ¨ API åŒ…ä¸­ï¼Œå› ä¸ºæœåŠ¡æ¨¡å‹åŠå¼‚å¸¸ä¹Ÿæ˜¯ API çš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶ï¼Œè¿™æ ·åšä¹Ÿç¬¦åˆåˆ†åŒ…åŸåˆ™ï¼šé‡ç”¨å‘å¸ƒç­‰ä»·åŸåˆ™(REP)ï¼Œå…±åŒé‡ç”¨åŸåˆ™(CRP)ã€‚</li>
      <li>å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘åœ¨ API åŒ…ä¸­æ”¾ç½®ä¸€ä»½ spring çš„å¼•ç”¨é…ç½®ï¼Œè¿™æ ·ä½¿ç”¨æ–¹ï¼Œåªéœ€åœ¨ spring åŠ è½½è¿‡ç¨‹ä¸­å¼•ç”¨æ­¤é…ç½®å³å¯ï¼Œé…ç½®å»ºè®®æ”¾åœ¨æ¨¡å—çš„åŒ…ç›®å½•ä¸‹ï¼Œä»¥å…å†²çª</li>
    </ul>
  </li>
  <li>ç²’åº¦
    <ul>
      <li>æœåŠ¡æ¥å£å°½å¯èƒ½å¤§ç²’åº¦ï¼Œæ¯ä¸ªæœåŠ¡æ–¹æ³•åº”ä»£è¡¨ä¸€ä¸ªåŠŸèƒ½ï¼Œè€Œä¸æ˜¯æŸåŠŸèƒ½çš„ä¸€ä¸ªæ­¥éª¤ï¼Œå¦åˆ™å°†é¢ä¸´åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼ŒDubbo æš‚æœªæä¾›åˆ†å¸ƒå¼äº‹åŠ¡æ”¯æŒã€‚</li>
      <li>æœåŠ¡æ¥å£å»ºè®®ä»¥ä¸šåŠ¡åœºæ™¯ä¸ºå•ä½åˆ’åˆ†ï¼Œå¹¶å¯¹ç›¸è¿‘ä¸šåŠ¡åšæŠ½è±¡ï¼Œé˜²æ­¢æ¥å£æ•°é‡çˆ†ç‚¸ã€‚</li>
      <li>ä¸å»ºè®®ä½¿ç”¨è¿‡äºæŠ½è±¡çš„é€šç”¨æ¥å£ï¼Œå¦‚ï¼šMap query(Map)ï¼Œè¿™æ ·çš„æ¥å£æ²¡æœ‰æ˜ç¡®è¯­ä¹‰ï¼Œä¼šç»™åæœŸç»´æŠ¤å¸¦æ¥ä¸ä¾¿ã€‚</li>
    </ul>
  </li>
</ul>

<h4 id="å…¬å…±æ¥å£å±‚">å…¬å…±æ¥å£å±‚</h4>

<ul>
  <li>
    <p>gmall-interface</p>
  </li>
  <li>ä½œç”¨ï¼šå®šä¹‰å…¬å…±æ¥å£ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥å…¬å…±ä¾èµ–</li>
  <li>1ã€Beanæ¨¡å‹</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserAddress</span> <span class="kd">implements</span> <span class="nc">Serializable</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">userAddress</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">userId</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">consignee</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">phoneNum</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">isDefault</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>2ã€Serviceæ¥å£</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ç”¨æˆ·æœåŠ¡
 * @author lfy
 *
 */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserService</span> <span class="o">{</span>
	
	<span class="cm">/**
	 * æŒ‰ç…§ç”¨æˆ·idè¿”å›æ‰€æœ‰çš„æ”¶è´§åœ°å€
	 * @param userId
	 * @return
	 */</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">getUserAddressList</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">);</span>

<span class="o">}</span>


<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">OrderService</span> <span class="o">{</span>
	
	<span class="cm">/**
	 * åˆå§‹åŒ–è®¢å•
	 * @param userId
	 */</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">initOrder</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">);</span>

<span class="o">}</span>
</code></pre></div></div>

<h4 id="ç”¨æˆ·æ¨¡å—">ç”¨æˆ·æ¨¡å—</h4>

<ul>
  <li>
    <p>gmall-user</p>
  </li>
  <li>
    <p>pom</p>
  </li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;dependencies&gt;</span>
    <span class="c">&lt;!--å¼•ç”¨å…¬å…±æ¥å£æ¨¡å—--&gt;</span>
  	<span class="nt">&lt;dependency&gt;</span>
  		<span class="nt">&lt;groupId&gt;</span>com.atguigu.dubbo<span class="nt">&lt;/groupId&gt;</span>
  		<span class="nt">&lt;artifactId&gt;</span>gmall-interface<span class="nt">&lt;/artifactId&gt;</span>
  		<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
  	<span class="nt">&lt;/dependency&gt;</span>
    
    		<span class="c">&lt;!-- å¼•å…¥dubbo --&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.alibaba<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>dubbo<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.6.2<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="c">&lt;!-- ç”±äºæˆ‘ä»¬ä½¿ç”¨zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œæ‰€ä»¥éœ€è¦æ“ä½œzookeeper
dubbo 2.6ä»¥å‰çš„ç‰ˆæœ¬å¼•å…¥zkclientæ“ä½œzookeeper 
dubbo 2.6åŠä»¥åçš„ç‰ˆæœ¬å¼•å…¥curatoræ“ä½œzookeeper
ä¸‹é¢ä¸¤ä¸ªzkå®¢æˆ·ç«¯æ ¹æ®dubboç‰ˆæœ¬2é€‰1å³å¯
--&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.101tec<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>zkclient<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>0.10<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="c">&lt;!-- curator-framework --&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.apache.curator<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>curator-framework<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.12.0<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

  <span class="nt">&lt;/dependencies&gt;</span>

</code></pre></div></div>

<ul>
  <li>serviceImpl</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="kd">implements</span> <span class="nc">UserService</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">getUserAddressList</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"UserServiceImpl.....old..."</span><span class="o">);</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">UserAddress</span> <span class="n">address1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UserAddress</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="s">"æè€å¸ˆ"</span><span class="o">,</span> <span class="s">"010-56253825"</span><span class="o">,</span> <span class="s">"Y"</span><span class="o">);</span>
		<span class="nc">UserAddress</span> <span class="n">address2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UserAddress</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§å¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="s">"ç‹è€å¸ˆ"</span><span class="o">,</span> <span class="s">"010-56253825"</span><span class="o">,</span> <span class="s">"N"</span><span class="o">);</span>
		<span class="cm">/*try {
			Thread.sleep(4000);
		} catch (InterruptedException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}*/</span>
		<span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">address1</span><span class="o">,</span><span class="n">address2</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>provider.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xmlns:dubbo=</span><span class="s">"http://code.alibabatech.com/schema/dubbo"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd
		http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"</span><span class="nt">&gt;</span>

	<span class="c">&lt;!-- 1ã€æŒ‡å®šå½“å‰æœåŠ¡/åº”ç”¨çš„åå­—ï¼ˆåŒæ ·çš„æœåŠ¡åå­—ç›¸åŒï¼Œä¸è¦å’Œåˆ«çš„æœåŠ¡åŒåï¼‰ --&gt;</span>
	<span class="nt">&lt;dubbo:application</span> <span class="na">name=</span><span class="s">"user-service-provider"</span><span class="nt">&gt;&lt;/dubbo:application&gt;</span>
	
	<span class="c">&lt;!-- 2ã€æŒ‡å®šæ³¨å†Œä¸­å¿ƒçš„ä½ç½® --&gt;</span>
	<span class="c">&lt;!-- &lt;dubbo:registry address="zookeeper://127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt; --&gt;</span>
	<span class="nt">&lt;dubbo:registry</span> <span class="na">protocol=</span><span class="s">"zookeeper"</span> <span class="na">address=</span><span class="s">"127.0.0.1:2181"</span><span class="nt">&gt;&lt;/dubbo:registry&gt;</span>
	
	<span class="c">&lt;!-- 3ã€æŒ‡å®šé€šä¿¡è§„åˆ™ï¼ˆé€šä¿¡åè®®ï¼Ÿé€šä¿¡ç«¯å£ï¼‰ --&gt;</span>
	<span class="nt">&lt;dubbo:protocol</span> <span class="na">name=</span><span class="s">"dubbo"</span> <span class="na">port=</span><span class="s">"20882"</span><span class="nt">&gt;&lt;/dubbo:protocol&gt;</span>
	
	<span class="c">&lt;!-- 4ã€æš´éœ²æœåŠ¡   refï¼šæŒ‡å‘æœåŠ¡çš„çœŸæ­£çš„å®ç°å¯¹è±¡ --&gt;</span>
	<span class="nt">&lt;dubbo:service</span> <span class="na">interface=</span><span class="s">"com.atguigu.gmall.service.UserService"</span> 
		<span class="na">ref=</span><span class="s">"userServiceImpl01"</span> <span class="na">timeout=</span><span class="s">"1000"</span> <span class="na">version=</span><span class="s">"1.0.0"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;dubbo:method</span> <span class="na">name=</span><span class="s">"getUserAddressList"</span> <span class="na">timeout=</span><span class="s">"1000"</span><span class="nt">&gt;&lt;/dubbo:method&gt;</span>
	<span class="nt">&lt;/dubbo:service&gt;</span>
	
	<span class="c">&lt;!--ç»Ÿä¸€è®¾ç½®æœåŠ¡æä¾›æ–¹çš„è§„åˆ™  --&gt;</span>
	<span class="nt">&lt;dubbo:provider</span> <span class="na">timeout=</span><span class="s">"1000"</span><span class="nt">&gt;&lt;/dubbo:provider&gt;</span>
	
	
	<span class="c">&lt;!-- æœåŠ¡çš„å®ç° --&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"userServiceImpl01"</span> <span class="na">class=</span><span class="s">"com.atguigu.gmall.service.impl.UserServiceImpl"</span><span class="nt">&gt;&lt;/bean&gt;</span>
	
	
	<span class="nt">&lt;dubbo:service</span> <span class="na">interface=</span><span class="s">"com.atguigu.gmall.service.UserService"</span> 
		<span class="na">ref=</span><span class="s">"userServiceImpl02"</span> <span class="na">timeout=</span><span class="s">"1000"</span> <span class="na">version=</span><span class="s">"2.0.0"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;dubbo:method</span> <span class="na">name=</span><span class="s">"getUserAddressList"</span> <span class="na">timeout=</span><span class="s">"1000"</span><span class="nt">&gt;&lt;/dubbo:method&gt;</span>
	<span class="nt">&lt;/dubbo:service&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"userServiceImpl02"</span> <span class="na">class=</span><span class="s">"com.atguigu.gmall.service.impl.UserServiceImpl2"</span><span class="nt">&gt;&lt;/bean&gt;</span>
	
	<span class="c">&lt;!-- è¿æ¥ç›‘æ§ä¸­å¿ƒ --&gt;</span>
	<span class="nt">&lt;dubbo:monitor</span> <span class="na">protocol=</span><span class="s">"registry"</span><span class="nt">&gt;&lt;/dubbo:monitor&gt;</span>
	
<span class="nt">&lt;/beans&gt;</span>

</code></pre></div></div>

<ul>
  <li>å¯åŠ¨æœåŠ¡</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
  <span class="nc">ClassPathXmlApplicationContext</span> <span class="n">context</span> <span class="o">=</span> 
    <span class="k">new</span> <span class="nf">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"classpath:provider.xml"</span><span class="o">);</span>

  <span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">.</span><span class="na">read</span><span class="o">();</span> 
<span class="o">}</span>

</code></pre></div></div>

<h4 id="è®¢å•æ¨¡å—">è®¢å•æ¨¡å—</h4>

<ul>
  <li>gmall-order-web</li>
  <li>pom</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.atguigu.dubbo<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>gmall-interface<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  
  		<span class="c">&lt;!-- å¼•å…¥dubbo --&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.alibaba<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>dubbo<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.6.2<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="c">&lt;!-- ç”±äºæˆ‘ä»¬ä½¿ç”¨zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥zkclientå’Œcuratoræ“ä½œzookeeper --&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>com.101tec<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>zkclient<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>0.10<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="c">&lt;!-- curator-framework --&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.apache.curator<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>curator-framework<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;version&gt;</span>2.12.0<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

<span class="nt">&lt;/dependencies&gt;</span>

</code></pre></div></div>

<ul>
  <li>consumer.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xmlns:dubbo=</span><span class="s">"http://dubbo.apache.org/schema/dubbo"</span>
	<span class="na">xmlns:context=</span><span class="s">"http://www.springframework.org/schema/context"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd
		http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd
		http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">"com.atguigu.gmall.service.impl"</span><span class="nt">&gt;&lt;/context:component-scan&gt;</span>


	<span class="nt">&lt;dubbo:application</span> <span class="na">name=</span><span class="s">"order-service-consumer"</span><span class="nt">&gt;&lt;/dubbo:application&gt;</span>
	
	<span class="nt">&lt;dubbo:registry</span> <span class="na">address=</span><span class="s">"zookeeper://127.0.0.1:2181"</span><span class="nt">&gt;&lt;/dubbo:registry&gt;</span>
	
	<span class="c">&lt;!--  é…ç½®æœ¬åœ°å­˜æ ¹--&gt;</span>
	
	<span class="c">&lt;!--å£°æ˜éœ€è¦è°ƒç”¨çš„è¿œç¨‹æœåŠ¡çš„æ¥å£ï¼›ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç†  --&gt;</span>
	<span class="c">&lt;!-- 
		1ï¼‰ã€ç²¾ç¡®ä¼˜å…ˆ (æ–¹æ³•çº§ä¼˜å…ˆï¼Œæ¥å£çº§æ¬¡ä¹‹ï¼Œå…¨å±€é…ç½®å†æ¬¡ä¹‹)
		2ï¼‰ã€æ¶ˆè´¹è€…è®¾ç½®ä¼˜å…ˆ(å¦‚æœçº§åˆ«ä¸€æ ·ï¼Œåˆ™æ¶ˆè´¹æ–¹ä¼˜å…ˆï¼Œæä¾›æ–¹æ¬¡ä¹‹)
	--&gt;</span>
	<span class="c">&lt;!-- timeout="0" é»˜è®¤æ˜¯1000ms--&gt;</span>
	<span class="c">&lt;!-- retries="":é‡è¯•æ¬¡æ•°ï¼Œä¸åŒ…å«ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼Œ0ä»£è¡¨ä¸é‡è¯•--&gt;</span>
	<span class="c">&lt;!-- å¹‚ç­‰ï¼ˆè®¾ç½®é‡è¯•æ¬¡æ•°ï¼‰ã€æŸ¥è¯¢ã€åˆ é™¤ã€ä¿®æ”¹ã€‘ã€éå¹‚ç­‰ï¼ˆä¸èƒ½è®¾ç½®é‡è¯•æ¬¡æ•°ï¼‰ã€æ–°å¢ã€‘ --&gt;</span>
	<span class="nt">&lt;dubbo:reference</span> <span class="na">interface=</span><span class="s">"com.atguigu.gmall.service.UserService"</span> 
		<span class="na">id=</span><span class="s">"userService"</span> <span class="na">timeout=</span><span class="s">"5000"</span> <span class="na">retries=</span><span class="s">"3"</span> <span class="na">version=</span><span class="s">"*"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!-- &lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt; --&gt;</span>
	<span class="nt">&lt;/dubbo:reference&gt;</span>
		
	<span class="c">&lt;!-- é…ç½®å½“å‰æ¶ˆè´¹è€…çš„ç»Ÿä¸€è§„åˆ™ï¼šæ‰€æœ‰çš„æœåŠ¡éƒ½ä¸æ£€æŸ¥ --&gt;</span>
	<span class="nt">&lt;dubbo:consumer</span> <span class="na">check=</span><span class="s">"false"</span> <span class="na">timeout=</span><span class="s">"5000"</span><span class="nt">&gt;&lt;/dubbo:consumer&gt;</span>

	<span class="nt">&lt;dubbo:monitor</span> <span class="na">protocol=</span><span class="s">"registry"</span><span class="nt">&gt;&lt;/dubbo:monitor&gt;</span>
	<span class="c">&lt;!-- &lt;dubbo:monitor address="127.0.0.1:7070"&gt;&lt;/dubbo:monitor&gt; --&gt;</span>
	
<span class="nt">&lt;/beans&gt;</span>

</code></pre></div></div>

<ul>
  <li>OrderServiceImpl</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * 1ã€å°†æœåŠ¡æä¾›è€…æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒï¼ˆæš´éœ²æœåŠ¡ï¼‰
 * 		1ï¼‰ã€å¯¼å…¥dubboä¾èµ–ï¼ˆ2.6.2ï¼‰\æ“ä½œzookeeperçš„å®¢æˆ·ç«¯(curator)
 * 		2ï¼‰ã€é…ç½®æœåŠ¡æä¾›è€…
 * 
 * 2ã€è®©æœåŠ¡æ¶ˆè´¹è€…å»æ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡æä¾›è€…çš„æœåŠ¡åœ°å€
 * @author lfy
 *
 */</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="nc">UserService</span> <span class="n">userService</span><span class="o">;</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">initOrder</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç”¨æˆ·idï¼š"</span><span class="o">+</span><span class="n">userId</span><span class="o">);</span>
		<span class="c1">//1ã€æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è´§åœ°å€</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="n">addressList</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">getUserAddressList</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">UserAddress</span> <span class="n">userAddress</span> <span class="o">:</span> <span class="n">addressList</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">userAddress</span><span class="o">.</span><span class="na">getUserAddress</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">addressList</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>æµ‹è¯•è°ƒç”¨</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainApplication</span> <span class="o">{</span>
	
	<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"resource"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">ClassPathXmlApplicationContext</span> <span class="n">applicationContext</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"consumer.xml"</span><span class="o">);</span>
		
		<span class="nc">OrderService</span> <span class="n">orderService</span> <span class="o">=</span> <span class="n">applicationContext</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="nc">OrderService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		
		<span class="n">orderService</span><span class="o">.</span><span class="na">initOrder</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"è°ƒç”¨å®Œæˆ...."</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
	<span class="o">}</span>

<span class="o">}</span>
<span class="c1">//è°ƒç”¨æˆåŠŸã€‚è¯´æ˜æˆ‘ä»¬orderå·²ç»å¯ä»¥è°ƒç”¨è¿œç¨‹çš„UserServiceäº†</span>
</code></pre></div></div>

<h4 id="æ³¨è§£æ”¹é€ ">æ³¨è§£æ”¹é€ </h4>

<h3 id="æ•´åˆboot">æ•´åˆboot</h3>

<h4 id="æ–¹å¼ä¸€">æ–¹å¼ä¸€</h4>

<ul>
  <li>pom</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.alibaba.boot<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>dubbo-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.2.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<ul>
  <li>application.properties</li>
  <li>æœåŠ¡æä¾›è€…</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å°±æ˜¯æœåŠ¡åï¼Œä¸èƒ½è·Ÿåˆ«çš„dubboæä¾›ç«¯é‡å¤
</span><span class="py">dubbo.application.name</span><span class="p">=</span><span class="s">gmall-user</span>
<span class="c"># æ˜¯æŒ‡å®šæ³¨å†Œä¸­å¿ƒåè®®
</span><span class="py">dubbo.registry.protocol</span><span class="p">=</span><span class="s">zookeeper</span>
<span class="c"># æ˜¯æ³¨å†Œä¸­å¿ƒçš„åœ°å€åŠ ç«¯å£å·
</span><span class="py">dubbo.registry.address</span><span class="p">=</span><span class="s">zookeeper://127.0.0.1:2181</span>
<span class="c"># æ³¨è§£æ–¹å¼è¦æ‰«æçš„åŒ…
</span><span class="py">dubbo.scan.base-package</span><span class="p">=</span><span class="s">com.atguigu.gmall</span>
<span class="c"># æ˜¯åˆ†å¸ƒå¼å›ºå®šæ˜¯dubbo,ä¸è¦æ”¹ã€‚
</span><span class="py">dubbo.protocol.name</span><span class="p">=</span><span class="s">dubbo</span>
<span class="py">dubbo.protocol.port</span><span class="p">=</span><span class="s">20880</span>

<span class="py">dubbo.monitor.protocol</span><span class="p">=</span><span class="s">registry</span>

</code></pre></div></div>

<ul>
  <li>æœåŠ¡æ¶ˆè´¹è€…</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">dubbo.application.name</span><span class="p">=</span><span class="s">gmall-order-web</span>
<span class="py">dubbo.registry.protocol</span><span class="p">=</span><span class="s">zookeeper</span>
<span class="py">dubbo.registry.address</span><span class="p">=</span><span class="s">zookeeper://127.0.0.1:2181</span>
<span class="py">dubbo.monitor.protocol</span><span class="p">=</span><span class="s">registry</span>
</code></pre></div></div>

<ul>
  <li>
    <p>dubboæ³¨è§£ï¼š@Serviceã€@Reference</p>

    <p>ã€å¦‚æœæ²¡æœ‰åœ¨é…ç½®ä¸­å†™dubbo.scan.base-package,è¿˜éœ€è¦åœ¨ä¸»å¯åŠ¨ç±»ä½¿ç”¨@EnableDubboæ³¨è§£ã€‘</p>
  </li>
  <li>
    <p>service</p>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Service</span><span class="o">;</span>
<span class="nd">@Service</span><span class="c1">//æš´éœ²æœåŠ¡ </span>
<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="kd">implements</span> <span class="nc">UserService</span> <span class="o">{</span>

	<span class="nd">@HystrixCommand</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">getUserAddressList</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"UserServiceImpl..3....."</span><span class="o">);</span>
		<span class="nc">UserAddress</span> <span class="n">address1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UserAddress</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"åŒ—äº¬å¸‚æ˜Œå¹³åŒºå®ç¦ç§‘æŠ€å›­ç»¼åˆæ¥¼3å±‚"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="s">"æè€å¸ˆ"</span><span class="o">,</span> <span class="s">"010-56253825"</span><span class="o">,</span> <span class="s">"Y"</span><span class="o">);</span>
		<span class="nc">UserAddress</span> <span class="n">address2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UserAddress</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="s">"æ·±åœ³å¸‚å®å®‰åŒºè¥¿éƒ¨ç¡…è°·å¤§å¦Båº§3å±‚ï¼ˆæ·±åœ³åˆ†æ ¡ï¼‰"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="s">"ç‹è€å¸ˆ"</span><span class="o">,</span> <span class="s">"010-56253825"</span><span class="o">,</span> <span class="s">"N"</span><span class="o">);</span>
<span class="c1">//		try {</span>
<span class="c1">//			Thread.sleep(2000);</span>
<span class="c1">//		} catch (InterruptedException e) {</span>
<span class="c1">//			e.printStackTrace();</span>
<span class="c1">//		}</span>
		<span class="k">if</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()&gt;</span><span class="mf">0.5</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">();</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">address1</span><span class="o">,</span><span class="n">address2</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="nd">@Reference</span>  <span class="c1">//ä½¿ç”¨dubboæä¾›çš„referenceæ³¨è§£å¼•ç”¨è¿œç¨‹æœåŠ¡</span>
	<span class="nc">UserService</span> <span class="n">userService</span><span class="o">;</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">initOrder</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç”¨æˆ·idï¼š"</span><span class="o">+</span><span class="n">userId</span><span class="o">);</span>
		<span class="c1">//1ã€æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è´§åœ°å€</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="n">addressList</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">getUserAddressList</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">UserAddress</span> <span class="n">userAddress</span> <span class="o">:</span> <span class="n">addressList</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">userAddress</span><span class="o">.</span><span class="na">getUserAddress</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">addressList</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<h4 id="æ–¹å¼äºŒ">æ–¹å¼äºŒ</h4>

<ul>
  <li>ä¸ä½¿ç”¨propertiesï¼Œä¿ç•™xml</li>
  <li>å–æ¶ˆ@serviceæ³¨è§£</li>
  <li>åœ¨ä¸»å¯åŠ¨ç±»æ·»åŠ æ³¨è§£å¼•ç”¨xmlï¼š@ImportResourceï¼ˆlocations=â€classpath:provider.xmlâ€ï¼‰</li>
</ul>

<h4 id="æ–¹å¼ä¸‰">æ–¹å¼ä¸‰</h4>

<ul>
  <li>ä½¿ç”¨é…ç½®ç±»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyDubboConfig</span> <span class="o">{</span>
	
	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">ApplicationConfig</span> <span class="nf">applicationConfig</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">ApplicationConfig</span> <span class="n">applicationConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ApplicationConfig</span><span class="o">();</span>
		<span class="n">applicationConfig</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"boot-user-service-provider"</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">applicationConfig</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//&lt;dubbo:registry protocol="zookeeper" address="127.0.0.1:2181"&gt;&lt;/dubbo:registry&gt;</span>
	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">RegistryConfig</span> <span class="nf">registryConfig</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">RegistryConfig</span> <span class="n">registryConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RegistryConfig</span><span class="o">();</span>
		<span class="n">registryConfig</span><span class="o">.</span><span class="na">setProtocol</span><span class="o">(</span><span class="s">"zookeeper"</span><span class="o">);</span>
		<span class="n">registryConfig</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="s">"127.0.0.1:2181"</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">registryConfig</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">//&lt;dubbo:protocol name="dubbo" port="20882"&gt;&lt;/dubbo:protocol&gt;</span>
	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">ProtocolConfig</span> <span class="nf">protocolConfig</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">ProtocolConfig</span> <span class="n">protocolConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProtocolConfig</span><span class="o">();</span>
		<span class="n">protocolConfig</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"dubbo"</span><span class="o">);</span>
		<span class="n">protocolConfig</span><span class="o">.</span><span class="na">setPort</span><span class="o">(</span><span class="mi">20882</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">protocolConfig</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**
	 *&lt;dubbo:service interface="com.atguigu.gmall.service.UserService" 
		ref="userServiceImpl01" timeout="1000" version="1.0.0"&gt;
		&lt;dubbo:method name="getUserAddressList" timeout="1000"&gt;&lt;/dubbo:method&gt;
	&lt;/dubbo:service&gt;
	 */</span>
	<span class="nd">@Bean</span>
	<span class="kd">public</span> <span class="nc">ServiceConfig</span><span class="o">&lt;</span><span class="nc">UserService</span><span class="o">&gt;</span> <span class="nf">userServiceConfig</span><span class="o">(</span><span class="nc">UserService</span> <span class="n">userService</span><span class="o">){</span>
		<span class="nc">ServiceConfig</span><span class="o">&lt;</span><span class="nc">UserService</span><span class="o">&gt;</span> <span class="n">serviceConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServiceConfig</span><span class="o">&lt;&gt;();</span>
		<span class="n">serviceConfig</span><span class="o">.</span><span class="na">setInterface</span><span class="o">(</span><span class="nc">UserService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="n">serviceConfig</span><span class="o">.</span><span class="na">setRef</span><span class="o">(</span><span class="n">userService</span><span class="o">);</span>
		<span class="n">serviceConfig</span><span class="o">.</span><span class="na">setVersion</span><span class="o">(</span><span class="s">"1.0.0"</span><span class="o">);</span>
		
		<span class="c1">//é…ç½®æ¯ä¸€ä¸ªmethodçš„ä¿¡æ¯</span>
		<span class="nc">MethodConfig</span> <span class="n">methodConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MethodConfig</span><span class="o">();</span>
		<span class="n">methodConfig</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"getUserAddressList"</span><span class="o">);</span>
		<span class="n">methodConfig</span><span class="o">.</span><span class="na">setTimeout</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
		
		<span class="c1">//å°†methodçš„è®¾ç½®å…³è”åˆ°serviceé…ç½®ä¸­</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">MethodConfig</span><span class="o">&gt;</span> <span class="n">methods</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
		<span class="n">methods</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">methodConfig</span><span class="o">);</span>
		<span class="n">serviceConfig</span><span class="o">.</span><span class="na">setMethods</span><span class="o">(</span><span class="n">methods</span><span class="o">);</span>
		
		<span class="c1">//ProviderConfig</span>
		<span class="c1">//MonitorConfig</span>
		
		<span class="k">return</span> <span class="n">serviceConfig</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ä½¿ç”¨@serviceæ³¨è§£</li>
</ul>

<h3 id="dubboé…ç½®">dubboé…ç½®</h3>

<h4 id="é…ç½®åŸåˆ™">é…ç½®åŸåˆ™</h4>

<ul>
  <li>
    <p>JVMå¯åŠ¨ -D å‚æ•°ä¼˜å…ˆï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨æˆ·åœ¨éƒ¨ç½²å’Œå¯åŠ¨æ—¶è¿›è¡Œå‚æ•°é‡å†™ï¼Œæ¯”å¦‚åœ¨å¯åŠ¨æ—¶éœ€æ”¹å˜åè®®çš„ç«¯å£ã€‚</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-Ddubbo.protocol.port=20880
</code></pre></div>    </div>
  </li>
  <li>
    <p>XMLæ¬¡ä¹‹ï¼Œå¦‚æœåœ¨ XML ä¸­æœ‰é…ç½®ï¼Œåˆ™ dubbo.properties ä¸­çš„ç›¸åº”é…ç½®é¡¹æ— æ•ˆã€‚</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;dubbo:protocol port="30880" /&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Propertiesæœ€åï¼Œç›¸å½“äºç¼ºçœå€¼ï¼Œåªæœ‰ XML æ²¡æœ‰é…ç½®æ—¶ï¼Œdubbo.properties çš„ç›¸åº”é…ç½®é¡¹æ‰ä¼šç”Ÿæ•ˆï¼Œé€šå¸¸ç”¨äºå…±äº«å…¬å…±é…ç½®ï¼Œæ¯”å¦‚åº”ç”¨åã€‚</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dubbo.protocol.port=20880
</code></pre></div>    </div>

    <p>â€‹</p>
  </li>
</ul>

<h4 id="é‡è¯•æ¬¡æ•°">é‡è¯•æ¬¡æ•°</h4>

<ul>
  <li>å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå½“å‡ºç°å¤±è´¥ï¼Œé‡è¯•å…¶å®ƒæœåŠ¡å™¨ï¼Œä½†é‡è¯•ä¼šå¸¦æ¥æ›´é•¿å»¶è¿Ÿã€‚å¯é€šè¿‡ retries=â€2â€ æ¥è®¾ç½®é‡è¯•æ¬¡æ•°(ä¸å«ç¬¬ä¸€æ¬¡)ã€‚</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>é‡è¯•æ¬¡æ•°é…ç½®å¦‚ä¸‹ï¼š
&lt;dubbo:service retries="2" /&gt;
æˆ–
&lt;dubbo:reference retries="2" /&gt;
æˆ–
&lt;dubbo:reference&gt;
    &lt;dubbo:method name="findFoo" retries="2" /&gt;
&lt;/dubbo:reference&gt;

</code></pre></div></div>

<h4 id="è¶…æ—¶æ—¶é—´">è¶…æ—¶æ—¶é—´</h4>

<ul>
  <li>ç”±äºç½‘ç»œæˆ–æœåŠ¡ç«¯ä¸å¯é ï¼Œä¼šå¯¼è‡´è°ƒç”¨å‡ºç°ä¸€ç§ä¸ç¡®å®šçš„ä¸­é—´çŠ¶æ€ï¼ˆè¶…æ—¶ï¼‰ã€‚ä¸ºäº†é¿å…è¶…æ—¶å¯¼è‡´å®¢æˆ·ç«¯èµ„æºï¼ˆçº¿ç¨‹ï¼‰æŒ‚èµ·è€—å°½ï¼Œå¿…é¡»è®¾ç½®è¶…æ—¶æ—¶é—´ã€‚</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>æ¶ˆè´¹ç«¯å…¨å±€è¶…æ—¶é…ç½®
&lt;dubbo:consumer timeout="5000" /&gt;

æŒ‡å®šæ¥å£ä»¥åŠç‰¹å®šæ–¹æ³•è¶…æ—¶é…ç½®
&lt;dubbo:reference interface="com.foo.BarService" timeout="2000"&gt;
    &lt;dubbo:method name="sayHello" timeout="3000" /&gt;
&lt;/dubbo:reference&gt;


===========================================================================
æœåŠ¡ç«¯å…¨å±€è¶…æ—¶é…ç½®
&lt;dubbo:provider timeout="5000" /&gt;

æŒ‡å®šæ¥å£ä»¥åŠç‰¹å®šæ–¹æ³•è¶…æ—¶é…ç½®
&lt;dubbo:provider interface="com.foo.BarService" timeout="2000"&gt;
    &lt;dubbo:method name="sayHello" timeout="3000" /&gt;
&lt;/dubbo:provider&gt;

</code></pre></div></div>

<ul>
  <li>
    <p>dubboæ¨èåœ¨Providerä¸Šå°½é‡å¤šé…ç½®Consumerç«¯å±æ€§ï¼š</p>

    <p>ä½œæœåŠ¡çš„æä¾›è€…ï¼Œæ¯”æœåŠ¡ä½¿ç”¨æ–¹æ›´æ¸…æ¥šæœåŠ¡æ€§èƒ½å‚æ•°ï¼Œå¦‚è°ƒç”¨çš„è¶…æ—¶æ—¶é—´ï¼Œåˆç†çš„é‡è¯•æ¬¡æ•°ï¼Œç­‰ç­‰</p>

    <p>åœ¨Provideré…ç½®åï¼ŒConsumerä¸é…ç½®åˆ™ä¼šä½¿ç”¨Providerçš„é…ç½®å€¼ï¼Œå³Provideré…ç½®å¯ä»¥ä½œä¸ºConsumerçš„ç¼ºçœå€¼ã€‚å¦åˆ™ï¼ŒConsumerä¼šä½¿ç”¨Consumerç«¯çš„å…¨å±€è®¾ç½®ï¼Œè¿™å¯¹äºProviderä¸å¯æ§çš„ï¼Œå¹¶ä¸”å¾€å¾€æ˜¯ä¸åˆç†çš„</p>
  </li>
  <li>
    <p>é…ç½®çš„è¦†ç›–è§„åˆ™ï¼š</p>

    <p>æ–¹æ³•çº§é…ç½®åˆ«ä¼˜äºæ¥å£çº§åˆ«ï¼Œå³å°Scopeä¼˜å…ˆ</p>

    <p>Consumerç«¯é…ç½® ä¼˜äºProvideré…ç½® ä¼˜äº å…¨å±€é…ç½®</p>

    <p>æœ€åæ˜¯Dubbo Hard Codeçš„é…ç½®å€¼ï¼ˆè§é…ç½®æ–‡æ¡£ï¼‰</p>
  </li>
</ul>

<h4 id="ç‰ˆæœ¬å·">ç‰ˆæœ¬å·</h4>

<ul>
  <li>
    <p>å½“ä¸€ä¸ªæ¥å£å®ç°ï¼Œå‡ºç°ä¸å…¼å®¹å‡çº§æ—¶ï¼Œå¯ä»¥ç”¨ç‰ˆæœ¬å·è¿‡æ¸¡ï¼Œç‰ˆæœ¬å·ä¸åŒçš„æœåŠ¡ç›¸äº’é—´ä¸å¼•ç”¨ã€‚</p>
  </li>
  <li>
    <p>å¯ä»¥æŒ‰ç…§ä»¥ä¸‹çš„æ­¥éª¤è¿›è¡Œç‰ˆæœ¬è¿ç§»ï¼š</p>

    <p>åœ¨ä½å‹åŠ›æ—¶é—´æ®µï¼Œå…ˆå‡çº§ä¸€åŠæä¾›è€…ä¸ºæ–°ç‰ˆæœ¬</p>

    <p>å†å°†æ‰€æœ‰æ¶ˆè´¹è€…å‡çº§ä¸ºæ–°ç‰ˆæœ¬</p>

    <p>ç„¶åå°†å‰©ä¸‹çš„ä¸€åŠæä¾›è€…å‡çº§ä¸ºæ–°ç‰ˆæœ¬</p>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è€ç‰ˆæœ¬æœåŠ¡æä¾›è€…é…ç½®ï¼š
&lt;dubbo:service interface="com.foo.BarService" version="1.0.0" /&gt;

æ–°ç‰ˆæœ¬æœåŠ¡æä¾›è€…é…ç½®ï¼š
&lt;dubbo:service interface="com.foo.BarService" version="2.0.0" /&gt;

è€ç‰ˆæœ¬æœåŠ¡æ¶ˆè´¹è€…é…ç½®ï¼š
&lt;dubbo:reference id="barService" interface="com.foo.BarService" version="1.0.0" /&gt;

æ–°ç‰ˆæœ¬æœåŠ¡æ¶ˆè´¹è€…é…ç½®ï¼š
&lt;dubbo:reference id="barService" interface="com.foo.BarService" version="2.0.0" /&gt;

å¦‚æœä¸éœ€è¦åŒºåˆ†ç‰ˆæœ¬ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹çš„æ–¹å¼é…ç½®ï¼š
&lt;dubbo:reference id="barService" interface="com.foo.BarService" version="*" /&gt;

</code></pre></div></div>

<h3 id="é«˜å¯ç”¨">é«˜å¯ç”¨</h3>

<h4 id="dubboç›´è¿">dubboç›´è¿</h4>

<ul>
  <li>
    <p>ç°è±¡ï¼šzookeeperæ³¨å†Œä¸­å¿ƒå®•æœºï¼Œè¿˜å¯ä»¥æ¶ˆè´¹dubboæš´éœ²çš„æœåŠ¡ã€‚</p>

    <p>ç›‘æ§ä¸­å¿ƒå®•æ‰ä¸å½±å“ä½¿ç”¨ï¼Œåªæ˜¯ä¸¢å¤±éƒ¨åˆ†é‡‡æ ·æ•°æ®</p>

    <p>æ•°æ®åº“å®•æ‰åï¼Œæ³¨å†Œä¸­å¿ƒä»èƒ½é€šè¿‡ç¼“å­˜æä¾›æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ï¼Œä½†ä¸èƒ½æ³¨å†Œæ–°æœåŠ¡</p>

    <p>æ³¨å†Œä¸­å¿ƒå¯¹ç­‰é›†ç¾¤ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œå°†è‡ªåŠ¨åˆ‡æ¢åˆ°å¦ä¸€å°</p>

    <p>æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä»èƒ½é€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯</p>

    <p>æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œä»»æ„ä¸€å°å®•æ‰åï¼Œä¸å½±å“ä½¿ç”¨</p>

    <p>æœåŠ¡æä¾›è€…å…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æ¶ˆè´¹è€…åº”ç”¨å°†æ— æ³•ä½¿ç”¨ï¼Œå¹¶æ— é™æ¬¡é‡è¿ç­‰å¾…æœåŠ¡æä¾›è€…æ¢å¤</p>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="nd">@Reference</span><span class="o">(</span><span class="n">url</span><span class="o">=</span><span class="s">"127.0.0.1:20882"</span><span class="o">)</span> <span class="c1">//dubboç›´è¿</span>
	<span class="nc">UserService</span> <span class="n">userService</span><span class="o">;</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="nf">initOrder</span><span class="o">(</span><span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ç”¨æˆ·idï¼š"</span><span class="o">+</span><span class="n">userId</span><span class="o">);</span>
		<span class="c1">//1ã€æŸ¥è¯¢ç”¨æˆ·çš„æ”¶è´§åœ°å€</span>
		<span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserAddress</span><span class="o">&gt;</span> <span class="n">addressList</span> <span class="o">=</span> <span class="n">userService</span><span class="o">.</span><span class="na">getUserAddressList</span><span class="o">(</span><span class="n">userId</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">UserAddress</span> <span class="n">userAddress</span> <span class="o">:</span> <span class="n">addressList</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">userAddress</span><span class="o">.</span><span class="na">getUserAddress</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">addressList</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<h4 id="dubboè´Ÿè½½å‡è¡¡">dubboè´Ÿè½½å‡è¡¡</h4>

<ul>
  <li>åœ¨é›†ç¾¤è´Ÿè½½å‡è¡¡æ—¶ï¼ŒDubbo æä¾›äº†å¤šç§å‡è¡¡ç­–ç•¥ï¼Œç¼ºçœä¸º random éšæœºè°ƒç”¨</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Random LoadBalance
éšæœºï¼ŒæŒ‰æƒé‡è®¾ç½®éšæœºæ¦‚ç‡ã€‚
åœ¨ä¸€ä¸ªæˆªé¢ä¸Šç¢°æ’çš„æ¦‚ç‡é«˜ï¼Œä½†è°ƒç”¨é‡è¶Šå¤§åˆ†å¸ƒè¶Šå‡åŒ€ï¼Œè€Œä¸”æŒ‰æ¦‚ç‡ä½¿ç”¨æƒé‡åä¹Ÿæ¯”è¾ƒå‡åŒ€ï¼Œæœ‰åˆ©äºåŠ¨æ€è°ƒæ•´æä¾›è€…æƒé‡ã€‚

RoundRobin LoadBalance
è½®å¾ªï¼ŒæŒ‰å…¬çº¦åçš„æƒé‡è®¾ç½®è½®å¾ªæ¯”ç‡ã€‚
å­˜åœ¨æ…¢çš„æä¾›è€…ç´¯ç§¯è¯·æ±‚çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šç¬¬äºŒå°æœºå™¨å¾ˆæ…¢ï¼Œä½†æ²¡æŒ‚ï¼Œå½“è¯·æ±‚è°ƒåˆ°ç¬¬äºŒå°æ—¶å°±å¡åœ¨é‚£ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¡åœ¨è°ƒåˆ°ç¬¬äºŒå°ä¸Šã€‚

LeastActive LoadBalance
æœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ï¼Œç›¸åŒæ´»è·ƒæ•°çš„éšæœºï¼Œæ´»è·ƒæ•°æŒ‡è°ƒç”¨å‰åè®¡æ•°å·®ã€‚
ä½¿æ…¢çš„æä¾›è€…æ”¶åˆ°æ›´å°‘è¯·æ±‚ï¼Œå› ä¸ºè¶Šæ…¢çš„æä¾›è€…çš„è°ƒç”¨å‰åè®¡æ•°å·®ä¼šè¶Šå¤§ã€‚

ConsistentHash LoadBalance
ä¸€è‡´æ€§ Hashï¼Œç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘åˆ°åŒä¸€æä¾›è€…ã€‚
å½“æŸä¸€å°æä¾›è€…æŒ‚æ—¶ï¼ŒåŸæœ¬å‘å¾€è¯¥æä¾›è€…çš„è¯·æ±‚ï¼ŒåŸºäºè™šæ‹ŸèŠ‚ç‚¹ï¼Œå¹³æ‘Šåˆ°å…¶å®ƒæä¾›è€…ï¼Œä¸ä¼šå¼•èµ·å‰§çƒˆå˜åŠ¨ã€‚ç®—æ³•å‚è§ï¼šhttp://en.wikipedia.org/wiki/Consistent_hashing
ç¼ºçœåªå¯¹ç¬¬ä¸€ä¸ªå‚æ•° Hashï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œè¯·é…ç½® &lt;dubbo:parameter key="hash.arguments" value="0,1" /&gt;
ç¼ºçœç”¨ 160 ä»½è™šæ‹ŸèŠ‚ç‚¹ï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œè¯·é…ç½® &lt;dubbo:parameter key="hash.nodes" value="320" /&gt;

</code></pre></div></div>

<h4 id="æœåŠ¡ç†”æ–­ä¸é™çº§">æœåŠ¡ç†”æ–­ä¸é™çº§</h4>

<ul>
  <li><strong>å½“æœåŠ¡å™¨å‹åŠ›å‰§å¢çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µåŠæµé‡ï¼Œå¯¹ä¸€äº›æœåŠ¡å’Œé¡µé¢æœ‰ç­–ç•¥çš„ä¸å¤„ç†æˆ–æ¢ç§ç®€å•çš„æ–¹å¼å¤„ç†ï¼Œä»è€Œé‡Šæ”¾æœåŠ¡å™¨èµ„æºä»¥ä¿è¯æ ¸å¿ƒäº¤æ˜“æ­£å¸¸è¿ä½œæˆ–é«˜æ•ˆè¿ä½œã€‚</strong></li>
  <li>
    <p>å¯ä»¥é€šè¿‡æœåŠ¡é™çº§åŠŸèƒ½ä¸´æ—¶å±è”½æŸä¸ªå‡ºé”™çš„éå…³é”®æœåŠ¡ï¼Œå¹¶å®šä¹‰é™çº§åçš„è¿”å›ç­–ç•¥</p>
  </li>
  <li>åœ¨é›†ç¾¤è°ƒç”¨å¤±è´¥æ—¶ï¼ŒDubboæä¾›äº†å¤šç§å®¹é”™æ–¹æ¡ˆï¼Œç¼ºçœä¸ºfailover é‡è¯•</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Failover Cluster
å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå½“å‡ºç°å¤±è´¥ï¼Œé‡è¯•å…¶å®ƒæœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äºè¯»æ“ä½œï¼Œä½†é‡è¯•ä¼šå¸¦æ¥æ›´é•¿å»¶è¿Ÿã€‚å¯é€šè¿‡ retries="2" æ¥è®¾ç½®é‡è¯•æ¬¡æ•°(ä¸å«ç¬¬ä¸€æ¬¡)ã€‚

é‡è¯•æ¬¡æ•°é…ç½®å¦‚ä¸‹ï¼š
&lt;dubbo:service retries="2" /&gt;
æˆ–
&lt;dubbo:reference retries="2" /&gt;
æˆ–
&lt;dubbo:reference&gt;
    &lt;dubbo:method name="findFoo" retries="2" /&gt;
&lt;/dubbo:reference&gt;

Failfast Cluster
å¿«é€Ÿå¤±è´¥ï¼Œåªå‘èµ·ä¸€æ¬¡è°ƒç”¨ï¼Œå¤±è´¥ç«‹å³æŠ¥é”™ã€‚é€šå¸¸ç”¨äºéå¹‚ç­‰æ€§çš„å†™æ“ä½œï¼Œæ¯”å¦‚æ–°å¢è®°å½•ã€‚

Failsafe Cluster
å¤±è´¥å®‰å…¨ï¼Œå‡ºç°å¼‚å¸¸æ—¶ï¼Œç›´æ¥å¿½ç•¥ã€‚é€šå¸¸ç”¨äºå†™å…¥å®¡è®¡æ—¥å¿—ç­‰æ“ä½œã€‚

Failback Cluster
å¤±è´¥è‡ªåŠ¨æ¢å¤ï¼Œåå°è®°å½•å¤±è´¥è¯·æ±‚ï¼Œå®šæ—¶é‡å‘ã€‚é€šå¸¸ç”¨äºæ¶ˆæ¯é€šçŸ¥æ“ä½œã€‚

Forking Cluster
å¹¶è¡Œè°ƒç”¨å¤šä¸ªæœåŠ¡å™¨ï¼Œåªè¦ä¸€ä¸ªæˆåŠŸå³è¿”å›ã€‚é€šå¸¸ç”¨äºå®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„è¯»æ“ä½œï¼Œä½†éœ€è¦æµªè´¹æ›´å¤šæœåŠ¡èµ„æºã€‚å¯é€šè¿‡ forks="2" æ¥è®¾ç½®æœ€å¤§å¹¶è¡Œæ•°ã€‚

Broadcast Cluster
å¹¿æ’­è°ƒç”¨æ‰€æœ‰æä¾›è€…ï¼Œé€ä¸ªè°ƒç”¨ï¼Œä»»æ„ä¸€å°æŠ¥é”™åˆ™æŠ¥é”™ [2]ã€‚é€šå¸¸ç”¨äºé€šçŸ¥æ‰€æœ‰æä¾›è€…æ›´æ–°ç¼“å­˜æˆ–æ—¥å¿—ç­‰æœ¬åœ°èµ„æºä¿¡æ¯ã€‚

é›†ç¾¤æ¨¡å¼é…ç½®
æŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹åœ¨æœåŠ¡æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹é…ç½®é›†ç¾¤æ¨¡å¼
&lt;dubbo:service cluster="failsafe" /&gt;
æˆ–
&lt;dubbo:reference cluster="failsafe" /&gt;

</code></pre></div></div>

<h3 id="dubboåŸç†">dubboåŸç†</h3>

<h4 id="rpcåŸç†">RPCåŸç†</h4>

<ul>
  <li>ä¸€æ¬¡å®Œæ•´çš„RPCè°ƒç”¨æµç¨‹ï¼ˆåŒæ­¥è°ƒç”¨ï¼Œå¼‚æ­¥å¦è¯´ï¼‰å¦‚ä¸‹ï¼š
    <ul>
      <li>1ï¼‰æœåŠ¡æ¶ˆè´¹æ–¹ï¼ˆclientï¼‰è°ƒç”¨ä»¥æœ¬åœ°è°ƒç”¨æ–¹å¼è°ƒç”¨æœåŠ¡ï¼›</li>
      <li>2ï¼‰client stubæ¥æ”¶åˆ°è°ƒç”¨åè´Ÿè´£å°†æ–¹æ³•ã€å‚æ•°ç­‰ç»„è£…æˆèƒ½å¤Ÿè¿›è¡Œç½‘ç»œä¼ è¾“çš„æ¶ˆæ¯ä½“ï¼›</li>
      <li>3ï¼‰client stubæ‰¾åˆ°æœåŠ¡åœ°å€ï¼Œå¹¶å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡ç«¯ï¼›</li>
      <li>4ï¼‰server stubæ”¶åˆ°æ¶ˆæ¯åè¿›è¡Œè§£ç ï¼›</li>
      <li>5ï¼‰server stubæ ¹æ®è§£ç ç»“æœè°ƒç”¨æœ¬åœ°çš„æœåŠ¡ï¼›</li>
      <li>6ï¼‰æœ¬åœ°æœåŠ¡æ‰§è¡Œå¹¶å°†ç»“æœè¿”å›ç»™server stubï¼›</li>
      <li>7ï¼‰server stubå°†è¿”å›ç»“æœæ‰“åŒ…æˆæ¶ˆæ¯å¹¶å‘é€è‡³æ¶ˆè´¹æ–¹ï¼›</li>
      <li>8ï¼‰client stubæ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå¹¶è¿›è¡Œè§£ç ï¼›</li>
      <li>9ï¼‰æœåŠ¡æ¶ˆè´¹æ–¹å¾—åˆ°æœ€ç»ˆç»“æœã€‚</li>
    </ul>
  </li>
</ul>

<h4 id="nettyåŸºæœ¬åŸç†">NettyåŸºæœ¬åŸç†</h4>

<ul>
  <li>1åˆå§‹åŒ–channel</li>
  <li>2æ³¨å†Œchannelåˆ°selector</li>
  <li>3è½®è¯¢acceptäº‹ä»¶</li>
  <li>4å¤„ç†acceptå»ºç«‹è¿æ¥channel</li>
  <li>5æ³¨å†Œchannelåˆ°selector</li>
  <li>6è½®è¯¢è¯»å†™äº‹ä»¶</li>
  <li>7å¤„ç†è¯»å†™äº‹ä»¶</li>
</ul>

<h4 id="æ¡†æ¶è®¾è®¡">æ¡†æ¶è®¾è®¡</h4>

<ul>
  <li>configé…ç½®å±‚ï¼šå¯¹å¤–é…ç½®æ¥å£ï¼Œä»¥ ServiceConfig, ReferenceConfig ä¸ºä¸­å¿ƒï¼Œå¯ä»¥ç›´æ¥åˆå§‹åŒ–é…ç½®ç±»ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ spring è§£æé…ç½®ç”Ÿæˆé…ç½®ç±»</li>
  <li>proxy æœåŠ¡ä»£ç†å±‚ï¼šæœåŠ¡æ¥å£é€æ˜ä»£ç†ï¼Œç”ŸæˆæœåŠ¡çš„å®¢æˆ·ç«¯ Stub å’ŒæœåŠ¡å™¨ç«¯ Skeleton, ä»¥ ServiceProxy ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º ProxyFactory</li>
  <li>registryæ³¨å†Œä¸­å¿ƒå±‚ï¼šå°è£…æœåŠ¡åœ°å€çš„æ³¨å†Œä¸å‘ç°ï¼Œä»¥æœåŠ¡ URL ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º RegistryFactory, Registry, RegistryService</li>
  <li>clusterè·¯ç”±å±‚ï¼šå°è£…å¤šä¸ªæä¾›è€…çš„è·¯ç”±åŠè´Ÿè½½å‡è¡¡ï¼Œå¹¶æ¡¥æ¥æ³¨å†Œä¸­å¿ƒï¼Œä»¥ Invoker ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º Cluster, Directory, Router, LoadBalance</li>
  <li>monitorç›‘æ§å±‚ï¼šRPC è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ç›‘æ§ï¼Œä»¥ Statistics ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º MonitorFactory, Monitor, MonitorService</li>
  <li>protocolè¿œç¨‹è°ƒç”¨å±‚ï¼šå°è£… RPC è°ƒç”¨ï¼Œä»¥ Invocation, Result ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º Protocol, Invoker, Exporter</li>
  <li>exchangeä¿¡æ¯äº¤æ¢å±‚ï¼šå°è£…è¯·æ±‚å“åº”æ¨¡å¼ï¼ŒåŒæ­¥è½¬å¼‚æ­¥ï¼Œä»¥ Request, Response ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º Exchanger, ExchangeChannel, ExchangeClient,ExchangeServer</li>
  <li>transportç½‘ç»œä¼ è¾“å±‚ï¼šæŠ½è±¡ mina å’Œnetty ä¸ºç»Ÿä¸€æ¥å£ï¼Œä»¥ Message ä¸ºä¸­å¿ƒï¼Œæ‰©å±•æ¥å£ä¸º Channel, Transporter, Client, Server, Codec</li>
  <li>serializeæ•°æ®åºåˆ—åŒ–å±‚ï¼šå¯å¤ç”¨çš„ä¸€äº›å·¥å…·ï¼Œæ‰©å±•æ¥å£ä¸º Serialization, ObjectInput, ObjectOutput,
ThreadPool</li>
</ul>

<h4 id="æœåŠ¡æš´éœ²">æœåŠ¡æš´éœ²</h4>

<p><img src="https://i.loli.net/2020/09/22/CtpMKgJzTLbeOqy.png" alt="image.png" /></p>

<h4 id="æœåŠ¡å¼•ç”¨">æœåŠ¡å¼•ç”¨</h4>

<p><img src="https://i.loli.net/2020/09/22/WCIz3P4SrLEmUOv.png" alt="image.png" /></p>

<h4 id="æœåŠ¡è°ƒç”¨">æœåŠ¡è°ƒç”¨</h4>

<p><img src="https://i.loli.net/2020/09/22/UEKAF3vLm1SsfyC.png" alt="image.png" /></p>
:ET