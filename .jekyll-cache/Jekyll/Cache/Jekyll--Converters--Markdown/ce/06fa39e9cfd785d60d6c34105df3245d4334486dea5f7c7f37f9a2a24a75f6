I"•á<ul id="markdown-toc">
  <li><a href="#æ•°æ®è½¬æ¢" id="markdown-toc-æ•°æ®è½¬æ¢">æ•°æ®è½¬æ¢</a>    <ul>
      <li><a href="#å­—ç¬¦è½¬list" id="markdown-toc-å­—ç¬¦è½¬list">å­—ç¬¦è½¬list</a></li>
      <li><a href="#å­—ç¬¦ä¸²è½¬map" id="markdown-toc-å­—ç¬¦ä¸²è½¬map">å­—ç¬¦ä¸²è½¬map</a></li>
      <li><a href="#è‡ªå®šä¹‰è½¬æ¢å™¨" id="markdown-toc-è‡ªå®šä¹‰è½¬æ¢å™¨">è‡ªå®šä¹‰è½¬æ¢å™¨</a></li>
      <li><a href="#æ¡ˆä¾‹" id="markdown-toc-æ¡ˆä¾‹">æ¡ˆä¾‹</a></li>
    </ul>
  </li>
  <li><a href="#æ•°æ®æ ¡éªŒ" id="markdown-toc-æ•°æ®æ ¡éªŒ">æ•°æ®æ ¡éªŒ</a>    <ul>
      <li><a href="#æ™®é€šæ ¡éªŒ" id="markdown-toc-æ™®é€šæ ¡éªŒ">æ™®é€šæ ¡éªŒ</a></li>
      <li><a href="#xworkæ¡ˆä¾‹" id="markdown-toc-xworkæ¡ˆä¾‹">XWORKæ¡ˆä¾‹</a></li>
      <li><a href="#æ ¡éªŒå™¨" id="markdown-toc-æ ¡éªŒå™¨">æ ¡éªŒå™¨</a></li>
      <li><a href="#æ¡ˆä¾‹-1" id="markdown-toc-æ¡ˆä¾‹-1">æ¡ˆä¾‹</a></li>
    </ul>
  </li>
  <li><a href="#å›½é™…åŒ–" id="markdown-toc-å›½é™…åŒ–">å›½é™…åŒ–</a></li>
</ul>
<h3 id="æ•°æ®è½¬æ¢">æ•°æ®è½¬æ¢</h3>

<ul>
  <li>jspé¡µé¢ä¼ é€åˆ°åå°å¸¦çš„æ•°æ®é»˜è®¤éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å¦‚æœè¦æŠŠæ•°æ®å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œå°±è¦è½¬æ¢ä¸ºå¯¹è±¡å¯¹åº”çš„å±æ€§ç±»å‹</li>
</ul>

<h4 id="å­—ç¬¦è½¬list">å­—ç¬¦è½¬list</h4>

<ul>
  <li>userç±»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.model</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
	<span class="c1">//nameå±æ€§</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="c1">//ageå±æ€§</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
    <span class="c1">//telå±æ€§</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">tel</span><span class="o">;</span>
    <span class="c1">//å„å±æ€§çš„getterå’Œsetter()æ–¹æ³•</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.model.User</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="c1">//userså±æ€§ï¼Œä¸ºListç±»å‹</span>
	<span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">;</span>
	<span class="c1">//getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="nf">getUsers</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">users</span><span class="o">;</span> 
	<span class="o">}</span>
	<span class="c1">//setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsers</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">users</span> <span class="o">=</span> <span class="n">users</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//é‡è½½execute()æ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="k">for</span> <span class="o">(</span><span class="nc">User</span> <span class="n">user</span> <span class="o">:</span> <span class="n">users</span><span class="o">)</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Name:"</span><span class="o">+</span><span class="n">user</span><span class="o">.</span><span class="na">getName</span><span class="o">()+</span><span class="s">" Age:"</span><span class="o">+</span><span class="n">user</span><span class="o">.</span><span class="na">getAge</span><span class="o">()+</span><span class="s">" Tel:"</span><span class="o">+</span><span class="n">user</span><span class="o">.</span><span class="na">getTel</span><span class="o">());</span>
		<span class="o">}</span>
		
		<span class="k">return</span> <span class="no">SUCCESS</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="c">&lt;!--  defaultåŒ…--&gt;</span>
    <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"default"</span> <span class="na">namespace=</span><span class="s">"/"</span> <span class="na">extends=</span><span class="s">"struts-default"</span><span class="nt">&gt;</span>
    	<span class="c">&lt;!-- list Actionè¿”å›success.jspé¡µé¢ --&gt;</span>
        <span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"list"</span> <span class="na">class=</span><span class="s">"com.action.ListAction"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;result&gt;</span>/success.jsp<span class="nt">&lt;/result&gt;</span>         
        <span class="nt">&lt;/action&gt;</span>
    <span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<ul>
  <li>index.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
<span class="c">&lt;!-- è¡¨å• --&gt;</span>
<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"list"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- è¡¨æ ¼ --&gt;</span>
<span class="nt">&lt;table</span> <span class="nt">&gt;</span>
<span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;td&gt;&lt;/td&gt;</span>
   <span class="nt">&lt;td&gt;</span>firstï¼š<span class="nt">&lt;/td&gt;</span>
   <span class="nt">&lt;td&gt;</span>second:<span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;td&gt;</span>Name:<span class="nt">&lt;/td&gt;</span>
                      <span class="c">&lt;!-- è®¾ç½®listå…ƒç´ --&gt;</span>
   <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[0].name"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
   <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[1].name"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>  
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>	
    <span class="nt">&lt;td&gt;</span>Age:<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[0].age"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[1].age"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>	
     <span class="nt">&lt;td&gt;</span>Tel:<span class="nt">&lt;/td&gt;</span>
     <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[0].tel"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
     <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users[1].tel"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
     <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;s:submit&gt;&lt;/s:submit&gt;</span>
     <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/center&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>success.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[0].name"</span><span class="nt">/&gt;</span>
Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[0].age"</span><span class="nt">/&gt;</span>
Tel:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[0].tel"</span><span class="nt">/&gt;&lt;br/&gt;</span>
Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[1].name"</span><span class="nt">/&gt;</span>
Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[1].age"</span><span class="nt">/&gt;</span>
Tel:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users[1].tel"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="å­—ç¬¦ä¸²è½¬map">å­—ç¬¦ä¸²è½¬map</h4>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.model.User</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ListAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="c1">//Mapç±»å‹ userså±æ€§</span>
	<span class="kd">private</span>  <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">;</span>
	<span class="c1">//getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">User</span><span class="o">&gt;</span> <span class="nf">getUsers</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">users</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsers</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">User</span><span class="o">&gt;</span> <span class="n">users</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">users</span> <span class="o">=</span> <span class="n">users</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//é‡è½½executeæ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>		
		<span class="k">return</span> <span class="no">SUCCESS</span><span class="o">;</span>
	<span class="o">}</span>                                   
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>index.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"list"</span><span class="nt">&gt;</span>
<span class="nt">&lt;table</span> <span class="nt">&gt;</span>
<span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;td&gt;&lt;/td&gt;</span>
   <span class="nt">&lt;td&gt;</span>firstï¼š<span class="nt">&lt;/td&gt;</span>
   <span class="nt">&lt;td&gt;</span>second:<span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
 <span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td&gt;</span>Name:<span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['first'].name"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['second'].name"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>  
 <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>	
  <span class="nt">&lt;td&gt;</span>Age:<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['first'].age"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['second'].age"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>	
  <span class="nt">&lt;td&gt;</span>Tel:<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['first'].tel"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;s:textfield </span><span class="na">name=</span><span class="s">"users['second'].tel"</span><span class="na"> theme=</span><span class="s">"simple"</span><span class="nt">/&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
   <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;s:submit&gt;&lt;/s:submit&gt;</span>
   <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>success.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['first'].name"</span><span class="nt">/&gt;</span>
Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['first'].age"</span><span class="nt">/&gt;</span>
Tel:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['first'].tel"</span><span class="nt">/&gt;&lt;br/&gt;</span>
Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['second'].name"</span><span class="nt">/&gt;</span>
Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['second'].age"</span><span class="nt">/&gt;</span>
Tel:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"users['second'].tel"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="è‡ªå®šä¹‰è½¬æ¢å™¨">è‡ªå®šä¹‰è½¬æ¢å™¨</h4>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.convertor.Line</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LineAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="c1">//ç”Ÿé¢Lineå®ä¾‹</span>
	<span class="kd">private</span> <span class="nc">Line</span> <span class="n">line</span><span class="o">;</span>
	<span class="c1">//getteræ–¹æ³•</span>
   <span class="kd">public</span> <span class="nc">Line</span> <span class="nf">getLine</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">line</span><span class="o">;</span>
	<span class="o">}</span>
   <span class="c1">//setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setLine</span><span class="o">(</span><span class="nc">Line</span> <span class="n">line</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//é‡è½½executeæ–¹æ³•</span>
   <span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
	<span class="c1">// TODO Auto-generated method stub</span>
	<span class="k">return</span> <span class="no">SUCCESS</span><span class="o">;</span>
   <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>LineAction-conversion.properties</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">line</span><span class="p">=</span><span class="s">com.convertor.LineConvertor</span>
</code></pre></div></div>

<ul>
  <li>Lineç±»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.convertor</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Line</span> <span class="o">{</span>
 <span class="c1">//çº¿æ®µç±»çš„ç«¯ç‚¹åæ ‡ï¼ˆx1,y1,x2,y2ï¼‰</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">x1</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">y1</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">x2</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">y2</span><span class="o">;</span>
  <span class="kd">public</span> <span class="nf">Line</span><span class="o">(){</span>  
  <span class="o">}</span> 
  <span class="c1">//æ„é€ æ–¹æ³•</span>
  <span class="kd">public</span> <span class="nf">Line</span><span class="o">(</span><span class="kt">int</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y2</span><span class="o">)</span>
  <span class="o">{</span>
	  <span class="k">this</span><span class="o">.</span><span class="na">x1</span><span class="o">=</span><span class="n">x1</span><span class="o">;</span>
	  <span class="k">this</span><span class="o">.</span><span class="na">y1</span><span class="o">=</span><span class="n">y1</span><span class="o">;</span>
	  <span class="k">this</span><span class="o">.</span><span class="na">x2</span><span class="o">=</span><span class="n">x2</span><span class="o">;</span>
	  <span class="k">this</span><span class="o">.</span><span class="na">y2</span><span class="o">=</span><span class="n">y2</span><span class="o">;</span>
	  
  <span class="o">}</span>
  <span class="c1">//å±æ€§çš„getterå’Œsetteræ–¹æ³•</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>LineConvertorè½¬æ¢å™¨ç±»</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.convertor</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.struts2.util.StrutsTypeConverter</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LineConvertor</span> <span class="kd">extends</span> <span class="nc">StrutsTypeConverter</span><span class="o">{</span>
	<span class="c1">//å­—ç¬¦ä¸²è½¬å‘æŒ‡å®šç±»å‹</span>
	<span class="kd">public</span> <span class="nc">Object</span> <span class="nf">convertFromString</span><span class="o">(</span><span class="nc">Map</span> <span class="n">contenxt</span><span class="o">,</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">values</span><span class="o">,</span> <span class="nc">Class</span> <span class="n">totype</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//è¯·æ±‚å‚æ•°ä¸ºå­—ç¬¦ä¸²æ•°ç»„</span>
		<span class="nc">String</span><span class="o">[]</span> <span class="n">params</span><span class="o">=(</span><span class="nc">String</span><span class="o">[])</span><span class="n">values</span><span class="o">;</span>
		<span class="nc">String</span> <span class="n">param</span><span class="o">=</span><span class="n">params</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
		<span class="c1">//åˆ›å»ºLineå®ä¾‹</span>
		<span class="nc">Line</span> <span class="n">line</span><span class="o">=</span><span class="k">new</span> <span class="nc">Line</span><span class="o">();</span>
		<span class="nc">StringBuilder</span> <span class="n">temp</span><span class="o">=</span><span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
		<span class="kt">char</span> <span class="n">ch</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
		<span class="c1">//å­—ç¬¦ä¸²æ­£ç¡®å½¢å¼ä¸º(x1,y1,x2,y2)</span>
		<span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">index</span><span class="o">&lt;</span><span class="n">param</span><span class="o">.</span><span class="na">length</span><span class="o">();</span><span class="n">index</span><span class="o">++)</span>
		<span class="o">{</span>
			<span class="n">ch</span><span class="o">=</span><span class="n">param</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
			<span class="k">if</span><span class="o">(</span><span class="n">ch</span><span class="o">!=</span><span class="sc">','</span><span class="o">&amp;&amp;</span><span class="n">ch</span><span class="o">!=</span><span class="sc">'('</span><span class="o">&amp;&amp;</span><span class="n">ch</span><span class="o">!=</span><span class="sc">')'</span><span class="o">)</span>
			<span class="o">{</span>
			   <span class="n">temp</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">ch</span><span class="o">);</span>
			<span class="o">}</span><span class="k">else</span> <span class="k">if</span><span class="o">(</span><span class="n">ch</span><span class="o">==</span><span class="sc">','</span><span class="o">||</span><span class="n">ch</span><span class="o">==</span><span class="sc">')'</span><span class="o">)</span>
			<span class="o">{</span>
				<span class="k">switch</span> <span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
				<span class="o">{</span>
					<span class="n">line</span><span class="o">.</span><span class="na">setX1</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">temp</span><span class="o">.</span><span class="na">toString</span><span class="o">()));</span>
					<span class="n">temp</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">temp</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
				<span class="o">{</span>
					<span class="n">line</span><span class="o">.</span><span class="na">setY1</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">temp</span><span class="o">.</span><span class="na">toString</span><span class="o">()));</span>
					<span class="n">temp</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">temp</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
				<span class="o">{</span>
					<span class="n">line</span><span class="o">.</span><span class="na">setX2</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">temp</span><span class="o">.</span><span class="na">toString</span><span class="o">()));</span>
					<span class="n">temp</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">temp</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
				<span class="o">{</span>
					<span class="n">line</span><span class="o">.</span><span class="na">setY2</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">temp</span><span class="o">.</span><span class="na">toString</span><span class="o">()));</span>
					<span class="n">temp</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="n">temp</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="k">default</span><span class="o">:</span>
					<span class="k">break</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="n">j</span><span class="o">++;</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="o">(</span><span class="nc">Object</span><span class="o">)</span><span class="n">line</span><span class="o">;</span>

	<span class="o">}</span>

	<span class="c1">//å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">convertToString</span><span class="o">(</span><span class="nc">Map</span> <span class="n">context</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//å¼ºåˆ¶è½¬æ¢ä¸ºLineç±»å‹</span>
		<span class="nc">Line</span> <span class="n">line</span><span class="o">=(</span><span class="nc">Line</span><span class="o">)</span><span class="n">o</span><span class="o">;</span>
		<span class="k">return</span> <span class="s">"("</span><span class="o">+</span><span class="n">line</span><span class="o">.</span><span class="na">getX1</span><span class="o">()+</span><span class="s">","</span><span class="o">+</span><span class="n">line</span><span class="o">.</span><span class="na">getY1</span><span class="o">()+</span><span class="s">","</span><span class="o">+</span><span class="n">line</span><span class="o">.</span><span class="na">getX2</span><span class="o">()+</span><span class="s">","</span><span class="o">+</span><span class="n">line</span><span class="o">.</span><span class="na">getY2</span><span class="o">()+</span><span class="s">")"</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
    <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"default"</span> <span class="na">namespace=</span><span class="s">"/"</span> <span class="na">extends=</span><span class="s">"struts-default"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"line"</span> <span class="na">class=</span><span class="s">"com.action.LineAction"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;result&gt;</span>/success.jsp<span class="nt">&lt;/result&gt;</span>
            
        <span class="nt">&lt;/action&gt;</span>
    <span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>

</code></pre></div></div>

<ul>
  <li>index.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"line"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"line"</span><span class="na"> label=</span><span class="s">"Line input,please input (x1,y1,x2,y2)!"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;s:submit&gt;&lt;/s:submit&gt;</span>
<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>success.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
   <span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"line"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h4>

<ul>
  <li>
    <p>è¦æ±‚ï¼šè¾“å…¥xåæ ‡å’Œyåæ ‡æŒ‰ç…§ã€x=?,y=?ã€‘æ ¼å¼æ˜¾ç¤º</p>
  </li>
  <li>
    <p>web.xml</p>
  </li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;filter&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;filter-class&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="nt">&lt;/filter-class&gt;</span>
<span class="nt">&lt;/filter&gt;</span>
<span class="nt">&lt;filter-mapping&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/filter-mapping&gt;</span>
</code></pre></div></div>

<ul>
  <li>input.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=utf-8"</span><span class="na">
    pageEncoding=</span><span class="s">"utf-8"</span><span class="nt">%&gt;</span>
    <span class="nt">&lt;%@ taglib </span><span class="na">uri=</span><span class="s">"/struts-tags"</span><span class="na"> prefix=</span><span class="s">"s"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=ISO-8859-1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"out"</span><span class="na"> method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"point"</span><span class="na"> label=</span><span class="s">"X point"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"point"</span><span class="na"> label=</span><span class="s">"Y point"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;s:submit&gt;&lt;/s:submit&gt;</span>
	<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">"struts.i18n.encoding"</span> <span class="na">value=</span><span class="s">"UTF-8"</span><span class="nt">&gt;&lt;/constant&gt;</span>
	<span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"demo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"out"</span> <span class="na">class=</span><span class="s">"com.test.action.PointAction"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"out"</span><span class="nt">&gt;</span>/out.jsp<span class="nt">&lt;/result&gt;</span>
		<span class="nt">&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<ul>
  <li>PointAction</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.test.bean.Point</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PointAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">Point</span> <span class="n">point</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="nc">Point</span> <span class="nf">getPoint</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">point</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPoint</span><span class="o">(</span><span class="nc">Point</span> <span class="n">point</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">point</span> <span class="o">=</span> <span class="n">point</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="k">return</span> <span class="s">"out"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>Point.java</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.bean</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Point</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">y</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getX</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">x</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setX</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getY</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">y</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setY</span><span class="o">(</span><span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"Point [x="</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">", y="</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="s">"]"</span><span class="o">;</span>
	<span class="o">}</span>
	

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>PointConverter</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.struts2.util.StrutsTypeConverter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.test.bean.Point</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PointConverter</span> <span class="kd">extends</span> <span class="nc">StrutsTypeConverter</span><span class="o">{</span>
	<span class="c1">////å­—ç¬¦ä¸²è½¬å‘æŒ‡å®šç±»å‹</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">Object</span> <span class="nf">convertFromString</span><span class="o">(</span><span class="nc">Map</span> <span class="n">contenxt</span><span class="o">,</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">values</span><span class="o">,</span> <span class="nc">Class</span> <span class="n">totype</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">//è¯·æ±‚å‚æ•°ä¸ºå­—ç¬¦ä¸²æ•°ç»„</span>
		<span class="nc">String</span> <span class="n">xString</span><span class="o">=</span><span class="n">values</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
		<span class="nc">String</span> <span class="n">yString</span><span class="o">=</span><span class="n">values</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
		<span class="nc">Point</span> <span class="n">point</span><span class="o">=</span><span class="k">new</span> <span class="nc">Point</span><span class="o">();</span>
		<span class="n">point</span><span class="o">.</span><span class="na">setX</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">xString</span><span class="o">));</span>
		<span class="n">point</span><span class="o">.</span><span class="na">setY</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">yString</span><span class="o">));</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"s to o"</span><span class="o">+</span><span class="n">point</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">point</span><span class="o">;</span>
		
	<span class="o">}</span>
	<span class="c1">////å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">convertToString</span><span class="o">(</span><span class="nc">Map</span> <span class="n">map</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">Point</span> <span class="n">point</span><span class="o">=(</span><span class="nc">Point</span><span class="o">)</span> <span class="n">object</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">point</span><span class="o">);</span>
		<span class="k">return</span> <span class="s">"[x="</span><span class="o">+</span><span class="n">point</span><span class="o">.</span><span class="na">getX</span><span class="o">()+</span><span class="s">",y="</span><span class="o">+</span><span class="n">point</span><span class="o">.</span><span class="na">getY</span><span class="o">()+</span><span class="s">"]"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>PointAction-conversion.properties</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">point</span><span class="p">=</span><span class="s">com.test.action.PointConverter</span>
</code></pre></div></div>

<ul>
  <li>out.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=utf-8"</span><span class="na">
    pageEncoding=</span><span class="s">"utf-8"</span><span class="nt">%&gt;</span>
    <span class="nt">&lt;%@ taglib </span><span class="na">uri=</span><span class="s">"/struts-tags"</span><span class="na"> prefix=</span><span class="s">"s"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=ISO-8859-1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"point"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h3 id="æ•°æ®æ ¡éªŒ">æ•°æ®æ ¡éªŒ</h3>

<h4 id="æ™®é€šæ ¡éªŒ">æ™®é€šæ ¡éªŒ</h4>

<ul>
  <li>bean</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.bean</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Double</span> <span class="n">price</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Date</span> <span class="n">date</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Integer</span> <span class="n">count</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Double</span> <span class="nf">getPrice</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPrice</span><span class="o">(</span><span class="nc">Double</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Date</span> <span class="nf">getDate</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">date</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDate</span><span class="o">(</span><span class="nc">Date</span> <span class="n">date</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">date</span> <span class="o">=</span> <span class="n">date</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">count</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCount</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">count</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">count</span> <span class="o">=</span> <span class="n">count</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.test.bean.Book</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>

	<span class="cm">/**
	 * 
	 */</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Book</span> <span class="n">book</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nc">Book</span> <span class="nf">getBook</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">book</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBook</span><span class="o">(</span><span class="nc">Book</span> <span class="n">book</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">book</span> <span class="o">=</span> <span class="n">book</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//loginä¸šåŠ¡æ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">log</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>

	<span class="o">}</span>
	<span class="c1">//æ ¡éªŒæ–¹æ³•</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">validate</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="kd">super</span><span class="o">.</span><span class="na">validate</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="c1">//logæ–¹æ³•çš„æ ¡éªŒæ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">validateLog</span><span class="o">(){</span>
		<span class="nc">Date</span> <span class="n">date</span><span class="o">=</span><span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">""</span><span class="o">))</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"name must not null"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()&lt;=</span><span class="mi">0</span><span class="o">){</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"price"</span><span class="o">,</span> <span class="s">"price must &gt;0"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getDate</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getDate</span><span class="o">().</span><span class="na">getTime</span><span class="o">()&gt;=</span><span class="n">date</span><span class="o">.</span><span class="na">getTime</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"date"</span><span class="o">,</span> <span class="s">"date is error"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getCount</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getCount</span><span class="o">()&lt;=</span><span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"count"</span><span class="o">,</span> <span class="s">"count must &gt;0"</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">"struts.i18n.encoding"</span> <span class="na">value=</span><span class="s">"UTF-8"</span><span class="nt">&gt;&lt;/constant&gt;</span>
	<span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"demo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"addBook"</span> <span class="na">class=</span><span class="s">"com.test.action.BookAction"</span> <span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"hello"</span><span class="nt">&gt;</span>/hello.jsp<span class="nt">&lt;/result&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"input"</span><span class="nt">&gt;</span>/addBook.jsp<span class="nt">&lt;/result&gt;</span>
		<span class="nt">&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<ul>
  <li>web.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns=</span><span class="s">"http://java.sun.com/xml/ns/j2ee"</span> <span class="na">xmlns:javaee=</span><span class="s">"http://java.sun.com/xml/ns/javaee"</span> <span class="na">xmlns:web=</span><span class="s">"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"</span> <span class="na">xsi:schemaLocation=</span><span class="s">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"</span> <span class="na">id=</span><span class="s">"WebApp_9"</span> <span class="na">version=</span><span class="s">"2.4"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;filter&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;filter-class&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="nt">&lt;/filter-class&gt;</span>
  <span class="nt">&lt;/filter&gt;</span>
  <span class="nt">&lt;filter-mapping&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>struts2<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
  <span class="nt">&lt;/filter-mapping&gt;</span>
  <span class="nt">&lt;welcome-file-list&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>addBook.jsp<span class="nt">&lt;/welcome-file&gt;</span>
  <span class="nt">&lt;/welcome-file-list&gt;</span>
<span class="nt">&lt;/web-app&gt;</span>
</code></pre></div></div>

<ul>
  <li>addBook.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
  	<span class="c">&lt;!-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®æ ¡éªŒé”™è¯¯ä¿¡æ¯ --&gt;</span>
  	<span class="nt">&lt;s:fielderror/&gt;</span>
    <span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"addBook.action"</span><span class="na"> validate=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.name"</span><span class="na"> label=</span><span class="s">"name"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.price"</span><span class="na"> label=</span><span class="s">"price"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.date"</span><span class="na"> label=</span><span class="s">"date"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.count"</span><span class="na"> label=</span><span class="s">"count"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:submit </span><span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;&lt;/s:submit&gt;</span>
	<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<ul>
  <li>hello.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.name"</span><span class="nt">/&gt;&lt;br&gt;</span>
    price:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.price"</span><span class="nt">/&gt;&lt;br&gt;</span>
    date:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.date"</span><span class="nt">/&gt;&lt;br&gt;</span>
    count:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.count"</span><span class="nt">/&gt;&lt;br&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<h4 id="xworkæ¡ˆä¾‹">XWORKæ¡ˆä¾‹</h4>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LoginAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="c1">//nameå±æ€§</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="c1">//ageå±æ€§</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
	<span class="c1">//telå±æ€§</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">tel</span><span class="o">;</span>
	<span class="c1">//nameå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//nameå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//ageå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//ageå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//telå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getTel</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">tel</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//telå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTel</span><span class="o">(</span><span class="nc">String</span> <span class="n">tel</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">tel</span> <span class="o">=</span> <span class="n">tel</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//é‡è½½executeæ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//logæ–¹æ³•ï¼ŒActionè°ƒç”¨çš„methodæ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">log</span><span class="o">()</span><span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"log"</span><span class="o">);</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>LoginAction-validation.xml</li>
  <li>å­—æ®µæ ¡éªŒæ–¹å¼ï¼šé’ˆå¯¹å­—æ®µæˆ–è€…å±æ€§ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼åœ¨æ ¡éªŒæ—¶å¯¹ä»»æ„ä¸€ä¸ªå­—æ®µéƒ½èƒ½è¿”å›ä¸€ä¸ªæ˜ç¡®æ¶ˆæ¯</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE validators PUBLIC "-//OpenSymphony Group//XWork Validator 1.0.2//EN" "http://www.opensymphony.com/xwork/xwork-validator-1.0.2.dtd"&gt;</span>

<span class="nt">&lt;validators&gt;</span>
    <span class="c">&lt;!-- ageåŸŸ --&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"age"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!--åŸŸç±»å‹ä¸ºint--&gt;</span>
        <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"int"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"min"</span><span class="nt">&gt;</span>10<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"max"</span><span class="nt">&gt;</span>40<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;message&gt;</span>the age must be from 10 to 40!<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/field-validator&gt;</span>
    <span class="nt">&lt;/field&gt;</span>
    <span class="c">&lt;!-- nameåŸŸ --&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>
    	<span class="c">&lt;!-- åŸŸç±»å‹ä¸ºrequiredstringç±»å‹ --&gt;</span>
        <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"requiredstring"</span><span class="nt">&gt;</span>        
            <span class="nt">&lt;message&gt;</span>the age must be from 10 to 40!<span class="nt">&lt;/message&gt;</span>
        <span class="nt">&lt;/field-validator&gt;</span>
    <span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/validators&gt;</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
    <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"default"</span> <span class="na">namespace=</span><span class="s">"/"</span> <span class="na">extends=</span><span class="s">"struts-default"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"login"</span> <span class="na">class=</span><span class="s">"com.action.LoginAction"</span><span class="nt">&gt;</span>
        	<span class="c">&lt;!-- è¿”å›hello.jsp --&gt;</span>
            <span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"hello"</span><span class="nt">&gt;</span>/hello.jsp<span class="nt">&lt;/result&gt;</span>
            <span class="c">&lt;!-- æ ¡éªŒå‡ºç°é—®é¢˜ï¼Œè¿”å›validation.jsp --&gt;</span>
            <span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"input"</span><span class="nt">&gt;</span>/validateLogin.jsp<span class="nt">&lt;/result&gt;</span>
        <span class="nt">&lt;/action&gt;</span>
    <span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<ul>
  <li>index.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>

<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"login"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"name"</span><span class="na"> label=</span><span class="s">"Name"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"age"</span><span class="na"> label=</span><span class="s">"Age"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"tel"</span><span class="na"> label=</span><span class="s">"Telephone"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
    <span class="nt">&lt;s:submit </span><span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;&lt;/s:submit&gt;</span>
<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>hello.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;center&gt;</span>
    Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"name"</span><span class="nt">/&gt;&lt;br/&gt;</span>
    Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"age"</span><span class="nt">/&gt;&lt;br/&gt;</span>
    Telephone:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"tel"</span><span class="nt">/&gt;&lt;br/&gt;</span>
  <span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>validateLogin.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
the your input
<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"age"</span><span class="nt">/&gt;</span> that is wrong!<span class="nt">&lt;br/&gt;</span>

<span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="æ ¡éªŒå™¨">æ ¡éªŒå™¨</h4>

<ul>
  <li>required</li>
  <li>è¦æ±‚å¿…é¡»éç©º</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºrequired--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"required"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;message&gt;</span>the name must not be null<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<ul>
  <li>requiredstring</li>
  <li>è¦æ±‚å¿…é¡»éç©ºå¹¶ä¸”é•¿åº¦å¿…é¡»å¤§äº0</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºrequiredstring--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"requiredstring"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;message&gt;</span>the name is required<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<ul>
  <li>int</li>
  <li>æ•´æ•°æ ¡éªŒï¼Œå¿…é¡»åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦å¤–ï¼Œlongï¼Œshortï¼Œfloatï¼ŒdoubleåŒç†</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"age"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºint--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"int"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"min"</span><span class="nt">&gt;</span>10<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"max"</span><span class="nt">&gt;</span>40<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;message&gt;</span>the age must be from 10 to 40!<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<ul>
  <li>data</li>
  <li>è¦æ±‚æ—¥æœŸåœ¨æŒ‡å®šèŒƒå›´å†…</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"birth"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºdata--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"data"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"min"</span><span class="nt">&gt;</span>1990-01-01<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"max"</span><span class="nt">&gt;</span>2018-3-2<span class="nt">&lt;/param&gt;</span>
            <span class="c">&lt;!--é”™è¯¯è¾“å‡ºï¼Œ${min} å’Œ ${max}æ˜¯ä¸Šé¢çš„è¦æ±‚æ—¥æœŸ--&gt;</span>
            <span class="nt">&lt;message&gt;</span>the data must between ${min} and ${max}<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<ul>
  <li>email</li>
  <li>æ ¡éªŒé‚®ä»¶åœ°å€æ˜¯å¦åˆæ³•</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"mail"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºemail--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"email"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;message&gt;</span>the address must not be avliable<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<ul>
  <li>stringlength</li>
  <li>é•¿åº¦å¿…é¡»åœ¨èŒƒå›´å†…</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">"user"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--åŸŸç±»å‹ä¸ºstringlength--&gt;</span>
    <span class="nt">&lt;field-validator</span> <span class="na">type=</span><span class="s">"stringlength"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"minLength"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"maxLength"</span><span class="nt">&gt;</span>40<span class="nt">&lt;/param&gt;</span>
            <span class="nt">&lt;message&gt;</span>the user must be between 4 and 40!<span class="nt">&lt;/message&gt;</span>
    <span class="nt">&lt;/field-validator&gt;</span>
<span class="nt">&lt;/field&gt;</span>
</code></pre></div></div>

<h4 id="æ¡ˆä¾‹-1">æ¡ˆä¾‹</h4>

<ul>
  <li>Book.java</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.bean</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Double</span> <span class="n">price</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Date</span> <span class="n">date</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Integer</span> <span class="n">count</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Double</span> <span class="nf">getPrice</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPrice</span><span class="o">(</span><span class="nc">Double</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Date</span> <span class="nf">getDate</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">date</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDate</span><span class="o">(</span><span class="nc">Date</span> <span class="n">date</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">date</span> <span class="o">=</span> <span class="n">date</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">count</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCount</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">count</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">count</span> <span class="o">=</span> <span class="n">count</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>addBook.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> import=</span><span class="s">"java.util.*"</span><span class="na"> pageEncoding=</span><span class="s">"utf-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
<span class="nc">String</span> <span class="n">path</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getContextPath</span><span class="o">();</span>
<span class="nc">String</span> <span class="n">basePath</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getScheme</span><span class="o">()+</span><span class="s">"://"</span><span class="o">+</span><span class="n">request</span><span class="o">.</span><span class="na">getServerName</span><span class="o">()+</span><span class="s">":"</span><span class="o">+</span><span class="n">request</span><span class="o">.</span><span class="na">getServerPort</span><span class="o">()+</span><span class="n">path</span><span class="o">+</span><span class="s">"/"</span><span class="o">;</span>
<span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;base</span> <span class="na">href=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">basePath</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    
    <span class="nt">&lt;title&gt;</span>My JSP 'addBook.jsp' starting page<span class="nt">&lt;/title&gt;</span>
    
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"pragma"</span> <span class="na">content=</span><span class="s">"no-cache"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"cache-control"</span> <span class="na">content=</span><span class="s">"no-cache"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"expires"</span> <span class="na">content=</span><span class="s">"0"</span><span class="nt">&gt;</span>    
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"keywords"</span> <span class="na">content=</span><span class="s">"keyword1,keyword2,keyword3"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"description"</span> <span class="na">content=</span><span class="s">"This is my page"</span><span class="nt">&gt;</span>
	<span class="c">&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;</span>

  <span class="nt">&lt;/head&gt;</span>
  
  <span class="nt">&lt;body&gt;</span>
  	<span class="c">&lt;!-- æ˜¾ç¤ºæ‰€æœ‰æ•°æ®æ ¡éªŒé”™è¯¯ä¿¡æ¯ --&gt;</span>
  	<span class="nt">&lt;s:fielderror/&gt;</span>
    <span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"addBook.action"</span><span class="na"> validate=</span><span class="s">"true"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.name"</span><span class="na"> label=</span><span class="s">"name"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.price"</span><span class="na"> label=</span><span class="s">"price"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.date"</span><span class="na"> label=</span><span class="s">"date"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"book.count"</span><span class="na"> label=</span><span class="s">"count"</span><span class="nt">&gt;&lt;/s:textfield&gt;</span>
	    <span class="nt">&lt;s:submit </span><span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;&lt;/s:submit&gt;</span>
	<span class="nt">&lt;/s:form&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">"struts.i18n.encoding"</span> <span class="na">value=</span><span class="s">"UTF-8"</span><span class="nt">&gt;&lt;/constant&gt;</span>
	<span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"demo"</span> <span class="na">extends=</span><span class="s">"struts-default"</span> <span class="na">namespace=</span><span class="s">"/"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"addBook"</span> <span class="na">class=</span><span class="s">"com.test.action.BookAction"</span> <span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!--å¦‚æœå…¨éƒ¨é€šè¿‡éªŒè¯ï¼Œè·³è½¬åˆ°helloé¡µé¢æ˜¾ç¤ºï¼Œå¦‚æœéªŒè¯ä¸é€šè¿‡ï¼Œè¿”å›addbooké¡µé¢æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯  --&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"hello"</span><span class="nt">&gt;</span>/hello.jsp<span class="nt">&lt;/result&gt;</span>
			<span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"input"</span><span class="nt">&gt;</span>/addBook.jsp<span class="nt">&lt;/result&gt;</span>
		<span class="nt">&lt;/action&gt;</span>
	<span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>
</code></pre></div></div>

<ul>
  <li>BookAction</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.test.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.test.bean.Book</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>

	<span class="cm">/**
	 * 
	 */</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">Book</span> <span class="n">book</span><span class="o">;</span>
	<span class="kd">public</span> <span class="nc">Book</span> <span class="nf">getBook</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">book</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setBook</span><span class="o">(</span><span class="nc">Book</span> <span class="n">book</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">book</span> <span class="o">=</span> <span class="n">book</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//loginä¸šåŠ¡æ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">log</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>

	<span class="o">}</span>
	<span class="c1">//æ ¡éªŒæ–¹æ³•</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">validate</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="kd">super</span><span class="o">.</span><span class="na">validate</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="c1">//logæ–¹æ³•çš„æ ¡éªŒæ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">validateLog</span><span class="o">(){</span>
		<span class="nc">Date</span> <span class="n">date</span><span class="o">=</span><span class="k">new</span> <span class="nc">Date</span><span class="o">();</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">""</span><span class="o">))</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"name must not null"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()&lt;=</span><span class="mi">0</span><span class="o">){</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"price"</span><span class="o">,</span> <span class="s">"price must &gt;0"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getDate</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getDate</span><span class="o">().</span><span class="na">getTime</span><span class="o">()&gt;=</span><span class="n">date</span><span class="o">.</span><span class="na">getTime</span><span class="o">())</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"date"</span><span class="o">,</span> <span class="s">"date is error"</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">if</span><span class="o">(</span><span class="kc">null</span><span class="o">==</span><span class="n">book</span><span class="o">.</span><span class="na">getCount</span><span class="o">()</span> <span class="o">||</span> <span class="n">book</span><span class="o">.</span><span class="na">getCount</span><span class="o">()&lt;=</span><span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">addFieldError</span><span class="o">(</span><span class="s">"count"</span><span class="o">,</span> <span class="s">"count must &gt;0"</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>hello.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> import=</span><span class="s">"java.util.*"</span><span class="na"> pageEncoding=</span><span class="s">"utf-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%</span>
<span class="nc">String</span> <span class="n">path</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getContextPath</span><span class="o">();</span>
<span class="nc">String</span> <span class="n">basePath</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getScheme</span><span class="o">()+</span><span class="s">"://"</span><span class="o">+</span><span class="n">request</span><span class="o">.</span><span class="na">getServerName</span><span class="o">()+</span><span class="s">":"</span><span class="o">+</span><span class="n">request</span><span class="o">.</span><span class="na">getServerPort</span><span class="o">()+</span><span class="n">path</span><span class="o">+</span><span class="s">"/"</span><span class="o">;</span>
<span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;base</span> <span class="na">href=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">basePath</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    
    <span class="nt">&lt;title&gt;</span>My JSP 'hello.jsp' starting page<span class="nt">&lt;/title&gt;</span>
    
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"pragma"</span> <span class="na">content=</span><span class="s">"no-cache"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"cache-control"</span> <span class="na">content=</span><span class="s">"no-cache"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"expires"</span> <span class="na">content=</span><span class="s">"0"</span><span class="nt">&gt;</span>    
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"keywords"</span> <span class="na">content=</span><span class="s">"keyword1,keyword2,keyword3"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"description"</span> <span class="na">content=</span><span class="s">"This is my page"</span><span class="nt">&gt;</span>
	<span class="c">&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;</span>

  <span class="nt">&lt;/head&gt;</span>
  
  <span class="nt">&lt;body&gt;</span>
    name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.name"</span><span class="nt">/&gt;&lt;br&gt;</span>
    price:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.price"</span><span class="nt">/&gt;&lt;br&gt;</span>
    date:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.date"</span><span class="nt">/&gt;&lt;br&gt;</span>
    count:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"book.count"</span><span class="nt">/&gt;&lt;br&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div>

<h3 id="å›½é™…åŒ–">å›½é™…åŒ–</h3>

<ul>
  <li>action</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.opensymphony.xwork2.ActionSupport</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LoginAction</span> <span class="kd">extends</span> <span class="nc">ActionSupport</span><span class="o">{</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
	<span class="c1">//nameå±æ€§</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
	<span class="c1">//ageå±æ€§</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
	<span class="c1">//telå±æ€§</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">tel</span><span class="o">;</span>
	<span class="c1">//nameå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//nameå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//ageå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//ageå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//telå±æ€§getteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">getTel</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">tel</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//telå±æ€§setteræ–¹æ³•</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setTel</span><span class="o">(</span><span class="nc">String</span> <span class="n">tel</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">tel</span> <span class="o">=</span> <span class="n">tel</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//é‡è½½executeæ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">execute</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	<span class="c1">//logæ–¹æ³•ï¼ŒActionè°ƒç”¨çš„methodæ–¹æ³•</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">log</span><span class="o">()</span><span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"log"</span><span class="o">);</span>
		<span class="k">return</span> <span class="s">"hello"</span><span class="o">;</span>
	<span class="o">}</span>
	
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li>struts.xml</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd"&gt;</span>
<span class="nt">&lt;struts&gt;</span>
	<span class="nt">&lt;constant</span> <span class="na">name=</span><span class="s">"struts.custom.i18n.resources"</span> <span class="na">value=</span><span class="s">"login"</span><span class="nt">&gt;&lt;/constant&gt;</span>
    <span class="nt">&lt;package</span> <span class="na">name=</span><span class="s">"default"</span> <span class="na">namespace=</span><span class="s">"/"</span> <span class="na">extends=</span><span class="s">"struts-default"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">"login"</span> <span class="na">class=</span><span class="s">"com.action.LoginAction"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;result</span> <span class="na">name=</span><span class="s">"hello"</span><span class="nt">&gt;</span>/hello.jsp<span class="nt">&lt;/result&gt;</span>
             <span class="nt">&lt;/action&gt;</span>
    <span class="nt">&lt;/package&gt;</span>
<span class="nt">&lt;/struts&gt;</span>

</code></pre></div></div>

<ul>
  <li>åœ¨srcç›®å½•ä¸‹åˆ›å»ºå…¨å±€å›½é™…åŒ–æ–‡ä»¶</li>
  <li>login_zh_CN.properties</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">### è®¾ç½®errorå¸¸é‡ä¸ºé”™è¯¯
</span><span class="py">error</span><span class="p">=</span><span class="se">\u9519\u</span><span class="s">8BEF</span>
<span class="c">### è®¾ç½®successå¸¸é‡ä¸ºæˆåŠŸ
</span><span class="py">success</span><span class="p">=</span><span class="se">\u6210\u</span><span class="s">529F</span>
<span class="c">### è®¾ç½®nameå¸¸é‡ä¸ºå§“å
</span><span class="py">name</span><span class="p">=</span><span class="se">\u</span><span class="s">59D3</span><span class="se">\u</span><span class="s">540D</span>
<span class="c">### è®¾ç½®telå¸¸é‡ä¸ºç”µè¯å·ç 
</span><span class="py">tel</span><span class="p">=</span><span class="se">\u7535\u</span><span class="s">8BDD</span><span class="se">\u</span><span class="s">53F7</span><span class="se">\u7801</span>
<span class="c">### è®¾ç½®ageå¸¸é‡ä¸ºå¹´é¾„
</span><span class="py">age</span><span class="p">=</span><span class="se">\u</span><span class="s">5E74</span><span class="se">\u</span><span class="s">9F84</span>
<span class="c">### è®¾ç½®welcomeå¸¸é‡ä¸ºæ¬¢è¿æ³¨å†Œ
</span><span class="py">welcome</span><span class="p">=</span><span class="se">\u</span><span class="s">6B22</span><span class="se">\u</span><span class="s">8FCE</span><span class="se">\u</span><span class="s">6CE8</span><span class="se">\u</span><span class="s">518C</span><span class="se">\u</span><span class="s">FF01</span>
</code></pre></div></div>

<ul>
  <li>login_en_US.properties</li>
</ul>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">error</span><span class="p">=</span><span class="s">Error</span>
<span class="py">success</span><span class="p">=</span><span class="s">Success</span>
<span class="py">name</span><span class="p">=</span><span class="s">Name</span>
<span class="py">tel</span><span class="p">=</span><span class="s">Tel</span>
<span class="py">age</span><span class="p">=</span><span class="s">Age</span>
<span class="py">welcome</span><span class="p">=</span><span class="s">Welcome to Login!</span>
</code></pre></div></div>

<ul>
  <li>index.jsp</li>
  <li>ç”¨<code class="language-plaintext highlighter-rouge">&lt;s:text name="welcome"/&gt;</code>å–å‡ºå›½é™…åŒ–èµ„æºä¸­çš„å†…å®¹</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;center&gt;</span>
<span class="nt">&lt;h3&gt;</span>
<span class="nt">&lt;s:text </span><span class="na">name=</span><span class="s">"welcome"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;s:form </span><span class="na">action=</span><span class="s">"login"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"name"</span><span class="na"> key=</span><span class="s">"name"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"age"</span><span class="na"> key=</span><span class="s">"age"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;s:textfield </span><span class="na">name=</span><span class="s">"tel"</span><span class="na"> key=</span><span class="s">"tel"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;s:submit </span><span class="na">method=</span><span class="s">"log"</span><span class="nt">&gt;&lt;/s:submit&gt;</span>
<span class="nt">&lt;/s:form&gt;</span>
<span class="nt">&lt;/center&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>hello.jsp</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@ taglib </span><span class="na">prefix=</span><span class="s">"s"</span><span class="na"> uri=</span><span class="s">"/struts-tags"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;center&gt;</span>
    Name:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"name"</span><span class="nt">/&gt;&lt;br/&gt;</span>
    Age:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"age"</span><span class="nt">/&gt;&lt;br/&gt;</span>
    Telephone:<span class="nt">&lt;s:property </span><span class="na">value=</span><span class="s">"tel"</span><span class="nt">/&gt;&lt;br/&gt;</span>
  <span class="nt">&lt;/center&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

:ET